import{a as Me,c as ye,g as H,h as q,j as L,n as $,s as Te}from"./chunk-HS6QBH67.js";import{a as Ie,b as l,c as Se,d as z,e as Ne,f as h,g as we,h as Fe,i as Oe,j as ke,k as Pe,l as De,m as Ve,n as N,p as Ae,q as Ee,r as qe,s as U,t as Le,u as $e,v as ze,w as Ue,x as je,y as Ge}from"./chunk-WB7E7LYY.js";import{i as Ce,j as xe,k as be,l as _e,q as ve}from"./chunk-XO4FADRN.js";import{o as de,v as ue,w as fe,x as he,y as ge,z as E}from"./chunk-IZFIIXU2.js";import"./chunk-543JV44P.js";import{Y as ce,d as me,w as pe}from"./chunk-OR7O3O7G.js";import{k as se,l as le,m as V,n as A}from"./chunk-3OV2KVJT.js";import{$b as ie,Bb as p,Db as B,Gb as b,Hb as Y,Jb as ee,K,Kb as te,Lb as c,Mb as d,Nb as m,Ob as ne,Ub as I,Wb as f,_b as oe,a as R,ac as re,bc as P,cc as D,ec as e,fc as S,ic as ae,lc as M,ob as s,oc as w,pb as v,pc as F,ra as O,rb as W,sa as _,u as Q,ua as Z,ub as X,wa as J,wb as T,xb as k,zb as g}from"./chunk-LNVCPBNY.js";var x=class x{static notInclude(...n){return r=>{if(r.value){if(typeof r.value=="string"&&n.some(t=>x.includes(r.value,t)))return{notInclude:!0};if(Array.isArray(r.value)&&n.some(t=>r.value.some(i=>x.includes(i,t))))return{notInclude:!0}}return null}}static notMatch(...n){return r=>r.value&&n.some(t=>r.value.toLowerCase().trim()===t.toLowerCase().trim())?{notMatch:!0}:null}static modId(n){return[...x.modTitle,l.pattern(`[a-z0-9${n}]+`)]}static includes(n,r){return n.toLowerCase().trim().includes(r.toLowerCase().trim())}};x.modIdMinLength=3,x.modIdMaxLength=63,x.modTitle=[l.required,l.minLength(x.modIdMinLength),l.maxLength(x.modIdMaxLength)];var C=x;var G=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275dir=Z({type:n,selectors:[["","step",""]],standalone:!0});let o=n;return o})();function Ke(o,n){if(o&1&&e(0),o&2){let r=f(2).$implicit;S(r.label)}}function Ze(o,n){o&1&&(e(0,`
            `),m(1,"cn-button",5),e(2,`
          `))}function Je(o,n){o&1&&(e(0,`
            `),m(1,"cn-button",6),e(2,`
          `))}function We(o,n){if(o&1&&(e(0,`
      `),c(1,"mat-step"),e(2,`
        `),g(3,Ke,1,1,"ng-template",2),e(4,`
        `),ne(5,3),e(6,`
        `),c(7,"div",4),e(8,`
          `),g(9,Ze,3,0)(10,Je,3,0),d(),e(11,`
      `),d(),e(12,`
    `)),o&2){let r=f(),t=r.$index,i=r.$implicit,a=f();s(5),p("ngTemplateOutlet",a.contents.get(t)),s(4),b(9,(!i.hasBack||i.hasBack())&&t>0?9:-1),s(),b(10,(!i.hasNext||i.hasNext())&&t<a.steps.length-1?10:-1)}}function Xe(o,n){if(o&1&&(e(0,`
    `),g(1,We,13,3)),o&2){let r=n.$implicit;s(),b(1,!r.isVisible||r.isVisible()?1:-1)}}var Re=(()=>{let n=class n{constructor(){this.orientation="horizontal",this.steps=[]}};n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=_({type:n,selectors:[["cn-stepper"]],contentQueries:function(i,a,u){if(i&1&&ie(u,G,4,oe),i&2){let y;P(y=D())&&(a.contents=y)}},inputs:{orientation:[O.HasDecoratorInputTransform,"orientation","orientation",t=>t||"horizontal"],steps:"steps"},standalone:!0,features:[k,M],decls:6,vars:2,consts:[["animationDuration","0",3,"linear","orientation"],["stepper",""],["matStepLabel",""],[3,"ngTemplateOutlet"],[1,"cn-stepper-footer"],["icon","keyboard_arrow_left","label","Previous","stepperKind","previous"],["icon","keyboard_arrow_right","label","Next","stepperKind","next"]],template:function(i,a){i&1&&(c(0,"mat-stepper",0,1),e(2,`
  `),ee(3,Xe,2,1,null,null,Y),d(),e(5,`
`)),i&2&&(p("linear",!0)("orientation",a.orientation),s(3),te(a.steps))},dependencies:[A,le,ge,fe,ue,he,E],styles:["[_nghost-%COMP%]   .cn-stepper-footer[_ngcontent-%COMP%]{display:grid;grid-auto-flow:column;margin-top:24px}[_nghost-%COMP%]   .cn-stepper-footer[_ngcontent-%COMP%] > cn-button[stepperkind=previous][_ngcontent-%COMP%]{justify-self:flex-start}[_nghost-%COMP%]   .cn-stepper-footer[_ngcontent-%COMP%] > cn-button[stepperkind=next][_ngcontent-%COMP%]{justify-self:flex-end}"]});let o=n;return o})();function et(o,n){if(o&1&&(c(0,"mat-hint"),e(1),d()),o&2){let r=f();s(),S(r.hint)}}function tt(o,n){if(o&1&&(c(0,"mat-error"),e(1),d()),o&2){let r=f();s(),S(r.errorMessage)}}var Be=(()=>{let n=class n extends Ee{constructor(t,i,a){super(i,a),this.ngZone=t,this.regex=/(.|\n)*/}blur(){this.onTouched()}input(){this.writeValue(this.value)}resize(){this.ngZone.onStable.pipe(K(1)).subscribe(()=>this.textarea.resizeToFitContent(!0))}};n.\u0275fac=function(i){return new(i||n)(v(X),v(Se),v(W))},n.\u0275cmp=_({type:n,selectors:[["cn-textarea"]],viewQuery:function(i,a){if(i&1&&re(U,5),i&2){let u;P(u=D())&&(a.textarea=u.first)}},inputs:{regex:"regex"},standalone:!0,features:[T,M],decls:11,vars:8,consts:[["appearance","outline","floatLabel","auto"],["autocomplete","off","cdkAutosizeMaxRows","16","cdkAutosizeMinRows","1","cdkTextareaAutosize","","charFilter","","matInput","",3,"disabled","errorStateMatcher","regex","required","ngModel","ngModelChange","blur","input"]],template:function(i,a){i&1&&(e(0,`
`),c(1,"mat-form-field",0),e(2,`
  `),c(3,"mat-label"),e(4),d(),e(5,`
  `),c(6,"textarea",1),I("ngModelChange",function(y){return a.value=y})("blur",function(){return a.blur()})("input",function(){return a.input()}),d(),e(7,`
  `),g(8,et,2,1,"mat-hint")(9,tt,2,1,"mat-error"),d(),e(10,`
`)),i&2&&(s(4),S(a.label),s(2),p("disabled",a.isDisabled)("errorStateMatcher",a.errorMatcher)("regex",a.regex)("required",a.isRequired)("ngModel",a.value),s(2),b(8,a.hint?8:-1),s(),b(9,a.invalid?9:-1))},dependencies:[De,Ie,z,Pe,we,$e,Le,ve,xe,_e,be,U,ze],styles:["[_nghost-%COMP%]{-webkit-user-select:none;user-select:none}"]});let o=n;return o})();function nt(o,n){if(o&1&&(e(0,`
        `),c(1,"div",6),e(2,`
          `),m(3,"cn-select",7),e(4,`
          `),m(5,"cn-checkbox",8),e(6,`
          `),m(7,"cn-select",9),e(8,`
          `),m(9,"cn-select",10),e(10,`
        `),d(),e(11,`
      `)),o&2){let r=f(),t=f();s(3),p("ngClass",t.getCellSpan(r,6))("options",t.versions),s(2),p("ngClass",t.getCellSpan(r,6)+" "+r),s(2),p("multiple",!0)("ngClass",t.getCellSpan(r,6))("options",t.loaders),s(2),p("multiple",!0)("ngClass",t.getCellSpan(r,6))("options",t.platforms)}}function ot(o,n){if(o&1&&(e(0,`
        `),c(1,"div",6),e(2,`
          `),m(3,"cn-input",11),e(4,`
          `),m(5,"cn-checkbox",12),e(6,`
          `),m(7,"cn-input",13),e(8,`
          `),m(9,"cn-input",14),e(10,`
        `),d(),e(11,`
      `)),o&2){let r=f(),t=f();s(3),p("ngClass",t.getCellSpan(r,6)),s(2),p("ngClass",t.getCellSpan(r,6)+" "+r),s(2),p("ngClass",t.getCellSpan(r,6)),s(2),p("ngClass",t.getCellSpan(r,6))}}function it(o,n){if(o&1&&(e(0,`
        `),c(1,"div",6),e(2,`
          `),m(3,"cn-textarea",15),e(4,`
        `),d(),e(5,`
      `)),o&2){let r=f();s(),B("short-step",r==="horizontal")}}function rt(o,n){if(o&1&&(e(0,`
        `),c(1,"div",6),e(2,`
          `),m(3,"cn-input",16),e(4,`
          `),m(5,"cn-input",17),e(6,`
          `),m(7,"cn-input",18),e(8,`
        `),d(),e(9,`
      `)),o&2){let r=f(),t=f();s(),B("short-step",r==="horizontal"),s(2),p("ngClass",t.getCellSpan(r,4)),s(2),p("ngClass",t.getCellSpan(r,4)),s(2),p("ngClass",t.getCellSpan(r,4))}}function at(o,n){if(o&1&&(e(0,`
    `),c(1,"cn-stepper",4),e(2,`
      `),g(3,nt,12,9,"ng-template",5),e(4,`
      `),g(5,ot,12,4,"ng-template",5),e(6,`
      `),g(7,it,6,2,"ng-template",5),e(8,`
      `),g(9,rt,10,5,"ng-template",5),e(10,`
    `),d(),e(11,`
  `)),o&2){let r=f();s(),p("orientation",n)("steps",r.steps)}}var He=(()=>{let n=class n extends Ae{constructor(t){super(),this.breakpointObserver=t,this.stepperOrientation$=this.breakpointObserver.observe("(min-width: 46.25rem)").pipe(Q(({matches:i})=>i?"horizontal":"vertical"),this.takeUntil()),this.steps=[{label:"Minecraft and loaders"},{label:"Project details"},{label:"Project description",hasNext:()=>!this.form.controls.crystalNestMod.value},{label:"Ownership",isVisible:()=>!this.form.controls.crystalNestMod.value}],this.platforms={maven:"Maven",github:"GitHub",modrinth:"Modrinth",curseforge:"CurseForge"},this.neoforgeTransitionVersion=20,this.loaders=R({},N)}ngOnChanges(t){t.versions&&this.form.controls.minecraftVersion.setValue(Object.values(this.versions)[0])}ngOnInit(){this.valueChanges("minecraftVersion",t=>{let[i,a]=t.split(".").slice(1).map(u=>+u);i<this.neoforgeTransitionVersion||i===this.neoforgeTransitionVersion&&a===1?(this.form.controls.loaders.setValue(Object.keys(N).filter(u=>u!=="neoforge")),this.form.controls.loaders.setValidators([l.required,C.notInclude("neoforge")]),delete this.loaders.neoforge):i>this.neoforgeTransitionVersion?(this.form.controls.loaders.setValue(Object.keys(N).filter(u=>u!=="forge")),this.form.controls.loaders.setValidators([l.required,C.notInclude("forge")]),delete this.loaders.forge):(this.form.controls.loaders.setValidators(l.required),this.loaders=R({},N),this.form.controls.loaders.setValue(Object.keys(N)))},(t,i)=>!!(i&&t)),this.valueChanges("autogenModId",t=>{t?(this.form.controls.modId.disable(),this.form.controls.modIdKebab.disable(),this.updateModId(this.form.controls.modTitle.value)):(this.form.controls.modId.enable(),this.form.controls.modIdKebab.enable())}),this.valueChanges("modTitle",t=>this.updateModId(t),t=>(t??0)===t&&this.form.controls.autogenModId.value),this.valueChanges("crystalNestMod",t=>{t?(this.form.controls.group.disable(),this.form.controls.authors.disable(),this.form.controls.githubUser.disable(),this.form.controls.group.setValue(q),this.form.controls.authors.setValue(L.join(", ")),this.form.controls.githubUser.setValue($),this.form.controls.group.setValidators(l.required),this.form.controls.authors.setValidators(l.required),this.form.controls.githubUser.setValidators(l.required)):(this.form.controls.group.enable(),this.form.controls.authors.enable(),this.form.controls.githubUser.enable(),this.form.controls.group.setValue(""),this.form.controls.authors.setValue(""),this.form.controls.githubUser.setValue(""),this.form.controls.group.setValidators([l.required,C.notInclude(q,".idea","common","fabric","forge","neoforge","gradle","wrapper","src","main","java","resources","mixin","platform","model","services","META-INF"),l.pattern("^([a-z]+(.|_))*[a-z]+$")]),this.form.controls.authors.setValidators([l.required,C.notInclude(...L)]),this.form.controls.githubUser.setValidators([l.required,C.notMatch($)])),this.form.controls.group.markAsPristine(),this.form.controls.group.markAsUntouched(),this.form.controls.authors.markAsPristine(),this.form.controls.authors.markAsUntouched(),this.form.controls.githubUser.markAsPristine(),this.form.controls.githubUser.markAsUntouched()})}getCellSpan(t,i){switch(t){case"vertical":return"cn-cell-12";case"horizontal":default:return`cn-cell-${i}`}}initForm(){return{minecraftVersion:new h("",{nonNullable:!0,validators:l.required}),group:new h(q,{nonNullable:!0,validators:l.required}),authors:new h(L.join(", "),{nonNullable:!0,validators:l.required}),modTitle:new h("Cobweb Mod Skeleton",{nonNullable:!0,validators:C.modTitle}),modId:new h("cobweb_mod_skeleton",{nonNullable:!0,validators:C.modId("_")}),modIdKebab:new h("cobweb-mod-template",{nonNullable:!0,validators:C.modId("-")}),loaders:new h(["fabric","forge","neoforge"],{nonNullable:!0,validators:l.required}),platforms:new h(["maven","github","modrinth","curseforge"],{nonNullable:!0,validators:l.required}),githubUser:new h($,{nonNullable:!0,validators:l.required}),description:new h("MultiLoader Mod Skeleton!",{nonNullable:!0,validators:l.required}),crystalNestMod:new h(!1,{nonNullable:!0,validators:l.required}),autogenModId:new h(!0,{nonNullable:!0,validators:l.required}),includeConfig:new h(!0,{nonNullable:!0,validators:l.required})}}updateModId(t){this.form.controls.modId.setValue(this.parseModTitle(t,"_")),this.form.controls.modIdKebab.setValue(this.parseModTitle(t,"-"))}parseModTitle(t,i){return t.toLowerCase().replaceAll(/[^0-9a-z]/g," ").trim().replaceAll(" ",i)}};n.\u0275fac=function(i){return new(i||n)(v(pe))},n.\u0275cmp=_({type:n,selectors:[["cn-generator-form"]],inputs:{versions:[O.HasDecoratorInputTransform,"versions","versions",t=>t||{}]},standalone:!0,features:[k,T,J,M],decls:12,vars:5,consts:[[3,"formGroup"],[1,"cn-grid","form-footer"],["formControlName","crystalNestMod","label","Are you a Crystal Nest's member?",1,"cn-cell-8"],["icon","download","label","Download",1,"cn-cell-4","align-self-end",3,"isDisabled","click"],[3,"orientation","steps"],["step",""],[1,"cn-grid"],["formControlName","minecraftVersion","hint","Target Minecraft version","label","Minecraft version",3,"ngClass","options"],["formControlName","includeConfig","label","Include configuration",3,"ngClass"],["formControlName","loaders","hint","Which mod loaders to support","label","Loaders",3,"multiple","ngClass","options"],["formControlName","platforms","hint","Which platforms to publish on","label","Platforms",3,"multiple","ngClass","options"],["formControlName","modTitle","hint","Mod name","label","Mod title",3,"ngClass"],["formControlName","autogenModId","label","Autogenerate IDs",3,"ngClass"],["formControlName","modId","hint","Mod unique identifier","label","Mod ID","regex","^[a-z0-9_]+$",3,"ngClass"],["formControlName","modIdKebab","hint","Mod ID for URLs and packages","label","Mod ID kebab-case","regex","^[a-z0-9-]+$",3,"ngClass"],["formControlName","description","hint","Allows for multiline text","label","Mod description",1,"cn-cell-12"],["formControlName","group","hint","Java group","label","Java group",3,"ngClass"],["formControlName","authors","hint","Comma separaed authors","label","Mod authors",3,"ngClass"],["formControlName","githubUser","hint","GitHub name","label","GitHub owner",3,"ngClass"]],template:function(i,a){if(i&1&&(c(0,"form",0),e(1,`
  `),g(2,at,12,2),w(3,"async"),c(4,"div",1),e(5,`
    `),m(6,"cn-toggle",2),e(7,`
    `),c(8,"cn-button",3),I("click",function(){return a.emitSubmit()}),d(),e(9,`
  `),d(),e(10,`
`),d(),e(11,`
`)),i&2){let u;p("formGroup",a.form),s(2),b(2,(u=F(3,3,a.stepperOrientation$))?2:-1,u),s(6),p("isDisabled",!a.validity)}},dependencies:[A,se,V,G,ce,Ve,Fe,z,Ne,Oe,ke,Ue,qe,Re,Ge,je,E,Be],styles:["[_nghost-%COMP%]   form[_ngcontent-%COMP%]{min-width:28.25rem}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   cn-checkbox.horizontal[_ngcontent-%COMP%]{padding-bottom:1.25rem}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   cn-checkbox.vertical[_ngcontent-%COMP%]{padding-bottom:.75rem}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .short-step[_ngcontent-%COMP%]{align-items:center;height:156px}[_nghost-%COMP%]   form[_ngcontent-%COMP%]   .form-footer[_ngcontent-%COMP%]{padding:1rem}"]});let o=n;return o})();var an=(()=>{let n=class n extends Ce{constructor(t){super(),this.store$=t,this.versions$=this.store$.select(H.selectMinecraftVersions),this.form$=this.store$.select(H.selectForm),this.store$.dispatch(Me())}buildSkeleton(t){this.store$.dispatch(ye(t))}};n.\u0275fac=function(i){return new(i||n)(v(de))},n.\u0275cmp=_({type:n,selectors:[["cn-generator"]],standalone:!0,features:[ae([Te]),T,M],decls:17,vars:6,consts:[[3,"formData","versions","onSubmit"]],template:function(i,a){i&1&&(e(0,`This generator assumes the use of IntelliJ IDEA as IDE.
`),m(1,"br"),e(2,`
It assumes you will publish your code publicly on GitHub.
`),m(3,"br"),e(4,`
The default license is GPL-3.0, but you can change it to the one that better fits your needs.
`),m(5,"br"),e(6,`
If you do not publish your source code on GitHub, make sure to change the automatically generated changelog string when publishing your version (in the root build.gradle) to point to the correct changelog.
`),m(7,"br"),e(8,`

`),c(9,"cn-generator-form",0),I("onSubmit",function(y){return a.buildSkeleton(y)}),w(10,"async"),w(11,"async"),d(),e(12,`

`),m(13,"br"),e(14,`
Follow the instruction on the readme to finish the setup!
`),m(15,"br"),e(16,`
More questions? Come chat on our Discord!
`)),i&2&&(s(9),p("formData",F(10,2,a.form$))("versions",F(11,4,a.versions$)))},dependencies:[V,me,He],styles:["[_nghost-%COMP%]{padding:2rem}@media (max-width: 46.25rem){[_nghost-%COMP%]{padding:1rem}}"]});let o=n;return o})();export{an as GeneratorComponent};
