import{a as ge,c as xe,g as $,h as D,j as V,n as E,s as be}from"./chunk-AL2QKGEJ.js";import{a as Ce,b as a,c as ve,d as k,e as _e,f as d,g as Me,h as Te,i as Ie,j as ye,k as Se,l as Ne,m as Fe,n as we,p as De,q as Ve,r as Ee,s as ke,t as q,u as qe,v as Le,w as Ae,x as Oe,y as Pe,z as $e}from"./chunk-TREBQN2R.js";import{N as ae,T as le,d as re,ja as se,ka as me,la as pe,ma as ce,na as w,oa as ue,pa as de,qa as fe,va as he}from"./chunk-HKMIRJN3.js";import{l as oe,m as ne,n as ie}from"./chunk-HPOY2XHW.js";import{$b as N,Ba as G,Bb as u,Gb as _,Hb as K,Jb as Z,K as z,Kb as J,Lb as m,Mb as p,Nb as c,Ob as W,Tb as y,Ub as g,Yb as X,Zb as Y,_b as ee,ac as F,cc as e,dc as S,fc as te,ic as v,lc as O,mc as P,ob as s,pb as T,ra as R,rb as B,sa as C,ua as U,ub as Q,wa as j,wb as I,xb as H,zb as f}from"./chunk-ET7S4RT5.js";var x=class x{static notInclude(...t){return l=>l.value&&typeof l.value=="string"&&t.some(n=>l.value.toLowerCase().trim().includes(n.toLowerCase().trim()))?{notInclude:!0}:null}static notMatch(...t){return l=>l.value&&t.some(n=>l.value.toLowerCase().trim()===n.toLowerCase().trim())?{notMatch:!0}:null}static modId(t){return[...x.modTitle,a.pattern(`[a-z0-9${t}]+`)]}};x.modIdMinLength=3,x.modIdMaxLength=63,x.modTitle=[a.required,a.minLength(x.modIdMinLength),a.maxLength(x.modIdMaxLength),x.notMatch("cobweb")];var b=x;var A=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=U({type:t,selectors:[["","step",""]],standalone:!0});let o=t;return o})();function je(o,t){if(o&1&&e(0),o&2){let l=g(2).$implicit;S(l.label)}}function Ge(o,t){o&1&&(e(0,`
            `),c(1,"cn-button",5),e(2,`
          `))}function Be(o,t){o&1&&(e(0,`
            `),c(1,"cn-button",6),e(2,`
          `))}function Qe(o,t){if(o&1&&(e(0,`
      `),m(1,"mat-step"),e(2,`
        `),f(3,je,1,1,"ng-template",2),e(4,`
        `),W(5,3),e(6,`
        `),m(7,"div",4),e(8,`
          `),f(9,Ge,3,0)(10,Be,3,0),p(),e(11,`
      `),p(),e(12,`
    `)),o&2){let l=g(),n=l.$index,i=l.$implicit,r=g();s(5),u("ngTemplateOutlet",r.contents.get(n)),s(4),_(9,(!i.hasBack||i.hasBack())&&n>0?9:-1),s(),_(10,(!i.hasNext||i.hasNext())&&n<r.steps.length-1?10:-1)}}function He(o,t){if(o&1&&(e(0,`
    `),f(1,Qe,13,3)),o&2){let l=t.$implicit;s(),_(1,!l.isVisible||l.isVisible()?1:-1)}}var ze=(()=>{let t=class t{constructor(){this.steps=[]}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=C({type:t,selectors:[["cn-stepper"]],contentQueries:function(i,r,h){if(i&1&&Y(h,A,4,X),i&2){let M;N(M=F())&&(r.contents=M)}},inputs:{steps:"steps"},standalone:!0,features:[v],decls:6,vars:1,consts:[["animationDuration","0","orientation","horizontal",3,"linear"],["stepper",""],["matStepLabel",""],[3,"ngTemplateOutlet"],[1,"cn-stepper-footer"],["icon","keyboard_arrow_left","label","Previous","stepperKind","previous"],["icon","keyboard_arrow_right","label","Next","stepperKind","next"]],template:function(i,r){i&1&&(m(0,"mat-stepper",0,1),e(2,`
  `),Z(3,He,2,1,null,null,K),p(),e(5,`
`)),i&2&&(u("linear",!0),s(3),J(r.steps))},dependencies:[ie,oe,ce,me,se,pe,w],styles:["[_nghost-%COMP%]   .cn-stepper-footer[_ngcontent-%COMP%]{display:grid;grid-auto-flow:column;margin-top:24px}[_nghost-%COMP%]   .cn-stepper-footer[_ngcontent-%COMP%] > cn-button[stepperkind=previous][_ngcontent-%COMP%]{justify-self:flex-start}[_nghost-%COMP%]   .cn-stepper-footer[_ngcontent-%COMP%] > cn-button[stepperkind=next][_ngcontent-%COMP%]{justify-self:flex-end}"]});let o=t;return o})();function Ze(o,t){if(o&1&&(m(0,"mat-hint"),e(1),p()),o&2){let l=g();s(),S(l.hint)}}function Je(o,t){if(o&1&&(m(0,"mat-error"),e(1),p()),o&2){let l=g();s(),S(l.errorMessage)}}var Re=(()=>{let t=class t extends Ee{constructor(n,i,r){super(i,r),this.ngZone=n,this.regex=/(.|\n)*/}blur(){this.onTouched()}input(){this.writeValue(this.value)}resize(){this.ngZone.onStable.pipe(z(1)).subscribe(()=>this.textarea.resizeToFitContent(!0))}};t.\u0275fac=function(i){return new(i||t)(T(Q),T(ve),T(B))},t.\u0275cmp=C({type:t,selectors:[["cn-textarea"]],viewQuery:function(i,r){if(i&1&&ee(q,5),i&2){let h;N(h=F())&&(r.textarea=h.first)}},inputs:{regex:"regex"},standalone:!0,features:[I,v],decls:11,vars:8,consts:[["appearance","outline","floatLabel","auto"],["autocomplete","off","cdkAutosizeMinRows","1","cdkTextareaAutosize","","charFilter","","matInput","",3,"disabled","errorStateMatcher","regex","required","ngModel","ngModelChange","blur","input"]],template:function(i,r){i&1&&(e(0,`
`),m(1,"mat-form-field",0),e(2,`
  `),m(3,"mat-label"),e(4),p(),e(5,`
  `),m(6,"textarea",1),y("ngModelChange",function(M){return r.value=M})("blur",function(){return r.blur()})("input",function(){return r.input()}),p(),e(7,`
  `),f(8,Ze,2,1,"mat-hint")(9,Je,2,1,"mat-error"),p(),e(10,`
`)),i&2&&(s(4),S(r.label),s(2),u("disabled",r.isDisabled)("errorStateMatcher",r.errorMatcher)("regex",r.regex)("required",r.isRequired)("ngModel",r.value),s(2),_(8,r.hint?8:-1),s(),_(9,r.invalid?9:-1))},dependencies:[Ne,Ce,k,Se,Me,Le,qe,he,ue,fe,de,q,Ae],styles:["[_nghost-%COMP%]{-webkit-user-select:none;user-select:none}"]});let o=t;return o})();function We(o,t){if(o&1&&(e(0,`
      `),m(1,"div",5),e(2,`
        `),c(3,"cn-select",6),e(4,`
        `),c(5,"cn-checkbox",7),e(6,`
        `),c(7,"cn-select",8),e(8,`
        `),c(9,"cn-select",9),e(10,`
      `),p(),e(11,`
    `)),o&2){let l=g();s(3),u("options",l.versions),s(4),u("multiple",!0)("options",l.loaders),s(2),u("multiple",!0)("options",l.platforms)}}function Xe(o,t){o&1&&(e(0,`
      `),m(1,"div",5),e(2,`
        `),c(3,"cn-input",10),e(4,`
        `),c(5,"cn-checkbox",11),e(6,`
        `),c(7,"cn-input",12),e(8,`
        `),c(9,"cn-input",13),e(10,`
      `),p(),e(11,`
    `))}function Ye(o,t){o&1&&(e(0,`
      `),m(1,"div",5),e(2,`
        `),c(3,"cn-textarea",14),e(4,`
      `),p(),e(5,`
    `))}function et(o,t){o&1&&(e(0,`
      `),m(1,"div",5),e(2,`
        `),c(3,"cn-input",15),e(4,`
        `),c(5,"cn-input",16),e(6,`
        `),c(7,"cn-input",17),e(8,`
      `),p(),e(9,`
    `))}var Ue=(()=>{let t=class t extends Ve{constructor(){super(...arguments),this.steps=[{label:"Minecraft and loaders"},{label:"Project details"},{label:"Project description",hasNext:()=>!this.form.controls.crystalNestMod.value},{label:"Ownership",isVisible:()=>!this.form.controls.crystalNestMod.value}],this.loaders=we,this.platforms={maven:"Maven",github:"GitHub",modrinth:"Modrinth",curseforge:"CurseForge"}}ngOnChanges(n){n.versions&&this.form.controls.minecraftVersion.setValue(Object.values(this.versions)[0])}ngOnInit(){this.valueChanges("autogenModId",n=>{n?(this.form.controls.modId.disable(),this.form.controls.modIdKebab.disable(),this.updateModId(this.form.controls.modTitle.value)):(this.form.controls.modId.enable(),this.form.controls.modIdKebab.enable())}),this.valueChanges("modTitle",n=>this.updateModId(n),n=>(n??0)===n&&this.form.controls.autogenModId.value),this.valueChanges("crystalNestMod",n=>{n?(this.form.controls.group.disable(),this.form.controls.authors.disable(),this.form.controls.githubUser.disable(),this.form.controls.group.setValue(D),this.form.controls.authors.setValue(V.join(", ")),this.form.controls.githubUser.setValue(E),this.form.controls.group.setValidators([a.required]),this.form.controls.authors.setValidators([a.required]),this.form.controls.githubUser.setValidators([a.required])):(this.form.controls.group.enable(),this.form.controls.authors.enable(),this.form.controls.githubUser.enable(),this.form.controls.group.setValue(""),this.form.controls.authors.setValue(""),this.form.controls.githubUser.setValue(""),this.form.controls.group.setValidators([a.required,b.notInclude(D,".idea","common","fabric","forge","neoforge","gradle","wrapper","src","main","java","resources","mixin","platform","model","services","META-INF"),a.pattern("^([a-z]+(.|_))*[a-z]+$")]),this.form.controls.authors.setValidators([a.required,b.notInclude(...V)]),this.form.controls.githubUser.setValidators([a.required,b.notMatch(E)])),this.form.controls.group.updateValueAndValidity(),this.form.controls.authors.updateValueAndValidity(),this.form.controls.githubUser.updateValueAndValidity()})}initForm(){return{minecraftVersion:new d("",{nonNullable:!0,validators:a.required}),group:new d(D,{nonNullable:!0,validators:a.required}),authors:new d(V.join(", "),{nonNullable:!0,validators:a.required}),modTitle:new d("Cobweb Mod Skeleton",{nonNullable:!0,validators:b.modTitle}),modId:new d("cobweb_mod_skeleton",{nonNullable:!0,validators:b.modId("_")}),modIdKebab:new d("cobweb-mod-template",{nonNullable:!0,validators:b.modId("-")}),loaders:new d(["fabric","forge","neoforge"],{nonNullable:!0,validators:a.required}),platforms:new d(["maven","github","modrinth","curseforge"],{nonNullable:!0,validators:a.required}),githubUser:new d(E,{nonNullable:!0,validators:a.required}),description:new d("MultiLoader Mod Skeleton!",{nonNullable:!0,validators:a.required}),crystalNestMod:new d(!0,{nonNullable:!0,validators:a.required}),autogenModId:new d(!0,{nonNullable:!0,validators:a.required}),includeConfig:new d(!0,{nonNullable:!0,validators:a.required})}}updateModId(n){this.form.controls.modId.setValue(this.parseModTitle(n,"_")),this.form.controls.modIdKebab.setValue(this.parseModTitle(n,"-"))}parseModTitle(n,i){return n.toLowerCase().replaceAll(/[^0-9a-z]/g," ").trim().replaceAll(" ",i)}};t.\u0275fac=(()=>{let n;return function(r){return(n||(n=G(t)))(r||t)}})(),t.\u0275cmp=C({type:t,selectors:[["cn-generator-form"]],inputs:{versions:[R.HasDecoratorInputTransform,"versions","versions",n=>n||{}]},standalone:!0,features:[H,I,j,v],decls:18,vars:3,consts:[[3,"formGroup"],["formControlName","crystalNestMod","label","Are you a Crystal Nest's member?",1,"cn-cell-3"],[3,"steps"],["step",""],["icon","download","label","Download",3,"isDisabled","click"],[1,"cn-grid"],["formControlName","minecraftVersion","hint","Target Minecraft version","label","Minecraft version",1,"cn-cell-6",3,"options"],["formControlName","includeConfig","label","Include configuration",1,"cn-cell-6"],["formControlName","loaders","hint","Which mod loaders to support","label","Loaders",1,"cn-cell-6",3,"multiple","options"],["formControlName","platforms","hint","Which platforms to publish on","label","Platforms",1,"cn-cell-6",3,"multiple","options"],["formControlName","modTitle","label","Mod title",1,"cn-cell-6"],["formControlName","autogenModId","label","Autogenerate IDs",1,"cn-cell-6"],["formControlName","modId","hint","Mod unique identifier","label","Mod ID","regex","^[a-z0-9_]+$",1,"cn-cell-6"],["formControlName","modIdKebab","label","Mod ID kebab-case","regex","^[a-z0-9-]+$",1,"cn-cell-6"],["formControlName","description","label","Mod description",1,"cn-cell-6"],["formControlName","group","hint","Java group, es. `it.crystalnest`","label","Java group",1,"cn-cell-4"],["formControlName","authors","hint","List of authors separated by a comma","label","Mod authors",1,"cn-cell-4"],["formControlName","githubUser","hint","Name of the GitHub account/organization where the source code is hosted","label","GitHub owner",1,"cn-cell-4"]],template:function(i,r){i&1&&(m(0,"form",0),e(1,`
  `),c(2,"cn-toggle",1),e(3,`
  `),m(4,"cn-stepper",2),e(5,`
    `),f(6,We,12,5,"ng-template",3),e(7,`
    `),f(8,Xe,12,0,"ng-template",3),e(9,`
    `),f(10,Ye,6,0,"ng-template",3),e(11,`
    `),f(12,et,10,0,"ng-template",3),e(13,`
  `),p(),e(14,`
`),p(),e(15,`
`),m(16,"cn-button",4),y("click",function(){return r.emitSubmit()}),p(),e(17,`
`)),i&2&&(u("formGroup",r.form),s(4),u("steps",r.steps),s(12),u("isDisabled",!r.validity))},dependencies:[A,ae,Fe,Te,k,_e,Ie,ye,Oe,ke,ze,$e,Pe,w,Re]});let o=t;return o})();var Jt=(()=>{let t=class t extends De{constructor(n){super(),this.store$=n,this.versions$=this.store$.select($.selectMinecraftVersions),this.form$=this.store$.select($.selectForm),this.store$.dispatch(ge())}buildSkeleton(n){this.store$.dispatch(xe(n))}};t.\u0275fac=function(i){return new(i||t)(T(le))},t.\u0275cmp=C({type:t,selectors:[["cn-generator"]],standalone:!0,features:[te([be]),I,v],decls:5,vars:6,consts:[[3,"formData","versions","onSubmit"]],template:function(i,r){i&1&&(e(0,`This generator assumes the use of IntelliJ IDEA as IDE. Etc.
`),m(1,"cn-generator-form",0),y("onSubmit",function(M){return r.buildSkeleton(M)}),O(2,"async"),O(3,"async"),p(),e(4,`
Follow the instruction on the readme to finish the setup!
`)),i&2&&(s(),u("formData",P(2,2,r.form$))("versions",P(3,4,r.versions$)))},dependencies:[ne,re,Ue]});let o=t;return o})();export{Jt as GeneratorComponent};
