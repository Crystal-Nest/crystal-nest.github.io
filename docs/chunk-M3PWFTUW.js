import{a as Ce,c as ve,g as G,h as V,j as D,n as q,s as _e}from"./chunk-HS6QBH67.js";import{a as Me,b as s,c as ye,d as E,e as Ie,f as p,g as Te,h as Se,i as Ne,j as Fe,k as we,l as Ve,m as De,n as z,p as qe,q as Ee,r as ke,s as k,t as Le,u as Ae,v as Oe,w as Pe,x as $e,y as Ge}from"./chunk-WB7E7LYY.js";import{i as fe,j as he,k as ge,l as be,q as xe}from"./chunk-XO4FADRN.js";import{o as me,v as ue,w as ce,x as de,y as pe,z as w}from"./chunk-IZFIIXU2.js";import"./chunk-543JV44P.js";import{Y as le,d as se}from"./chunk-OR7O3O7G.js";import{l as ie,m as re,n as ae}from"./chunk-3OV2KVJT.js";import{$b as te,Ba as B,Bb as d,Gb as _,Hb as J,Jb as W,K as R,Kb as X,Lb as u,Mb as c,Nb as l,Ob as Y,Ub as T,Wb as x,_b as ee,a as O,ac as oe,bc as N,cc as F,ec as e,fc as S,ic as ne,lc as v,ob as m,oc as P,pb as y,pc as $,ra as U,rb as Q,sa as C,ua as j,ub as K,wa as H,wb as I,xb as Z,zb as f}from"./chunk-LNVCPBNY.js";var g=class g{static notInclude(...t){return a=>{if(a.value){if(typeof a.value=="string"&&t.some(o=>g.includes(a.value,o)))return{notInclude:!0};if(Array.isArray(a.value)&&t.some(o=>a.value.some(i=>g.includes(i,o))))return{notInclude:!0}}return null}}static notMatch(...t){return a=>a.value&&t.some(o=>a.value.toLowerCase().trim()===o.toLowerCase().trim())?{notMatch:!0}:null}static modId(t){return[...g.modTitle,s.pattern(`[a-z0-9${t}]+`)]}static includes(t,a){return t.toLowerCase().trim().includes(a.toLowerCase().trim())}};g.modIdMinLength=3,g.modIdMaxLength=63,g.modTitle=[s.required,s.minLength(g.modIdMinLength),s.maxLength(g.modIdMaxLength)];var h=g;var A=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275dir=j({type:t,selectors:[["","step",""]],standalone:!0});let n=t;return n})();function je(n,t){if(n&1&&e(0),n&2){let a=x(2).$implicit;S(a.label)}}function He(n,t){n&1&&(e(0,`
            `),l(1,"cn-button",5),e(2,`
          `))}function Be(n,t){n&1&&(e(0,`
            `),l(1,"cn-button",6),e(2,`
          `))}function Qe(n,t){if(n&1&&(e(0,`
      `),u(1,"mat-step"),e(2,`
        `),f(3,je,1,1,"ng-template",2),e(4,`
        `),Y(5,3),e(6,`
        `),u(7,"div",4),e(8,`
          `),f(9,He,3,0)(10,Be,3,0),c(),e(11,`
      `),c(),e(12,`
    `)),n&2){let a=x(),o=a.$index,i=a.$implicit,r=x();m(5),d("ngTemplateOutlet",r.contents.get(o)),m(4),_(9,(!i.hasBack||i.hasBack())&&o>0?9:-1),m(),_(10,(!i.hasNext||i.hasNext())&&o<r.steps.length-1?10:-1)}}function Ke(n,t){if(n&1&&(e(0,`
    `),f(1,Qe,13,3)),n&2){let a=t.$implicit;m(),_(1,!a.isVisible||a.isVisible()?1:-1)}}var ze=(()=>{let t=class t{constructor(){this.steps=[]}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=C({type:t,selectors:[["cn-stepper"]],contentQueries:function(i,r,b){if(i&1&&te(b,A,4,ee),i&2){let M;N(M=F())&&(r.contents=M)}},inputs:{steps:"steps"},standalone:!0,features:[v],decls:6,vars:1,consts:[["animationDuration","0","orientation","horizontal",3,"linear"],["stepper",""],["matStepLabel",""],[3,"ngTemplateOutlet"],[1,"cn-stepper-footer"],["icon","keyboard_arrow_left","label","Previous","stepperKind","previous"],["icon","keyboard_arrow_right","label","Next","stepperKind","next"]],template:function(i,r){i&1&&(u(0,"mat-stepper",0,1),e(2,`
  `),W(3,Ke,2,1,null,null,J),c(),e(5,`
`)),i&2&&(d("linear",!0),m(3),X(r.steps))},dependencies:[ae,ie,pe,ce,ue,de,w],styles:["[_nghost-%COMP%]   .cn-stepper-footer[_ngcontent-%COMP%]{display:grid;grid-auto-flow:column;margin-top:24px}[_nghost-%COMP%]   .cn-stepper-footer[_ngcontent-%COMP%] > cn-button[stepperkind=previous][_ngcontent-%COMP%]{justify-self:flex-start}[_nghost-%COMP%]   .cn-stepper-footer[_ngcontent-%COMP%] > cn-button[stepperkind=next][_ngcontent-%COMP%]{justify-self:flex-end}"]});let n=t;return n})();function Je(n,t){if(n&1&&(u(0,"mat-hint"),e(1),c()),n&2){let a=x();m(),S(a.hint)}}function We(n,t){if(n&1&&(u(0,"mat-error"),e(1),c()),n&2){let a=x();m(),S(a.errorMessage)}}var Re=(()=>{let t=class t extends Ee{constructor(o,i,r){super(i,r),this.ngZone=o,this.regex=/(.|\n)*/}blur(){this.onTouched()}input(){this.writeValue(this.value)}resize(){this.ngZone.onStable.pipe(R(1)).subscribe(()=>this.textarea.resizeToFitContent(!0))}};t.\u0275fac=function(i){return new(i||t)(y(K),y(ye),y(Q))},t.\u0275cmp=C({type:t,selectors:[["cn-textarea"]],viewQuery:function(i,r){if(i&1&&oe(k,5),i&2){let b;N(b=F())&&(r.textarea=b.first)}},inputs:{regex:"regex"},standalone:!0,features:[I,v],decls:11,vars:8,consts:[["appearance","outline","floatLabel","auto"],["autocomplete","off","cdkAutosizeMinRows","1","cdkTextareaAutosize","","charFilter","","matInput","",3,"disabled","errorStateMatcher","regex","required","ngModel","ngModelChange","blur","input"]],template:function(i,r){i&1&&(e(0,`
`),u(1,"mat-form-field",0),e(2,`
  `),u(3,"mat-label"),e(4),c(),e(5,`
  `),u(6,"textarea",1),T("ngModelChange",function(M){return r.value=M})("blur",function(){return r.blur()})("input",function(){return r.input()}),c(),e(7,`
  `),f(8,Je,2,1,"mat-hint")(9,We,2,1,"mat-error"),c(),e(10,`
`)),i&2&&(m(4),S(r.label),m(2),d("disabled",r.isDisabled)("errorStateMatcher",r.errorMatcher)("regex",r.regex)("required",r.isRequired)("ngModel",r.value),m(2),_(8,r.hint?8:-1),m(),_(9,r.invalid?9:-1))},dependencies:[Ve,Me,E,we,Te,Ae,Le,xe,he,be,ge,k,Oe],styles:["[_nghost-%COMP%]{-webkit-user-select:none;user-select:none}"]});let n=t;return n})();function Xe(n,t){if(n&1&&(e(0,`
      `),u(1,"div",5),e(2,`
        `),l(3,"cn-select",6),e(4,`
        `),l(5,"cn-checkbox",7),e(6,`
        `),l(7,"cn-select",8),e(8,`
        `),l(9,"cn-select",9),e(10,`
      `),c(),e(11,`
    `)),n&2){let a=x();m(3),d("options",a.versions),m(4),d("multiple",!0)("options",a.loaders),m(2),d("multiple",!0)("options",a.platforms)}}function Ye(n,t){n&1&&(e(0,`
      `),u(1,"div",5),e(2,`
        `),l(3,"cn-input",10),e(4,`
        `),l(5,"cn-checkbox",11),e(6,`
        `),l(7,"cn-input",12),e(8,`
        `),l(9,"cn-input",13),e(10,`
      `),c(),e(11,`
    `))}function et(n,t){n&1&&(e(0,`
      `),u(1,"div",5),e(2,`
        `),l(3,"cn-textarea",14),e(4,`
      `),c(),e(5,`
    `))}function tt(n,t){n&1&&(e(0,`
      `),u(1,"div",5),e(2,`
        `),l(3,"cn-input",15),e(4,`
        `),l(5,"cn-input",16),e(6,`
        `),l(7,"cn-input",17),e(8,`
      `),c(),e(9,`
    `))}var Ue=(()=>{let t=class t extends qe{constructor(){super(...arguments),this.steps=[{label:"Minecraft and loaders"},{label:"Project details"},{label:"Project description",hasNext:()=>!this.form.controls.crystalNestMod.value},{label:"Ownership",isVisible:()=>!this.form.controls.crystalNestMod.value}],this.platforms={maven:"Maven",github:"GitHub",modrinth:"Modrinth",curseforge:"CurseForge"},this.neoforgeTransitionVersion=20,this.loaders=O({},z)}ngOnChanges(o){o.versions&&this.form.controls.minecraftVersion.setValue(Object.values(this.versions)[0])}ngOnInit(){this.valueChanges("minecraftVersion",o=>{let i=+o.split(".")[1];i<this.neoforgeTransitionVersion?(this.form.controls.loaders.setValue(this.form.controls.loaders.value.filter(r=>r!=="neoforge")),this.form.controls.loaders.setValidators([s.required,h.notInclude("neoforge")]),delete this.loaders.neoforge):i>this.neoforgeTransitionVersion?(this.form.controls.loaders.setValue(this.form.controls.loaders.value.filter(r=>r!=="forge")),this.form.controls.loaders.setValidators([s.required,h.notInclude("forge")]),delete this.loaders.forge):(this.form.controls.loaders.setValidators(s.required),this.loaders=O({},z))},(o,i)=>!!(i&&o)),this.valueChanges("autogenModId",o=>{o?(this.form.controls.modId.disable(),this.form.controls.modIdKebab.disable(),this.updateModId(this.form.controls.modTitle.value)):(this.form.controls.modId.enable(),this.form.controls.modIdKebab.enable())}),this.valueChanges("modTitle",o=>this.updateModId(o),o=>(o??0)===o&&this.form.controls.autogenModId.value),this.valueChanges("crystalNestMod",o=>{o?(this.form.controls.group.disable(),this.form.controls.authors.disable(),this.form.controls.githubUser.disable(),this.form.controls.group.setValue(V),this.form.controls.authors.setValue(D.join(", ")),this.form.controls.githubUser.setValue(q),this.form.controls.group.setValidators(s.required),this.form.controls.authors.setValidators(s.required),this.form.controls.githubUser.setValidators(s.required)):(this.form.controls.group.enable(),this.form.controls.authors.enable(),this.form.controls.githubUser.enable(),this.form.controls.group.setValue(""),this.form.controls.authors.setValue(""),this.form.controls.githubUser.setValue(""),this.form.controls.group.setValidators([s.required,h.notInclude(V,".idea","common","fabric","forge","neoforge","gradle","wrapper","src","main","java","resources","mixin","platform","model","services","META-INF"),s.pattern("^([a-z]+(.|_))*[a-z]+$")]),this.form.controls.authors.setValidators([s.required,h.notInclude(...D)]),this.form.controls.githubUser.setValidators([s.required,h.notMatch(q)])),this.form.controls.group.updateValueAndValidity(),this.form.controls.authors.updateValueAndValidity(),this.form.controls.githubUser.updateValueAndValidity()})}initForm(){return{minecraftVersion:new p("",{nonNullable:!0,validators:s.required}),group:new p(V,{nonNullable:!0,validators:s.required}),authors:new p(D.join(", "),{nonNullable:!0,validators:s.required}),modTitle:new p("Cobweb Mod Skeleton",{nonNullable:!0,validators:h.modTitle}),modId:new p("cobweb_mod_skeleton",{nonNullable:!0,validators:h.modId("_")}),modIdKebab:new p("cobweb-mod-template",{nonNullable:!0,validators:h.modId("-")}),loaders:new p(["fabric","forge","neoforge"],{nonNullable:!0,validators:s.required}),platforms:new p(["maven","github","modrinth","curseforge"],{nonNullable:!0,validators:s.required}),githubUser:new p(q,{nonNullable:!0,validators:s.required}),description:new p("MultiLoader Mod Skeleton!",{nonNullable:!0,validators:s.required}),crystalNestMod:new p(!0,{nonNullable:!0,validators:s.required}),autogenModId:new p(!0,{nonNullable:!0,validators:s.required}),includeConfig:new p(!0,{nonNullable:!0,validators:s.required})}}updateModId(o){this.form.controls.modId.setValue(this.parseModTitle(o,"_")),this.form.controls.modIdKebab.setValue(this.parseModTitle(o,"-"))}parseModTitle(o,i){return o.toLowerCase().replaceAll(/[^0-9a-z]/g," ").trim().replaceAll(" ",i)}};t.\u0275fac=(()=>{let o;return function(r){return(o||(o=B(t)))(r||t)}})(),t.\u0275cmp=C({type:t,selectors:[["cn-generator-form"]],inputs:{versions:[U.HasDecoratorInputTransform,"versions","versions",o=>o||{}]},standalone:!0,features:[Z,I,H,v],decls:18,vars:3,consts:[[3,"formGroup"],["formControlName","crystalNestMod","label","Are you a Crystal Nest's member?",1,"cn-cell-3"],[3,"steps"],["step",""],["icon","download","label","Download",3,"isDisabled","click"],[1,"cn-grid"],["formControlName","minecraftVersion","hint","Target Minecraft version","label","Minecraft version",1,"cn-cell-6",3,"options"],["formControlName","includeConfig","label","Include configuration",1,"cn-cell-6"],["formControlName","loaders","hint","Which mod loaders to support","label","Loaders",1,"cn-cell-6",3,"multiple","options"],["formControlName","platforms","hint","Which platforms to publish on","label","Platforms",1,"cn-cell-6",3,"multiple","options"],["formControlName","modTitle","label","Mod title",1,"cn-cell-6"],["formControlName","autogenModId","label","Autogenerate IDs",1,"cn-cell-6"],["formControlName","modId","hint","Mod unique identifier","label","Mod ID","regex","^[a-z0-9_]+$",1,"cn-cell-6"],["formControlName","modIdKebab","label","Mod ID kebab-case","regex","^[a-z0-9-]+$",1,"cn-cell-6"],["formControlName","description","label","Mod description",1,"cn-cell-6"],["formControlName","group","hint","Java group, es. `it.crystalnest`","label","Java group",1,"cn-cell-4"],["formControlName","authors","hint","List of authors separated by a comma","label","Mod authors",1,"cn-cell-4"],["formControlName","githubUser","hint","Name of the GitHub account/organization where the source code is hosted","label","GitHub owner",1,"cn-cell-4"]],template:function(i,r){i&1&&(u(0,"form",0),e(1,`
  `),l(2,"cn-toggle",1),e(3,`
  `),u(4,"cn-stepper",2),e(5,`
    `),f(6,Xe,12,5,"ng-template",3),e(7,`
    `),f(8,Ye,12,0,"ng-template",3),e(9,`
    `),f(10,et,6,0,"ng-template",3),e(11,`
    `),f(12,tt,10,0,"ng-template",3),e(13,`
  `),c(),e(14,`
`),c(),e(15,`
`),u(16,"cn-button",4),T("click",function(){return r.emitSubmit()}),c(),e(17,`
`)),i&2&&(d("formGroup",r.form),m(4),d("steps",r.steps),m(12),d("isDisabled",!r.validity))},dependencies:[A,le,De,Se,E,Ie,Ne,Fe,Pe,ke,ze,Ge,$e,w,Re]});let n=t;return n})();var Xt=(()=>{let t=class t extends fe{constructor(o){super(),this.store$=o,this.versions$=this.store$.select(G.selectMinecraftVersions),this.form$=this.store$.select(G.selectForm),this.store$.dispatch(Ce())}buildSkeleton(o){this.store$.dispatch(ve(o))}};t.\u0275fac=function(i){return new(i||t)(y(me))},t.\u0275cmp=C({type:t,selectors:[["cn-generator"]],standalone:!0,features:[ne([_e]),I,v],decls:17,vars:6,consts:[[3,"formData","versions","onSubmit"]],template:function(i,r){i&1&&(e(0,`This generator assumes the use of IntelliJ IDEA as IDE.
`),l(1,"br"),e(2,`
It assumes you will publish your code publicly on GitHub.
`),l(3,"br"),e(4,`
The default license is GPL-3.0, but you can change it to the one that better fits your needs.
`),l(5,"br"),e(6,`
If you do not publish your source code on GitHub, make sure to change the automatically generated changelog string when publishing your version (in the root build.gradle) to point to the correct changelog.
`),l(7,"br"),e(8,`

`),u(9,"cn-generator-form",0),T("onSubmit",function(M){return r.buildSkeleton(M)}),P(10,"async"),P(11,"async"),c(),e(12,`

`),l(13,"br"),e(14,`
Follow the instruction on the readme to finish the setup!
`),l(15,"br"),e(16,`
More questions? Come chat on our Discord!
`)),i&2&&(m(9),d("formData",$(10,2,r.form$))("versions",$(11,4,r.versions$)))},dependencies:[re,se,Ue],styles:["[_nghost-%COMP%]{padding:2rem}@media (max-width: 46.25rem){[_nghost-%COMP%]{padding:1rem}}"]});let n=t;return n})();export{Xt as GeneratorComponent};
