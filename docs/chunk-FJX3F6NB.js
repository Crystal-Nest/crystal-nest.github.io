import{b as Gr,g as Kr,h as Xr}from"./chunk-OR7O3O7G.js";import{d as Br,e as Hr,f as Me,g as Vr,h as Wr,i as Pe,m as Zr,n as Qr,p as ae,r as an}from"./chunk-3OV2KVJT.js";import{$ as fr,Ab as Er,Ba as Yt,Bc as qr,C as cr,Ca as mr,D as ur,Db as Ar,E as oe,Ea as vr,Fa as br,G as de,H as pe,Ha as wr,J as Qt,K as fe,Ka as Oe,La as Y,Lb as Dr,M as lt,Mb as Or,Na as Jt,Nb as $r,P as hr,R as ct,Ra as yr,S as Z,Sb as Mr,U as Gt,Ub as vt,V as dr,Xb as Pr,Yb as Nr,Z as pr,a as p,b as S,ba as ut,ca as M,cb as kr,d as rr,da as ht,e as ir,eb as xr,ec as Ur,f as sr,fa as T,fc as jr,h as Ht,ha as D,hb as gt,i as Vt,j,ja as R,jb as Cr,jc as Lr,k as L,ka as dt,kc as tn,la as gr,lc as $e,ma as Kt,n as se,na as E,oa as A,ob as Sr,oc as nn,p as O,pa as g,pb as q,pc as rn,q as m,qb as Rr,r as Ee,ra as pt,rb as en,rc as zr,s as or,sa as Ae,sc as bt,t as ar,ta as ft,tb as Q,tc as _r,u as k,ua as Xt,ub as J,uc as sn,v as at,vb as Ir,vc as on,w as $,wa as De,wc as Fr,x as Wt,xb as Tr,y as lr,yb as mt,z as Zt,zc as wt}from"./chunk-LNVCPBNY.js";var v="primary",Ke=Symbol("RouteTitle"),dn=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function we(i){return new dn(i)}function cs(i,e,n){let t=n.path.split("/");if(t.length>i.length||n.pathMatch==="full"&&(e.hasChildren()||t.length<i.length))return null;let r={};for(let s=0;s<t.length;s++){let o=t[s],a=i[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:i.slice(0,t.length),posParams:r}}function us(i,e){if(i.length!==e.length)return!1;for(let n=0;n<i.length;++n)if(!B(i[n],e[n]))return!1;return!0}function B(i,e){let n=i?pn(i):void 0,t=e?pn(e):void 0;if(!n||!t||n.length!=t.length)return!1;let r;for(let s=0;s<n.length;s++)if(r=n[s],!oi(i[r],e[r]))return!1;return!0}function pn(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}function oi(i,e){if(Array.isArray(i)&&Array.isArray(e)){if(i.length!==e.length)return!1;let n=[...i].sort(),t=[...e].sort();return n.every((r,s)=>t[s]===r)}else return i===e}function ai(i){return i.length>0?i[i.length-1]:null}function ie(i){return or(i)?i:Mr(i)?O(Promise.resolve(i)):m(i)}var hs={exact:ci,subset:ui},li={exact:ds,subset:ps,ignored:()=>!0};function Yr(i,e,n){return hs[n.paths](i.root,e.root,n.matrixParams)&&li[n.queryParams](i.queryParams,e.queryParams)&&!(n.fragment==="exact"&&i.fragment!==e.fragment)}function ds(i,e){return B(i,e)}function ci(i,e,n){if(!ce(i.segments,e.segments)||!xt(i.segments,e.segments,n)||i.numberOfChildren!==e.numberOfChildren)return!1;for(let t in e.children)if(!i.children[t]||!ci(i.children[t],e.children[t],n))return!1;return!0}function ps(i,e){return Object.keys(e).length<=Object.keys(i).length&&Object.keys(e).every(n=>oi(i[n],e[n]))}function ui(i,e,n){return hi(i,e,e.segments,n)}function hi(i,e,n,t){if(i.segments.length>n.length){let r=i.segments.slice(0,n.length);return!(!ce(r,n)||e.hasChildren()||!xt(r,n,t))}else if(i.segments.length===n.length){if(!ce(i.segments,n)||!xt(i.segments,n,t))return!1;for(let r in e.children)if(!i.children[r]||!ui(i.children[r],e.children[r],t))return!1;return!0}else{let r=n.slice(0,i.segments.length),s=n.slice(i.segments.length);return!ce(i.segments,r)||!xt(i.segments,r,t)||!i.children[v]?!1:hi(i.children[v],e,s,t)}}function xt(i,e,n){return e.every((t,r)=>li[n](i[r].parameters,t.parameters))}var ee=class{constructor(e=new y([],{}),n={},t=null){this.root=e,this.queryParams=n,this.fragment=t}get queryParamMap(){return this._queryParamMap??=we(this.queryParams),this._queryParamMap}toString(){return ms.serialize(this)}},y=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(t=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ct(this)}},le=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=we(this.parameters),this._parameterMap}toString(){return pi(this)}};function fs(i,e){return ce(i,e)&&i.every((n,t)=>B(n.parameters,e[t].parameters))}function ce(i,e){return i.length!==e.length?!1:i.every((n,t)=>n.path===e[t].path)}function gs(i,e){let n=[];return Object.entries(i.children).forEach(([t,r])=>{t===v&&(n=n.concat(e(r,t)))}),Object.entries(i.children).forEach(([t,r])=>{t!==v&&(n=n.concat(e(r,t)))}),n}var Ce=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:()=>new Fe,providedIn:"root"});let i=e;return i})(),Fe=class{parse(e){let n=new gn(e);return new ee(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Ne(e.root,!0)}`,t=ws(e.queryParams),r=typeof e.fragment=="string"?`#${vs(e.fragment)}`:"";return`${n}${t}${r}`}},ms=new Fe;function Ct(i){return i.segments.map(e=>pi(e)).join("/")}function Ne(i,e){if(!i.hasChildren())return Ct(i);if(e){let n=i.children[v]?Ne(i.children[v],!1):"",t=[];return Object.entries(i.children).forEach(([r,s])=>{r!==v&&t.push(`${r}:${Ne(s,!1)}`)}),t.length>0?`${n}(${t.join("//")})`:n}else{let n=gs(i,(t,r)=>r===v?[Ne(i.children[v],!1)]:[`${r}:${Ne(t,!1)}`]);return Object.keys(i.children).length===1&&i.children[v]!=null?`${Ct(i)}/${n[0]}`:`${Ct(i)}/(${n.join("//")})`}}function di(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function yt(i){return di(i).replace(/%3B/gi,";")}function vs(i){return encodeURI(i)}function fn(i){return di(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function St(i){return decodeURIComponent(i)}function Jr(i){return St(i.replace(/\+/g,"%20"))}function pi(i){return`${fn(i.path)}${bs(i.parameters)}`}function bs(i){return Object.entries(i).map(([e,n])=>`;${fn(e)}=${fn(n)}`).join("")}function ws(i){let e=Object.entries(i).map(([n,t])=>Array.isArray(t)?t.map(r=>`${yt(n)}=${yt(r)}`).join("&"):`${yt(n)}=${yt(t)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var ys=/^[^\/()?;#]+/;function ln(i){let e=i.match(ys);return e?e[0]:""}var ks=/^[^\/()?;=#]+/;function xs(i){let e=i.match(ks);return e?e[0]:""}var Cs=/^[^=?&#]+/;function Ss(i){let e=i.match(Cs);return e?e[0]:""}var Rs=/^[^&#]+/;function Is(i){let e=i.match(Rs);return e?e[0]:""}var gn=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new y([],{}):new y([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let t={};return this.peekStartsWith("(")&&(t=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(t[v]=new y(e,n)),t}parseSegment(){let e=ln(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new D(4009,!1);return this.capture(e),new le(St(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=xs(this.remaining);if(!n)return;this.capture(n);let t="";if(this.consumeOptional("=")){let r=ln(this.remaining);r&&(t=r,this.capture(t))}e[St(n)]=St(t)}parseQueryParam(e){let n=Ss(this.remaining);if(!n)return;this.capture(n);let t="";if(this.consumeOptional("=")){let o=Is(this.remaining);o&&(t=o,this.capture(t))}let r=Jr(n),s=Jr(t);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let t=ln(this.remaining),r=this.remaining[t.length];if(r!=="/"&&r!==")"&&r!==";")throw new D(4010,!1);let s;t.indexOf(":")>-1?(s=t.slice(0,t.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=v);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[v]:new y([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new D(4011,!1)}};function fi(i){return i.segments.length>0?new y([],{[v]:i}):i}function gi(i){let e={};for(let[t,r]of Object.entries(i.children)){let s=gi(r);if(t===v&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[t]=s)}let n=new y(i.segments,e);return Ts(n)}function Ts(i){if(i.numberOfChildren===1&&i.children[v]){let e=i.children[v];return new y(i.segments.concat(e.segments),e.children)}return i}function ye(i){return i instanceof ee}function Es(i,e,n=null,t=null){let r=mi(i);return vi(r,e,n,t)}function mi(i){let e;function n(s){let o={};for(let l of s.children){let c=n(l);o[l.outlet]=c}let a=new y(s.url,o);return s===i&&(e=a),a}let t=n(i.root),r=fi(t);return e??r}function vi(i,e,n,t){let r=i;for(;r.parent;)r=r.parent;if(e.length===0)return cn(r,r,r,n,t);let s=As(e);if(s.toRoot())return cn(r,r,new y([],{}),n,t);let o=Ds(s,r,i),a=o.processChildren?Le(o.segmentGroup,o.index,s.commands):wi(o.segmentGroup,o.index,s.commands);return cn(r,o.segmentGroup,a,n,t)}function Rt(i){return typeof i=="object"&&i!=null&&!i.outlets&&!i.segmentPath}function qe(i){return typeof i=="object"&&i!=null&&i.outlets}function cn(i,e,n,t,r){let s={};t&&Object.entries(t).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let o;i===e?o=n:o=bi(i,e,n);let a=fi(gi(o));return new ee(a,s,r)}function bi(i,e,n){let t={};return Object.entries(i.children).forEach(([r,s])=>{s===e?t[r]=n:t[r]=bi(s,e,n)}),new y(i.segments,t)}var It=class{constructor(e,n,t){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=t,e&&t.length>0&&Rt(t[0]))throw new D(4003,!1);let r=t.find(qe);if(r&&r!==ai(t))throw new D(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function As(i){if(typeof i[0]=="string"&&i.length===1&&i[0]==="/")return new It(!0,0,i);let e=0,n=!1,t=i.reduce((r,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:o===0?(s.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,s]},[]);return new It(n,e,t)}var ve=class{constructor(e,n,t){this.segmentGroup=e,this.processChildren=n,this.index=t}};function Ds(i,e,n){if(i.isAbsolute)return new ve(e,!0,0);if(!n)return new ve(e,!1,NaN);if(n.parent===null)return new ve(n,!0,0);let t=Rt(i.commands[0])?0:1,r=n.segments.length-1+t;return Os(n,r,i.numberOfDoubleDots)}function Os(i,e,n){let t=i,r=e,s=n;for(;s>r;){if(s-=r,t=t.parent,!t)throw new D(4005,!1);r=t.segments.length}return new ve(t,!1,r-s)}function $s(i){return qe(i[0])?i[0].outlets:{[v]:i}}function wi(i,e,n){if(i??=new y([],{}),i.segments.length===0&&i.hasChildren())return Le(i,e,n);let t=Ms(i,e,n),r=n.slice(t.commandIndex);if(t.match&&t.pathIndex<i.segments.length){let s=new y(i.segments.slice(0,t.pathIndex),{});return s.children[v]=new y(i.segments.slice(t.pathIndex),i.children),Le(s,0,r)}else return t.match&&r.length===0?new y(i.segments,{}):t.match&&!i.hasChildren()?mn(i,e,n):t.match?Le(i,0,r):mn(i,e,n)}function Le(i,e,n){if(n.length===0)return new y(i.segments,{});{let t=$s(n),r={};if(Object.keys(t).some(s=>s!==v)&&i.children[v]&&i.numberOfChildren===1&&i.children[v].segments.length===0){let s=Le(i.children[v],e,n);return new y(i.segments,s.children)}return Object.entries(t).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[s]=wi(i.children[s],e,o))}),Object.entries(i.children).forEach(([s,o])=>{t[s]===void 0&&(r[s]=o)}),new y(i.segments,r)}}function Ms(i,e,n){let t=0,r=e,s={match:!1,pathIndex:0,commandIndex:0};for(;r<i.segments.length;){if(t>=n.length)return s;let o=i.segments[r],a=n[t];if(qe(a))break;let l=`${a}`,c=t<n.length-1?n[t+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!ti(l,c,o))return s;t+=2}else{if(!ti(l,{},o))return s;t++}r++}return{match:!0,pathIndex:r,commandIndex:t}}function mn(i,e,n){let t=i.segments.slice(0,e),r=0;for(;r<n.length;){let s=n[r];if(qe(s)){let l=Ps(s.outlets);return new y(t,l)}if(r===0&&Rt(n[0])){let l=i.segments[e];t.push(new le(l.path,ei(n[0]))),r++;continue}let o=qe(s)?s.outlets[v]:`${s}`,a=r<n.length-1?n[r+1]:null;o&&a&&Rt(a)?(t.push(new le(o,ei(a))),r+=2):(t.push(new le(o,{})),r++)}return new y(t,{})}function Ps(i){let e={};return Object.entries(i).forEach(([n,t])=>{typeof t=="string"&&(t=[t]),t!==null&&(e[n]=mn(new y([],{}),0,t))}),e}function ei(i){let e={};return Object.entries(i).forEach(([n,t])=>e[n]=`${t}`),e}function ti(i,e,n){return i==n.path&&B(e,n.parameters)}var ze="imperative",I=function(i){return i[i.NavigationStart=0]="NavigationStart",i[i.NavigationEnd=1]="NavigationEnd",i[i.NavigationCancel=2]="NavigationCancel",i[i.NavigationError=3]="NavigationError",i[i.RoutesRecognized=4]="RoutesRecognized",i[i.ResolveStart=5]="ResolveStart",i[i.ResolveEnd=6]="ResolveEnd",i[i.GuardsCheckStart=7]="GuardsCheckStart",i[i.GuardsCheckEnd=8]="GuardsCheckEnd",i[i.RouteConfigLoadStart=9]="RouteConfigLoadStart",i[i.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",i[i.ChildActivationStart=11]="ChildActivationStart",i[i.ChildActivationEnd=12]="ChildActivationEnd",i[i.ActivationStart=13]="ActivationStart",i[i.ActivationEnd=14]="ActivationEnd",i[i.Scroll=15]="Scroll",i[i.NavigationSkipped=16]="NavigationSkipped",i}(I||{}),_=class{constructor(e,n){this.id=e,this.url=n}},ke=class extends _{constructor(e,n,t="imperative",r=null){super(e,n),this.type=I.NavigationStart,this.navigationTrigger=t,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},H=class extends _{constructor(e,n,t){super(e,n),this.urlAfterRedirects=t,this.type=I.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},z=function(i){return i[i.Redirect=0]="Redirect",i[i.SupersededByNewNavigation=1]="SupersededByNewNavigation",i[i.NoDataFromResolver=2]="NoDataFromResolver",i[i.GuardRejected=3]="GuardRejected",i}(z||{}),Tt=function(i){return i[i.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",i[i.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",i}(Tt||{}),te=class extends _{constructor(e,n,t,r){super(e,n),this.reason=t,this.code=r,this.type=I.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ne=class extends _{constructor(e,n,t,r){super(e,n),this.reason=t,this.code=r,this.type=I.NavigationSkipped}},Be=class extends _{constructor(e,n,t,r){super(e,n),this.error=t,this.target=r,this.type=I.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Et=class extends _{constructor(e,n,t,r){super(e,n),this.urlAfterRedirects=t,this.state=r,this.type=I.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vn=class extends _{constructor(e,n,t,r){super(e,n),this.urlAfterRedirects=t,this.state=r,this.type=I.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},bn=class extends _{constructor(e,n,t,r,s){super(e,n),this.urlAfterRedirects=t,this.state=r,this.shouldActivate=s,this.type=I.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},wn=class extends _{constructor(e,n,t,r){super(e,n),this.urlAfterRedirects=t,this.state=r,this.type=I.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yn=class extends _{constructor(e,n,t,r){super(e,n),this.urlAfterRedirects=t,this.state=r,this.type=I.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},kn=class{constructor(e){this.route=e,this.type=I.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},xn=class{constructor(e){this.route=e,this.type=I.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Cn=class{constructor(e){this.snapshot=e,this.type=I.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Sn=class{constructor(e){this.snapshot=e,this.type=I.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Rn=class{constructor(e){this.snapshot=e,this.type=I.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},In=class{constructor(e){this.snapshot=e,this.type=I.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},At=class{constructor(e,n,t){this.routerEvent=e,this.position=n,this.anchor=t,this.type=I.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},He=class{},Ve=class{constructor(e){this.url=e}};var Tn=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Xe,this.attachRef=null}},Xe=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){let s=this.getOrCreateContext(t);s.outlet=r,this.contexts.set(t,s)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Tn,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Dt=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=En(e,this._root);return n?n.children.map(t=>t.value):[]}firstChild(e){let n=En(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=An(e,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return An(e,this._root).map(n=>n.value)}};function En(i,e){if(i===e.value)return e;for(let n of e.children){let t=En(i,n);if(t)return t}return null}function An(i,e){if(i===e.value)return[e];for(let n of e.children){let t=An(i,n);if(t.length)return t.unshift(e),t}return[]}var P=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function me(i){let e={};return i&&i.children.forEach(n=>e[n.value.outlet]=n),e}var Ot=class extends Dt{constructor(e,n){super(e),this.snapshot=n,zn(this,e)}toString(){return this.snapshot.toString()}};function yi(i){let e=Ns(i),n=new L([new le("",{})]),t=new L({}),r=new L({}),s=new L({}),o=new L(""),a=new re(n,t,s,o,r,v,i,e.root);return a.snapshot=e.root,new Ot(new P(a,[]),e)}function Ns(i){let e={},n={},t={},r="",s=new We([],e,t,r,n,v,i,null,{});return new $t("",new P(s,[]))}var re=class{constructor(e,n,t,r,s,o,a,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=t,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(k(c=>c[Ke]))??m(void 0),this.url=e,this.params=n,this.queryParams=t,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(k(e=>we(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(k(e=>we(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ln(i,e,n="emptyOnly"){let t,{routeConfig:r}=i;return e!==null&&(n==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?t={params:p(p({},e.params),i.params),data:p(p({},e.data),i.data),resolve:p(p(p(p({},i.data),e.data),r?.data),i._resolvedData)}:t={params:p({},i.params),data:p({},i.data),resolve:p(p({},i.data),i._resolvedData??{})},r&&xi(r)&&(t.resolve[Ke]=r.title),t}var We=class{get title(){return this.data?.[Ke]}constructor(e,n,t,r,s,o,a,l,c){this.url=e,this.params=n,this.queryParams=t,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=we(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=we(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(t=>t.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},$t=class extends Dt{constructor(e,n){super(n),this.url=e,zn(this,n)}toString(){return ki(this._root)}};function zn(i,e){e.value._routerState=i,e.children.forEach(n=>zn(i,n))}function ki(i){let e=i.children.length>0?` { ${i.children.map(ki).join(", ")} } `:"";return`${i.value}${e}`}function un(i){if(i.snapshot){let e=i.snapshot,n=i._futureSnapshot;i.snapshot=n,B(e.queryParams,n.queryParams)||i.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&i.fragmentSubject.next(n.fragment),B(e.params,n.params)||i.paramsSubject.next(n.params),us(e.url,n.url)||i.urlSubject.next(n.url),B(e.data,n.data)||i.dataSubject.next(n.data)}else i.snapshot=i._futureSnapshot,i.dataSubject.next(i._futureSnapshot.data)}function Dn(i,e){let n=B(i.params,e.params)&&fs(i.url,e.url),t=!i.parent!=!e.parent;return n&&!t&&(!i.parent||Dn(i.parent,e.parent))}function xi(i){return typeof i.title=="string"||i.title===null}var Us=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=v,this.activateEvents=new Q,this.deactivateEvents=new Q,this.attachEvents=new Q,this.detachEvents=new Q,this.parentContexts=g(Xe),this.location=g(mt),this.changeDetector=g(en),this.environmentInjector=g(Oe),this.inputBinder=g(Ut,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:s}=t.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new D(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new D(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new D(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new D(4013,!1);this._activatedRoute=t;let s=this.location,a=t.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new On(t,l,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Xt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[De]});let i=e;return i})(),On=class{constructor(e,n,t){this.route=e,this.childContexts=n,this.parent=t}get(e,n){return e===re?this.route:e===Xe?this.childContexts:this.parent.get(e,n)}},Ut=new E(""),ni=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,s=at([r.queryParams,r.params,r.data]).pipe(M(([o,a,l],c)=>(l=p(p(p({},o),a),l),c===0?m(l):Promise.resolve(l)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let a=qr(r.component);if(!a){this.unsubscribeFromRouteData(t);return}for(let{templateName:l}of a.inputs)t.activatedComponentRef.setInput(l,o[l])});this.outletDataSubscriptions.set(t,s)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac});let i=e;return i})();function js(i,e,n){let t=Ze(i,e._root,n?n._root:void 0);return new Ot(t,e)}function Ze(i,e,n){if(n&&i.shouldReuseRoute(e.value,n.value.snapshot)){let t=n.value;t._futureSnapshot=e.value;let r=Ls(i,e,n);return new P(t,r)}else{if(i.shouldAttach(e.value)){let s=i.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Ze(i,a)),o}}let t=zs(e.value),r=e.children.map(s=>Ze(i,s));return new P(t,r)}}function Ls(i,e,n){return e.children.map(t=>{for(let r of n.children)if(i.shouldReuseRoute(t.value,r.value.snapshot))return Ze(i,t,r);return Ze(i,t)})}function zs(i){return new re(new L(i.url),new L(i.params),new L(i.queryParams),new L(i.fragment),new L(i.data),i.outlet,i.component,i)}var Ci="ngNavigationCancelingError";function Si(i,e){let{redirectTo:n,navigationBehaviorOptions:t}=ye(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=Ri(!1,z.Redirect);return r.url=n,r.navigationBehaviorOptions=t,r}function Ri(i,e){let n=new Error(`NavigationCancelingError: ${i||""}`);return n[Ci]=!0,n.cancellationCode=e,n}function _s(i){return Ii(i)&&ye(i.url)}function Ii(i){return!!i&&i[Ci]}var Fs=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Ae({type:e,selectors:[["ng-component"]],standalone:!0,features:[$e],decls:1,vars:0,template:function(r,s){r&1&&$r(0,"router-outlet")},dependencies:[Us],encapsulation:2});let i=e;return i})();function qs(i,e){return i.providers&&!i._injector&&(i._injector=tn(i.providers,e,`Route: ${i.path}`)),i._injector??e}function _n(i){let e=i.children&&i.children.map(_n),n=e?S(p({},i),{children:e}):p({},i);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==v&&(n.component=Fs),n}function V(i){return i.outlet||v}function Bs(i,e){let n=i.filter(t=>V(t)===e);return n.push(...i.filter(t=>V(t)!==e)),n}function Ye(i){if(!i)return null;if(i.routeConfig?._injector)return i.routeConfig._injector;for(let e=i.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Hs=(i,e,n,t)=>k(r=>(new $n(e,r.targetRouterState,r.currentRouterState,n,t).activate(i),r)),$n=class{constructor(e,n,t,r,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=t,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,t=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,t,e),un(this.futureState.root),this.activateChildRoutes(n,t,e)}deactivateChildRoutes(e,n,t){let r=me(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,r[o],t),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,t)})}deactivateRoutes(e,n,t){let r=e.value,s=n?n.value:null;if(r===s)if(r.component){let o=t.getContext(r.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,t);else s&&this.deactivateRouteAndItsChildren(n,t)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let t=n.getContext(e.value.outlet),r=t&&e.value.component?t.children:n,s=me(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(t&&t.outlet){let o=t.outlet.detach(),a=t.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let t=n.getContext(e.value.outlet),r=t&&e.value.component?t.children:n,s=me(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);t&&(t.outlet&&(t.outlet.deactivate(),t.children.onOutletDeactivated()),t.attachRef=null,t.route=null)}activateChildRoutes(e,n,t){let r=me(n);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],t),this.forwardEvent(new In(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Sn(e.value.snapshot))}activateRoutes(e,n,t){let r=e.value,s=n?n.value:null;if(un(r),r===s)if(r.component){let o=t.getOrCreateContext(r.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,t);else if(r.component){let o=t.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),un(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=Ye(r.snapshot);o.attachRef=null,o.route=r,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,t)}},Mt=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},be=class{constructor(e,n){this.component=e,this.route=n}};function Vs(i,e,n){let t=i._root,r=e?e._root:null;return Ue(t,r,n,[t.value])}function Ws(i){let e=i.routeConfig?i.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:i,guards:e}}function Se(i,e){let n=Symbol(),t=e.get(i,n);return t===n?typeof i=="function"&&!gr(i)?i:e.get(i):t}function Ue(i,e,n,t,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=me(e);return i.children.forEach(o=>{Zs(o,s[o.value.outlet],n,t.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>_e(a,n.getContext(o),r)),r}function Zs(i,e,n,t,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=i.value,o=e?e.value:null,a=n?n.getContext(i.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=Qs(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new Mt(t)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Ue(i,e,a?a.children:null,t,r):Ue(i,e,n,t,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new be(a.outlet.component,o))}else o&&_e(e,a,r),r.canActivateChecks.push(new Mt(t)),s.component?Ue(i,null,a?a.children:null,t,r):Ue(i,null,n,t,r);return r}function Qs(i,e,n){if(typeof n=="function")return n(i,e);switch(n){case"pathParamsChange":return!ce(i.url,e.url);case"pathParamsOrQueryParamsChange":return!ce(i.url,e.url)||!B(i.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Dn(i,e)||!B(i.queryParams,e.queryParams);case"paramsChange":default:return!Dn(i,e)}}function _e(i,e,n){let t=me(i),r=i.value;Object.entries(t).forEach(([s,o])=>{r.component?e?_e(o,e.children.getContext(s),n):_e(o,null,n):_e(o,e,n)}),r.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new be(e.outlet.component,r)):n.canDeactivateChecks.push(new be(null,r)):n.canDeactivateChecks.push(new be(null,r))}function Je(i){return typeof i=="function"}function Gs(i){return typeof i=="boolean"}function Ks(i){return i&&Je(i.canLoad)}function Xs(i){return i&&Je(i.canActivate)}function Ys(i){return i&&Je(i.canActivateChild)}function Js(i){return i&&Je(i.canDeactivate)}function eo(i){return i&&Je(i.canMatch)}function Ti(i){return i instanceof ar||i?.name==="EmptyError"}var kt=Symbol("INITIAL_VALUE");function xe(){return M(i=>at(i.map(e=>e.pipe(fe(1),ut(kt)))).pipe(k(e=>{for(let n of e)if(n!==!0){if(n===kt)return kt;if(n===!1||n instanceof ee)return n}return!0}),oe(e=>e!==kt),fe(1)))}function to(i,e){return $(n=>{let{targetSnapshot:t,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?m(S(p({},n),{guardsResult:!0})):no(o,t,r,i).pipe($(a=>a&&Gs(a)?ro(t,s,i,e):m(a)),k(a=>S(p({},n),{guardsResult:a})))})}function no(i,e,n,t){return O(i).pipe($(r=>lo(r.component,r.route,n,e,t)),Z(r=>r!==!0,!0))}function ro(i,e,n,t){return O(e).pipe(pe(r=>lr(so(r.route.parent,t),io(r.route,t),ao(i,r.path,n),oo(i,r.route,n))),Z(r=>r!==!0,!0))}function io(i,e){return i!==null&&e&&e(new Rn(i)),m(!0)}function so(i,e){return i!==null&&e&&e(new Cn(i)),m(!0)}function oo(i,e,n){let t=e.routeConfig?e.routeConfig.canActivate:null;if(!t||t.length===0)return m(!0);let r=t.map(s=>Zt(()=>{let o=Ye(e)??n,a=Se(s,o),l=Xs(a)?a.canActivate(e,i):Y(o,()=>a(e,i));return ie(l).pipe(Z())}));return m(r).pipe(xe())}function ao(i,e,n){let t=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>Ws(o)).filter(o=>o!==null).map(o=>Zt(()=>{let a=o.guards.map(l=>{let c=Ye(o.node)??n,u=Se(l,c),d=Ys(u)?u.canActivateChild(t,i):Y(c,()=>u(t,i));return ie(d).pipe(Z())});return m(a).pipe(xe())}));return m(s).pipe(xe())}function lo(i,e,n,t,r){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return m(!0);let o=s.map(a=>{let l=Ye(e)??r,c=Se(a,l),u=Js(c)?c.canDeactivate(i,e,n,t):Y(l,()=>c(i,e,n,t));return ie(u).pipe(Z())});return m(o).pipe(xe())}function co(i,e,n,t){let r=e.canLoad;if(r===void 0||r.length===0)return m(!0);let s=r.map(o=>{let a=Se(o,i),l=Ks(a)?a.canLoad(e,n):Y(i,()=>a(e,n));return ie(l)});return m(s).pipe(xe(),Ei(t))}function Ei(i){return sr(T(e=>{if(ye(e))throw Si(i,e)}),k(e=>e===!0))}function uo(i,e,n,t){let r=e.canMatch;if(!r||r.length===0)return m(!0);let s=r.map(o=>{let a=Se(o,i),l=eo(a)?a.canMatch(e,n):Y(i,()=>a(e,n));return ie(l)});return m(s).pipe(xe(),Ei(t))}var Qe=class{constructor(e){this.segmentGroup=e||null}},Pt=class extends Error{constructor(e){super(),this.urlTree=e}};function ge(i){return Ee(new Qe(i))}function ho(i){return Ee(new D(4e3,!1))}function po(i){return Ee(Ri(!1,z.GuardRejected))}var Mn=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let t=[],r=n.root;for(;;){if(t=t.concat(r.segments),r.numberOfChildren===0)return m(t);if(r.numberOfChildren>1||!r.children[v])return ho(e.redirectTo);r=r.children[v]}}applyRedirectCommands(e,n,t){let r=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,t);if(n.startsWith("/"))throw new Pt(r);return r}applyRedirectCreateUrlTree(e,n,t,r){let s=this.createSegmentGroup(e,n.root,t,r);return new ee(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let t={};return Object.entries(e).forEach(([r,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);t[r]=n[a]}else t[r]=s}),t}createSegmentGroup(e,n,t,r){let s=this.createSegments(e,n.segments,t,r),o={};return Object.entries(n.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,t,r)}),new y(s,o)}createSegments(e,n,t,r){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,t))}findPosParam(e,n,t){let r=t[n.path.substring(1)];if(!r)throw new D(4001,!1);return r}findOrReturn(e,n){let t=0;for(let r of n){if(r.path===e.path)return n.splice(t),r;t++}return e}},Pn={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function fo(i,e,n,t,r){let s=Fn(i,e,n);return s.matched?(t=qs(e,t),uo(t,e,n,r).pipe(k(o=>o===!0?s:p({},Pn)))):m(s)}function Fn(i,e,n){if(e.path==="**")return go(n);if(e.path==="")return e.pathMatch==="full"&&(i.hasChildren()||n.length>0)?p({},Pn):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(e.matcher||cs)(n,i,e);if(!r)return p({},Pn);let s={};Object.entries(r.posParams??{}).forEach(([a,l])=>{s[a]=l.path});let o=r.consumed.length>0?p(p({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function go(i){return{matched:!0,parameters:i.length>0?ai(i).parameters:{},consumedSegments:i,remainingSegments:[],positionalParamSegments:{}}}function ri(i,e,n,t){return n.length>0&&bo(i,n,t)?{segmentGroup:new y(e,vo(t,new y(n,i.children))),slicedSegments:[]}:n.length===0&&wo(i,n,t)?{segmentGroup:new y(i.segments,mo(i,n,t,i.children)),slicedSegments:n}:{segmentGroup:new y(i.segments,i.children),slicedSegments:n}}function mo(i,e,n,t){let r={};for(let s of n)if(jt(i,e,s)&&!t[V(s)]){let o=new y([],{});r[V(s)]=o}return p(p({},t),r)}function vo(i,e){let n={};n[v]=e;for(let t of i)if(t.path===""&&V(t)!==v){let r=new y([],{});n[V(t)]=r}return n}function bo(i,e,n){return n.some(t=>jt(i,e,t)&&V(t)!==v)}function wo(i,e,n){return n.some(t=>jt(i,e,t))}function jt(i,e,n){return(i.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function yo(i,e,n,t){return V(i)!==t&&(t===v||!jt(e,n,i))?!1:Fn(e,i,n).matched}function ko(i,e,n){return e.length===0&&!i.children[n]}var Nn=class{};function xo(i,e,n,t,r,s,o="emptyOnly"){return new Un(i,e,n,t,r,o,s).recognize()}var Co=31,Un=class{constructor(e,n,t,r,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=t,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Mn(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new D(4002,`'${e.segmentGroup}'`)}recognize(){let e=ri(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(k(n=>{let t=new We([],Object.freeze({}),Object.freeze(p({},this.urlTree.queryParams)),this.urlTree.fragment,{},v,this.rootComponentType,null,{}),r=new P(t,n),s=new $t("",r),o=Es(t,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,v).pipe(de(t=>{if(t instanceof Pt)return this.urlTree=t.urlTree,this.match(t.urlTree.root);throw t instanceof Qe?this.noMatchError(t):t}))}inheritParamsAndData(e,n){let t=e.value,r=Ln(t,n,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(s=>this.inheritParamsAndData(s,t))}processSegmentGroup(e,n,t,r){return t.segments.length===0&&t.hasChildren()?this.processChildren(e,n,t):this.processSegment(e,n,t,t.segments,r,!0).pipe(k(s=>s instanceof P?[s]:[]))}processChildren(e,n,t){let r=[];for(let s of Object.keys(t.children))s==="primary"?r.unshift(s):r.push(s);return O(r).pipe(pe(s=>{let o=t.children[s],a=Bs(n,s);return this.processSegmentGroup(e,a,o,s)}),pr((s,o)=>(s.push(...o),s)),Qt(null),dr(),$(s=>{if(s===null)return ge(t);let o=Ai(s);return So(o),m(o)}))}processSegment(e,n,t,r,s,o){return O(n).pipe(pe(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,t,r,s,o).pipe(de(l=>{if(l instanceof Qe)return m(null);throw l}))),Z(a=>!!a),de(a=>{if(Ti(a))return ko(t,r,s)?m(new Nn):ge(t);throw a}))}processSegmentAgainstRoute(e,n,t,r,s,o,a){return yo(t,r,s,o)?t.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,t,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,n,t,s,o):ge(r):ge(r)}expandSegmentAgainstRouteUsingRedirect(e,n,t,r,s,o){let{matched:a,consumedSegments:l,positionalParamSegments:c,remainingSegments:u}=Fn(n,r,s);if(!a)return ge(n);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Co&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,c);return this.applyRedirects.lineralizeSegments(r,d).pipe($(h=>this.processSegment(e,t,n,h.concat(u),o,!1)))}matchSegmentAgainstRoute(e,n,t,r,s){let o=fo(n,t,r,e,this.urlSerializer);return t.path==="**"&&(n.children={}),o.pipe(M(a=>a.matched?(e=t._injector??e,this.getChildConfig(e,t,r).pipe(M(({routes:l})=>{let c=t._loadedInjector??e,{consumedSegments:u,remainingSegments:d,parameters:h}=a,f=new We(u,h,Object.freeze(p({},this.urlTree.queryParams)),this.urlTree.fragment,Io(t),V(t),t.component??t._loadedComponent??null,t,To(t)),{segmentGroup:C,slicedSegments:w}=ri(n,u,d,l);if(w.length===0&&C.hasChildren())return this.processChildren(c,l,C).pipe(k(F=>F===null?null:new P(f,F)));if(l.length===0&&w.length===0)return m(new P(f,[]));let U=V(t)===s;return this.processSegment(c,l,C,w,U?v:s,!0).pipe(k(F=>new P(f,F instanceof P?[F]:[])))}))):ge(n)))}getChildConfig(e,n,t){return n.children?m({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?m({routes:n._loadedRoutes,injector:n._loadedInjector}):co(e,n,t,this.urlSerializer).pipe($(r=>r?this.configLoader.loadChildren(e,n).pipe(T(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):po(n))):m({routes:[],injector:e})}};function So(i){i.sort((e,n)=>e.value.outlet===v?-1:n.value.outlet===v?1:e.value.outlet.localeCompare(n.value.outlet))}function Ro(i){let e=i.value.routeConfig;return e&&e.path===""}function Ai(i){let e=[],n=new Set;for(let t of i){if(!Ro(t)){e.push(t);continue}let r=e.find(s=>t.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...t.children),n.add(r)):e.push(t)}for(let t of n){let r=Ai(t.children);e.push(new P(t.value,r))}return e.filter(t=>!n.has(t))}function Io(i){return i.data||{}}function To(i){return i.resolve||{}}function Eo(i,e,n,t,r,s){return $(o=>xo(i,e,n,t,o.extractedUrl,r,s).pipe(k(({state:a,tree:l})=>S(p({},o),{targetSnapshot:a,urlAfterRedirects:l}))))}function Ao(i,e){return $(n=>{let{targetSnapshot:t,guards:{canActivateChecks:r}}=n;if(!r.length)return m(n);let s=new Set(r.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let c of Di(l))o.add(c);let a=0;return O(o).pipe(pe(l=>s.has(l)?Do(l,t,i,e):(l.data=Ln(l,l.parent,i).resolve,m(void 0))),T(()=>a++),Gt(1),$(l=>a===o.size?m(n):se))})}function Di(i){let e=i.children.map(n=>Di(n)).flat();return[i,...e]}function Do(i,e,n,t){let r=i.routeConfig,s=i._resolve;return r?.title!==void 0&&!xi(r)&&(s[Ke]=r.title),Oo(s,i,e,t).pipe(k(o=>(i._resolvedData=o,i.data=Ln(i,i.parent,n).resolve,null)))}function Oo(i,e,n,t){let r=pn(i);if(r.length===0)return m({});let s={};return O(r).pipe($(o=>$o(i[o],e,n,t).pipe(Z(),T(a=>{s[o]=a}))),Gt(1),lt(s),de(o=>Ti(o)?se:Ee(o)))}function $o(i,e,n,t){let r=Ye(e)??t,s=Se(i,r),o=s.resolve?s.resolve(e,n):Y(r,()=>s(e,n));return ie(o)}function hn(i){return M(e=>{let n=i(e);return n?O(n).pipe(k(()=>e)):m(e)})}var Oi=(()=>{let e=class e{buildTitle(t){let r,s=t.root;for(;s!==void 0;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(o=>o.outlet===v);return r}getResolvedTitleForRoute(t){return t.data[Ke]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:()=>g(Mo),providedIn:"root"});let i=e;return i})(),Mo=(()=>{let e=class e extends Oi{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(A(Kr))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),et=new E("",{providedIn:"root",factory:()=>({})}),Ge=new E(""),qn=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=g(bt)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return m(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=ie(t.loadComponent()).pipe(k($i),T(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),ct(()=>{this.componentLoaders.delete(t)})),s=new Vt(r,()=>new j).pipe(Ht());return this.componentLoaders.set(t,s),s}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return m({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=Po(r,this.compiler,t,this.onLoadEndListener).pipe(ct(()=>{this.childrenLoaders.delete(r)})),a=new Vt(o,()=>new j).pipe(Ht());return this.childrenLoaders.set(r,a),a}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function Po(i,e,n,t){return ie(i.loadChildren()).pipe(k($i),$(r=>r instanceof Lr||Array.isArray(r)?m(r):O(e.compileModuleAsync(r))),k(r=>{t&&t(i);let s,o,a=!1;return Array.isArray(r)?(o=r,a=!0):(s=r.create(n).injector,o=s.get(Ge,[],{optional:!0,self:!0}).flat()),{routes:o.map(_n),injector:s}}))}function No(i){return i&&typeof i=="object"&&"default"in i}function $i(i){return No(i)?i.default:i}var Bn=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:()=>g(Uo),providedIn:"root"});let i=e;return i})(),Uo=(()=>{let e=class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Mi=new E(""),Pi=new E("");function jo(i,e,n){let t=i.get(Pi),r=i.get(Br);return i.get(J).runOutsideAngular(()=>{if(!r.startViewTransition||t.skipNextTransition)return t.skipNextTransition=!1,Promise.resolve();let s,o=new Promise(c=>{s=c}),a=r.startViewTransition(()=>(s(),Lo(i))),{onViewTransitionCreated:l}=t;return l&&Y(i,()=>l({transition:a,from:e,to:n})),o})}function Lo(i){return new Promise(e=>{Ir(e,{injector:i})})}var Lt=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new j,this.transitionAbortSubject=new j,this.configLoader=g(qn),this.environmentInjector=g(Oe),this.urlSerializer=g(Ce),this.rootContexts=g(Xe),this.location=g(Pe),this.inputBindingEnabled=g(Ut,{optional:!0})!==null,this.titleStrategy=g(Oi),this.options=g(et,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=g(Bn),this.createViewTransition=g(Mi,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>m(void 0),this.rootComponentType=null;let t=s=>this.events.next(new kn(s)),r=s=>this.events.next(new xn(s));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(S(p(p({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,s){return this.transitions=new L({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ze,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(oe(o=>o.id!==0),k(o=>S(p({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),M(o=>{this.currentTransition=o;let a=!1,l=!1;return m(o).pipe(T(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?S(p({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),M(c=>{let u=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=c.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!u&&d!=="reload"){let h="";return this.events.next(new ne(c.id,this.urlSerializer.serialize(c.rawUrl),h,Tt.IgnoredSameUrlNavigation)),c.resolve(null),se}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return m(c).pipe(M(h=>{let f=this.transitions?.getValue();return this.events.next(new ke(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?se:Promise.resolve(h)}),Eo(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),T(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=S(p({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new Et(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:h,extractedUrl:f,source:C,restoredState:w,extras:U}=c,F=new ke(h,this.urlSerializer.serialize(f),C,w);this.events.next(F);let ot=yi(this.rootComponentType).snapshot;return this.currentTransition=o=S(p({},c),{targetSnapshot:ot,urlAfterRedirects:f,extras:S(p({},U),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,m(o)}else{let h="";return this.events.next(new ne(c.id,this.urlSerializer.serialize(c.extractedUrl),h,Tt.IgnoredByUrlHandlingStrategy)),c.resolve(null),se}}),T(c=>{let u=new vn(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),k(c=>(this.currentTransition=o=S(p({},c),{guards:Vs(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),to(this.environmentInjector,c=>this.events.next(c)),T(c=>{if(o.guardsResult=c.guardsResult,ye(c.guardsResult))throw Si(this.urlSerializer,c.guardsResult);let u=new bn(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),oe(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",z.GuardRejected),!1)),hn(c=>{if(c.guards.canActivateChecks.length)return m(c).pipe(T(u=>{let d=new wn(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),M(u=>{let d=!1;return m(u).pipe(Ao(this.paramsInheritanceStrategy,this.environmentInjector),T({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",z.NoDataFromResolver)}}))}),T(u=>{let d=new yn(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),hn(c=>{let u=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(T(f=>{d.component=f}),k(()=>{})));for(let f of d.children)h.push(...u(f));return h};return at(u(c.targetSnapshot.root)).pipe(Qt(null),fe(1))}),hn(()=>this.afterPreactivation()),M(()=>{let{currentSnapshot:c,targetSnapshot:u}=o,d=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return d?O(d).pipe(k(()=>o)):m(o)}),k(c=>{let u=js(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=S(p({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),T(()=>{this.events.next(new He)}),Hs(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),fe(1),T({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new H(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),ht(this.transitionAbortSubject.pipe(T(c=>{throw c}))),ct(()=>{!a&&!l&&this.cancelNavigationTransition(o,"",z.SupersededByNewNavigation),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),de(c=>{if(l=!0,Ii(c))this.events.next(new te(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),_s(c)?this.events.next(new Ve(c.url)):o.resolve(!1);else{this.events.next(new Be(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(c))}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return se}))}))}cancelNavigationTransition(t,r,s){let o=new te(t.id,this.urlSerializer.serialize(t.extractedUrl),r,s);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function zo(i){return i!==ze}var _o=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:()=>g(Fo),providedIn:"root"});let i=e;return i})(),jn=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},Fo=(()=>{let e=class e extends jn{};e.\u0275fac=(()=>{let t;return function(s){return(t||(t=Yt(e)))(s||e)}})(),e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Ni=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:()=>g(qo),providedIn:"root"});let i=e;return i})(),qo=(()=>{let e=class e extends Ni{constructor(){super(...arguments),this.location=g(Pe),this.urlSerializer=g(Ce),this.options=g(et,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=g(Bn),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ee,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=yi(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof ke)this.stateMemento=this.createStateMemento();else if(t instanceof ne)this.rawUrlTree=r.initialUrl;else if(t instanceof Et){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(s,r)}}else t instanceof He?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):t instanceof te&&(t.code===z.GuardRejected||t.code===z.NoDataFromResolver)?this.restoreHistory(r):t instanceof Be?this.restoreHistory(r,!0):t instanceof H&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let s=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){let o=this.browserPageId,a=p(p({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(s,"",a)}else{let o=p(p({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}};e.\u0275fac=(()=>{let t;return function(s){return(t||(t=Yt(e)))(s||e)}})(),e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),je=function(i){return i[i.COMPLETE=0]="COMPLETE",i[i.FAILED=1]="FAILED",i[i.REDIRECTING=2]="REDIRECTING",i}(je||{});function Ui(i,e){i.events.pipe(oe(n=>n instanceof H||n instanceof te||n instanceof Be||n instanceof ne),k(n=>n instanceof H||n instanceof ne?je.COMPLETE:(n instanceof te?n.code===z.Redirect||n.code===z.SupersededByNewNavigation:!1)?je.REDIRECTING:je.FAILED),oe(n=>n!==je.REDIRECTING),fe(1)).subscribe(()=>{e()})}function Bo(i){throw i}var Ho={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Vo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},G=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=g(zr),this.stateManager=g(Ni),this.options=g(et,{optional:!0})||{},this.pendingTasks=g(_r),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=g(Lt),this.urlSerializer=g(Ce),this.location=g(Pe),this.urlHandlingStrategy=g(Bn),this._events=new j,this.errorHandler=this.options.errorHandler||Bo,this.navigated=!1,this.routeReuseStrategy=g(_o),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=g(Ge,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!g(Ut,{optional:!0}),this.eventsSubscription=new ir,this.isNgZoneEnabled=g(J)instanceof J&&J.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof te&&r.code!==z.Redirect&&r.code!==z.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof H)this.navigated=!0;else if(r instanceof Ve){let a=this.urlHandlingStrategy.merge(r.url,s.currentRawUrl),l={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||zo(s.source)};this.scheduleNavigation(a,ze,null,l,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}Zo(r)&&this._events.next(r)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ze,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let c=p({},s);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let l=this.parseUrl(t);this.scheduleNavigation(l,r,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(_n),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:l,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:a,d=null;switch(l){case"merge":d=p(p({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=s?s.snapshot:this.routerState.snapshot.root;h=mi(f)}catch{(typeof t[0]!="string"||!t[0].startsWith("/"))&&(t=[]),h=this.currentUrlTree.root}return vi(h,t,d,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){let s=ye(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,ze,null,r)}navigate(t,r={skipLocationChange:!1}){return Wo(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let s;if(r===!0?s=p({},Ho):r===!1?s=p({},Vo):s=r,ye(t))return Yr(this.currentUrlTree,t,s);let o=this.parseUrl(t);return Yr(this.currentUrlTree,o,s)}removeEmptyProps(t){return Object.entries(t).reduce((r,[s,o])=>(o!=null&&(r[s]=o),r),{})}scheduleNavigation(t,r,s,o,a){if(this.disposed)return Promise.resolve(!1);let l,c,u;a?(l=a.resolve,c=a.reject,u=a.promise):u=new Promise((h,f)=>{l=h,c=f});let d=this.pendingTasks.add();return Ui(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:l,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})();function Wo(i){for(let e=0;e<i.length;e++)if(i[e]==null)throw new D(4008,!1)}function Zo(i){return!(i instanceof He)&&!(i instanceof Ve)}var Cl=(()=>{let e=class e{constructor(t,r,s,o,a,l){this.router=t,this.route=r,this.tabIndexAttribute=s,this.renderer=o,this.el=a,this.locationStrategy=l,this.href=null,this.commands=null,this.onChanges=new j,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;let c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=t.events.subscribe(u=>{u instanceof H&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t!=null?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,s,o,a){let l=this.urlTree;if(l===null||this.isAnchorElement&&(t!==0||r||s||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(l,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:xr(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let s=this.renderer,o=this.el.nativeElement;r!==null?s.setAttribute(o,t,r):s.removeAttribute(o,t)}get urlTree(){return this.commands===null?null:this.router.createUrlTree(this.commands,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(r){return new(r||e)(q(G),q(re),mr("tabindex"),q(Cr),q(gt),q(Me))},e.\u0275dir=Xt({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,s){r&1&&vt("click",function(a){return s.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&Er("target",s.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[pt.HasDecoratorInputTransform,"preserveFragment","preserveFragment",wt],skipLocationChange:[pt.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",wt],replaceUrl:[pt.HasDecoratorInputTransform,"replaceUrl","replaceUrl",wt],routerLink:"routerLink"},standalone:!0,features:[Tr,De]});let i=e;return i})();var Nt=class{};var Qo=(()=>{let e=class e{constructor(t,r,s,o,a){this.router=t,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(oe(t=>t instanceof H),pe(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let s=[];for(let o of r){o.providers&&!o._injector&&(o._injector=tn(o.providers,t,`Route: ${o.path}`));let a=o._injector??t,l=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(l,o.children??o._loadedRoutes))}return O(s).pipe(Wt())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let s;r.loadChildren&&r.canLoad===void 0?s=this.loader.loadChildren(t,r):s=m(null);let o=s.pipe($(a=>a===null?m(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??t,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(r);return O([o,a]).pipe(Wt())}else return o})}};e.\u0275fac=function(r){return new(r||e)(A(G),A(bt),A(Oe),A(Nt),A(qn))},e.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"});let i=e;return i})(),Hn=new E(""),ji=(()=>{let e=class e{constructor(t,r,s,o,a={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ke?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof H?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof ne&&t.code===Tt.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof At&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new At(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(r){Rr()},e.\u0275prov=R({token:e,factory:e.\u0275fac});let i=e;return i})();function Sl(i,...e){return wr([{provide:Ge,multi:!0,useValue:i},[],{provide:re,useFactory:Li,deps:[G]},{provide:on,multi:!0,useFactory:zi},e.map(n=>n.\u0275providers)])}function Li(i){return i.routerState.root}function Re(i,e){return{\u0275kind:i,\u0275providers:e}}function Rl(i={}){return Re(4,[{provide:Hn,useFactory:()=>{let n=g(an),t=g(J),r=g(Lt),s=g(Ce);return new ji(s,r,n,t,i)}}])}function zi(){let i=g(Jt);return e=>{let n=i.get(Fr);if(e!==n.components[0])return;let t=i.get(G),r=i.get(_i);i.get(Vn)===1&&t.initialNavigation(),i.get(Fi,null,Kt.Optional)?.setUpPreloading(),i.get(Hn,null,Kt.Optional)?.init(),t.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var _i=new E("",{factory:()=>new j}),Vn=new E("",{providedIn:"root",factory:()=>1});function Go(){return Re(2,[{provide:Vn,useValue:0},{provide:sn,multi:!0,deps:[Jt],useFactory:e=>{let n=e.get(Hr,Promise.resolve());return()=>n.then(()=>new Promise(t=>{let r=e.get(G),s=e.get(_i);Ui(r,()=>{t(!0)}),e.get(Lt).afterPreactivation=()=>(t(!0),s.closed?m(void 0):s),r.initialNavigation()}))}}])}function Ko(){return Re(3,[{provide:sn,multi:!0,useFactory:()=>{let e=g(G);return()=>{e.setUpLocationChangeListener()}}},{provide:Vn,useValue:2}])}var Fi=new E("");function Xo(i){return Re(0,[{provide:Fi,useExisting:Qo},{provide:Nt,useExisting:i}])}function Yo(){return Re(8,[ni,{provide:Ut,useExisting:ni}])}function Jo(i){let e=[{provide:Mi,useValue:jo},{provide:Pi,useValue:p({skipNextTransition:!!i?.skipInitialTransition},i)}];return Re(9,e)}var ii=new E("ROUTER_FORROOT_GUARD"),ea=[Pe,{provide:Ce,useClass:Fe},G,Xe,{provide:re,useFactory:Li,deps:[G]},qn,[]],Il=(()=>{let e=class e{constructor(t){}static forRoot(t,r){return{ngModule:e,providers:[ea,[],{provide:Ge,multi:!0,useValue:t},{provide:ii,useFactory:ia,deps:[[G,new vr,new br]]},{provide:et,useValue:r||{}},r?.useHash?na():ra(),ta(),r?.preloadingStrategy?Xo(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?sa(r):[],r?.bindToComponentInputs?Yo().\u0275providers:[],r?.enableViewTransitions?Jo().\u0275providers:[],oa()]}}static forChild(t){return{ngModule:e,providers:[{provide:Ge,multi:!0,useValue:t}]}}};e.\u0275fac=function(r){return new(r||e)(A(ii,8))},e.\u0275mod=ft({type:e}),e.\u0275inj=dt({});let i=e;return i})();function ta(){return{provide:Hn,useFactory:()=>{let i=g(an),e=g(J),n=g(et),t=g(Lt),r=g(Ce);return n.scrollOffset&&i.setOffset(n.scrollOffset),new ji(r,t,i,e,n)}}}function na(){return{provide:Me,useClass:Wr}}function ra(){return{provide:Me,useClass:Vr}}function ia(i){return"guarded"}function sa(i){return[i.initialNavigation==="disabled"?Ko().\u0275providers:[],i.initialNavigation==="enabledBlocking"?Go().\u0275providers:[]]}var si=new E("");function oa(){return[{provide:si,useFactory:zi},{provide:on,multi:!0,useExisting:si}]}function Qn(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var he=Qn();function Zi(i){he=i}var Qi=/[&<>"']/,aa=new RegExp(Qi.source,"g"),Gi=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,la=new RegExp(Gi.source,"g"),ca={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},qi=i=>ca[i];function N(i,e){if(e){if(Qi.test(i))return i.replace(aa,qi)}else if(Gi.test(i))return i.replace(la,qi);return i}var ua=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function ha(i){return i.replace(ua,(e,n)=>(n=n.toLowerCase(),n==="colon"?":":n.charAt(0)==="#"?n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):""))}var da=/(^|[^\[])\^/g;function x(i,e){let n=typeof i=="string"?i:i.source;e=e||"";let t={replace:(r,s)=>{let o=typeof s=="string"?s:s.source;return o=o.replace(da,"$1"),n=n.replace(r,o),t},getRegex:()=>new RegExp(n,e)};return t}function Bi(i){try{i=encodeURI(i).replace(/%25/g,"%")}catch{return null}return i}var nt={exec:()=>null};function Hi(i,e){let n=i.replace(/\|/g,(s,o,a)=>{let l=!1,c=o;for(;--c>=0&&a[c]==="\\";)l=!l;return l?"|":" |"}),t=n.split(/ \|/),r=0;if(t[0].trim()||t.shift(),t.length>0&&!t[t.length-1].trim()&&t.pop(),e)if(t.length>e)t.splice(e);else for(;t.length<e;)t.push("");for(;r<t.length;r++)t[r]=t[r].trim().replace(/\\\|/g,"|");return t}function zt(i,e,n){let t=i.length;if(t===0)return"";let r=0;for(;r<t;){let s=i.charAt(t-r-1);if(s===e&&!n)r++;else if(s!==e&&n)r++;else break}return i.slice(0,t-r)}function pa(i,e){if(i.indexOf(e[1])===-1)return-1;let n=0;for(let t=0;t<i.length;t++)if(i[t]==="\\")t++;else if(i[t]===e[0])n++;else if(i[t]===e[1]&&(n--,n<0))return t;return-1}function Vi(i,e,n,t){let r=e.href,s=e.title?N(e.title):null,o=i[1].replace(/\\([\[\]])/g,"$1");if(i[0].charAt(0)!=="!"){t.state.inLink=!0;let a={type:"link",raw:n,href:r,title:s,text:o,tokens:t.inlineTokens(o)};return t.state.inLink=!1,a}return{type:"image",raw:n,href:r,title:s,text:N(o)}}function fa(i,e){let n=i.match(/^(\s+)(?:```)/);if(n===null)return e;let t=n[1];return e.split(`
`).map(r=>{let s=r.match(/^\s+/);if(s===null)return r;let[o]=s;return o.length>=t.length?r.slice(t.length):r}).join(`
`)}var Te=class{options;rules;lexer;constructor(e){this.options=e||he}space(e){let n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(e){let n=this.rules.block.code.exec(e);if(n){let t=n[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?t:zt(t,`
`)}}}fences(e){let n=this.rules.block.fences.exec(e);if(n){let t=n[0],r=fa(t,n[3]||"");return{type:"code",raw:t,lang:n[2]?n[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):n[2],text:r}}}heading(e){let n=this.rules.block.heading.exec(e);if(n){let t=n[2].trim();if(/#$/.test(t)){let r=zt(t,"#");(this.options.pedantic||!r||/ $/.test(r))&&(t=r.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:t,tokens:this.lexer.inline(t)}}}hr(e){let n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:n[0]}}blockquote(e){let n=this.rules.block.blockquote.exec(e);if(n){let t=n[0].replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`);t=zt(t.replace(/^ *>[ \t]?/gm,""),`
`);let r=this.lexer.state.top;this.lexer.state.top=!0;let s=this.lexer.blockTokens(t);return this.lexer.state.top=r,{type:"blockquote",raw:n[0],tokens:s,text:t}}}list(e){let n=this.rules.block.list.exec(e);if(n){let t=n[1].trim(),r=t.length>1,s={type:"list",raw:"",ordered:r,start:r?+t.slice(0,-1):"",loose:!1,items:[]};t=r?`\\d{1,9}\\${t.slice(-1)}`:`\\${t}`,this.options.pedantic&&(t=r?t:"[*+-]");let o=new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),a="",l="",c=!1;for(;e;){let u=!1;if(!(n=o.exec(e))||this.rules.block.hr.test(e))break;a=n[0],e=e.substring(a.length);let d=n[2].split(`
`,1)[0].replace(/^\t+/,F=>" ".repeat(3*F.length)),h=e.split(`
`,1)[0],f=0;this.options.pedantic?(f=2,l=d.trimStart()):(f=n[2].search(/[^ ]/),f=f>4?1:f,l=d.slice(f),f+=n[1].length);let C=!1;if(!d&&/^ *$/.test(h)&&(a+=h+`
`,e=e.substring(h.length+1),u=!0),!u){let F=new RegExp(`^ {0,${Math.min(3,f-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),ot=new RegExp(`^ {0,${Math.min(3,f-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),tr=new RegExp(`^ {0,${Math.min(3,f-1)}}(?:\`\`\`|~~~)`),nr=new RegExp(`^ {0,${Math.min(3,f-1)}}#`);for(;e;){let Bt=e.split(`
`,1)[0];if(h=Bt,this.options.pedantic&&(h=h.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),tr.test(h)||nr.test(h)||F.test(h)||ot.test(e))break;if(h.search(/[^ ]/)>=f||!h.trim())l+=`
`+h.slice(f);else{if(C||d.search(/[^ ]/)>=4||tr.test(d)||nr.test(d)||ot.test(d))break;l+=`
`+h}!C&&!h.trim()&&(C=!0),a+=Bt+`
`,e=e.substring(Bt.length+1),d=h.slice(f)}}s.loose||(c?s.loose=!0:/\n *\n *$/.test(a)&&(c=!0));let w=null,U;this.options.gfm&&(w=/^\[[ xX]\] /.exec(l),w&&(U=w[0]!=="[ ] ",l=l.replace(/^\[[ xX]\] +/,""))),s.items.push({type:"list_item",raw:a,task:!!w,checked:U,loose:!1,text:l,tokens:[]}),s.raw+=a}s.items[s.items.length-1].raw=a.trimEnd(),s.items[s.items.length-1].text=l.trimEnd(),s.raw=s.raw.trimEnd();for(let u=0;u<s.items.length;u++)if(this.lexer.state.top=!1,s.items[u].tokens=this.lexer.blockTokens(s.items[u].text,[]),!s.loose){let d=s.items[u].tokens.filter(f=>f.type==="space"),h=d.length>0&&d.some(f=>/\n.*\n/.test(f.raw));s.loose=h}if(s.loose)for(let u=0;u<s.items.length;u++)s.items[u].loose=!0;return s}}html(e){let n=this.rules.block.html.exec(e);if(n)return{type:"html",block:!0,raw:n[0],pre:n[1]==="pre"||n[1]==="script"||n[1]==="style",text:n[0]}}def(e){let n=this.rules.block.def.exec(e);if(n){let t=n[1].toLowerCase().replace(/\s+/g," "),r=n[2]?n[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",s=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):n[3];return{type:"def",tag:t,raw:n[0],href:r,title:s}}}table(e){let n=this.rules.block.table.exec(e);if(!n||!/[:|]/.test(n[2]))return;let t=Hi(n[1]),r=n[2].replace(/^\||\| *$/g,"").split("|"),s=n[3]&&n[3].trim()?n[3].replace(/\n[ \t]*$/,"").split(`
`):[],o={type:"table",raw:n[0],header:[],align:[],rows:[]};if(t.length===r.length){for(let a of r)/^ *-+: *$/.test(a)?o.align.push("right"):/^ *:-+: *$/.test(a)?o.align.push("center"):/^ *:-+ *$/.test(a)?o.align.push("left"):o.align.push(null);for(let a of t)o.header.push({text:a,tokens:this.lexer.inline(a)});for(let a of s)o.rows.push(Hi(a,o.header.length).map(l=>({text:l,tokens:this.lexer.inline(l)})));return o}}lheading(e){let n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(e){let n=this.rules.block.paragraph.exec(e);if(n){let t=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:t,tokens:this.lexer.inline(t)}}}text(e){let n=this.rules.block.text.exec(e);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(e){let n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:N(n[1])}}tag(e){let n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&/^<a /i.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:n[0]}}link(e){let n=this.rules.inline.link.exec(e);if(n){let t=n[2].trim();if(!this.options.pedantic&&/^</.test(t)){if(!/>$/.test(t))return;let o=zt(t.slice(0,-1),"\\");if((t.length-o.length)%2===0)return}else{let o=pa(n[2],"()");if(o>-1){let l=(n[0].indexOf("!")===0?5:4)+n[1].length+o;n[2]=n[2].substring(0,o),n[0]=n[0].substring(0,l).trim(),n[3]=""}}let r=n[2],s="";if(this.options.pedantic){let o=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r);o&&(r=o[1],s=o[3])}else s=n[3]?n[3].slice(1,-1):"";return r=r.trim(),/^</.test(r)&&(this.options.pedantic&&!/>$/.test(t)?r=r.slice(1):r=r.slice(1,-1)),Vi(n,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:s&&s.replace(this.rules.inline.anyPunctuation,"$1")},n[0],this.lexer)}}reflink(e,n){let t;if((t=this.rules.inline.reflink.exec(e))||(t=this.rules.inline.nolink.exec(e))){let r=(t[2]||t[1]).replace(/\s+/g," "),s=n[r.toLowerCase()];if(!s){let o=t[0].charAt(0);return{type:"text",raw:o,text:o}}return Vi(t,s,t[0],this.lexer)}}emStrong(e,n,t=""){let r=this.rules.inline.emStrongLDelim.exec(e);if(!r||r[3]&&t.match(/[\p{L}\p{N}]/u))return;if(!(r[1]||r[2]||"")||!t||this.rules.inline.punctuation.exec(t)){let o=[...r[0]].length-1,a,l,c=o,u=0,d=r[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(d.lastIndex=0,n=n.slice(-1*e.length+o);(r=d.exec(n))!=null;){if(a=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!a)continue;if(l=[...a].length,r[3]||r[4]){c+=l;continue}else if((r[5]||r[6])&&o%3&&!((o+l)%3)){u+=l;continue}if(c-=l,c>0)continue;l=Math.min(l,l+c+u);let h=[...r[0]][0].length,f=e.slice(0,o+r.index+h+l);if(Math.min(o,l)%2){let w=f.slice(1,-1);return{type:"em",raw:f,text:w,tokens:this.lexer.inlineTokens(w)}}let C=f.slice(2,-2);return{type:"strong",raw:f,text:C,tokens:this.lexer.inlineTokens(C)}}}}codespan(e){let n=this.rules.inline.code.exec(e);if(n){let t=n[2].replace(/\n/g," "),r=/[^ ]/.test(t),s=/^ /.test(t)&&/ $/.test(t);return r&&s&&(t=t.substring(1,t.length-1)),t=N(t,!0),{type:"codespan",raw:n[0],text:t}}}br(e){let n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}del(e){let n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(e){let n=this.rules.inline.autolink.exec(e);if(n){let t,r;return n[2]==="@"?(t=N(n[1]),r="mailto:"+t):(t=N(n[1]),r=t),{type:"link",raw:n[0],text:t,href:r,tokens:[{type:"text",raw:t,text:t}]}}}url(e){let n;if(n=this.rules.inline.url.exec(e)){let t,r;if(n[2]==="@")t=N(n[0]),r="mailto:"+t;else{let s;do s=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])?.[0]??"";while(s!==n[0]);t=N(n[0]),n[1]==="www."?r="http://"+n[0]:r=n[0]}return{type:"link",raw:n[0],text:t,href:r,tokens:[{type:"text",raw:t,text:t}]}}}inlineText(e){let n=this.rules.inline.text.exec(e);if(n){let t;return this.lexer.state.inRawBlock?t=n[0]:t=N(n[0]),{type:"text",raw:n[0],text:t}}}},ga=/^(?: *(?:\n|$))+/,ma=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,va=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,it=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,ba=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Ki=/(?:[*+-]|\d{1,9}[.)])/,Xi=x(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,Ki).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),Gn=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,wa=/^[^\n]+/,Kn=/(?!\s*\])(?:\\.|[^\[\]\\])+/,ya=x(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",Kn).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),ka=x(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Ki).getRegex(),qt="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Xn=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,xa=x("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",Xn).replace("tag",qt).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Yi=x(Gn).replace("hr",it).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",qt).getRegex(),Ca=x(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Yi).getRegex(),Yn={blockquote:Ca,code:ma,def:ya,fences:va,heading:ba,hr:it,html:xa,lheading:Xi,list:ka,newline:ga,paragraph:Yi,table:nt,text:wa},Wi=x("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",it).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",qt).getRegex(),Sa=S(p({},Yn),{table:Wi,paragraph:x(Gn).replace("hr",it).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Wi).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",qt).getRegex()}),Ra=S(p({},Yn),{html:x(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Xn).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:nt,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:x(Gn).replace("hr",it).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Xi).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()}),Ji=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Ia=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,es=/^( {2,}|\\)\n(?!\s*$)/,Ta=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,st="\\p{P}\\p{S}",Ea=x(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,st).getRegex(),Aa=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,Da=x(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,st).getRegex(),Oa=x("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,st).getRegex(),$a=x("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,st).getRegex(),Ma=x(/\\([punct])/,"gu").replace(/punct/g,st).getRegex(),Pa=x(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Na=x(Xn).replace("(?:-->|$)","-->").getRegex(),Ua=x("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Na).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Ft=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,ja=x(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",Ft).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),ts=x(/^!?\[(label)\]\[(ref)\]/).replace("label",Ft).replace("ref",Kn).getRegex(),ns=x(/^!?\[(ref)\](?:\[\])?/).replace("ref",Kn).getRegex(),La=x("reflink|nolink(?!\\()","g").replace("reflink",ts).replace("nolink",ns).getRegex(),Jn={_backpedal:nt,anyPunctuation:Ma,autolink:Pa,blockSkip:Aa,br:es,code:Ia,del:nt,emStrongLDelim:Da,emStrongRDelimAst:Oa,emStrongRDelimUnd:$a,escape:Ji,link:ja,nolink:ns,punctuation:Ea,reflink:ts,reflinkSearch:La,tag:Ua,text:Ta,url:nt},za=S(p({},Jn),{link:x(/^!?\[(label)\]\((.*?)\)/).replace("label",Ft).getRegex(),reflink:x(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Ft).getRegex()}),Wn=S(p({},Jn),{escape:x(Ji).replace("])","~|])").getRegex(),url:x(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),_a=S(p({},Wn),{br:x(es).replace("{2,}","*").getRegex(),text:x(Wn.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),_t={normal:Yn,gfm:Sa,pedantic:Ra},tt={normal:Jn,gfm:Wn,breaks:_a,pedantic:za},K=class i{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||he,this.options.tokenizer=this.options.tokenizer||new Te,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let n={block:_t.normal,inline:tt.normal};this.options.pedantic?(n.block=_t.pedantic,n.inline=tt.pedantic):this.options.gfm&&(n.block=_t.gfm,this.options.breaks?n.inline=tt.breaks:n.inline=tt.gfm),this.tokenizer.rules=n}static get rules(){return{block:_t,inline:tt}}static lex(e,n){return new i(n).lex(e)}static lexInline(e,n){return new i(n).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){let t=this.inlineQueue[n];this.inlineTokens(t.src,t.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,n=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(a,l,c)=>l+"    ".repeat(c.length));let t,r,s,o;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>(t=a.call({lexer:this},e,n))?(e=e.substring(t.raw.length),n.push(t),!0):!1))){if(t=this.tokenizer.space(e)){e=e.substring(t.raw.length),t.raw.length===1&&n.length>0?n[n.length-1].raw+=`
`:n.push(t);continue}if(t=this.tokenizer.code(e)){e=e.substring(t.raw.length),r=n[n.length-1],r&&(r.type==="paragraph"||r.type==="text")?(r.raw+=`
`+t.raw,r.text+=`
`+t.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text):n.push(t);continue}if(t=this.tokenizer.fences(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.heading(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.hr(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.blockquote(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.list(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.html(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.def(e)){e=e.substring(t.raw.length),r=n[n.length-1],r&&(r.type==="paragraph"||r.type==="text")?(r.raw+=`
`+t.raw,r.text+=`
`+t.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text):this.tokens.links[t.tag]||(this.tokens.links[t.tag]={href:t.href,title:t.title});continue}if(t=this.tokenizer.table(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.lheading(e)){e=e.substring(t.raw.length),n.push(t);continue}if(s=e,this.options.extensions&&this.options.extensions.startBlock){let a=1/0,l=e.slice(1),c;this.options.extensions.startBlock.forEach(u=>{c=u.call({lexer:this},l),typeof c=="number"&&c>=0&&(a=Math.min(a,c))}),a<1/0&&a>=0&&(s=e.substring(0,a+1))}if(this.state.top&&(t=this.tokenizer.paragraph(s))){r=n[n.length-1],o&&r.type==="paragraph"?(r.raw+=`
`+t.raw,r.text+=`
`+t.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):n.push(t),o=s.length!==e.length,e=e.substring(t.raw.length);continue}if(t=this.tokenizer.text(e)){e=e.substring(t.raw.length),r=n[n.length-1],r&&r.type==="text"?(r.raw+=`
`+t.raw,r.text+=`
`+t.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):n.push(t);continue}if(e){let a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){let t,r,s,o=e,a,l,c;if(this.tokens.links){let u=Object.keys(this.tokens.links);if(u.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(o))!=null;)u.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(o=o.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.blockSkip.exec(o))!=null;)o=o.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(a=this.tokenizer.rules.inline.anyPunctuation.exec(o))!=null;)o=o.slice(0,a.index)+"++"+o.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(l||(c=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(u=>(t=u.call({lexer:this},e,n))?(e=e.substring(t.raw.length),n.push(t),!0):!1))){if(t=this.tokenizer.escape(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.tag(e)){e=e.substring(t.raw.length),r=n[n.length-1],r&&t.type==="text"&&r.type==="text"?(r.raw+=t.raw,r.text+=t.text):n.push(t);continue}if(t=this.tokenizer.link(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(t.raw.length),r=n[n.length-1],r&&t.type==="text"&&r.type==="text"?(r.raw+=t.raw,r.text+=t.text):n.push(t);continue}if(t=this.tokenizer.emStrong(e,o,c)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.codespan(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.br(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.del(e)){e=e.substring(t.raw.length),n.push(t);continue}if(t=this.tokenizer.autolink(e)){e=e.substring(t.raw.length),n.push(t);continue}if(!this.state.inLink&&(t=this.tokenizer.url(e))){e=e.substring(t.raw.length),n.push(t);continue}if(s=e,this.options.extensions&&this.options.extensions.startInline){let u=1/0,d=e.slice(1),h;this.options.extensions.startInline.forEach(f=>{h=f.call({lexer:this},d),typeof h=="number"&&h>=0&&(u=Math.min(u,h))}),u<1/0&&u>=0&&(s=e.substring(0,u+1))}if(t=this.tokenizer.inlineText(s)){e=e.substring(t.raw.length),t.raw.slice(-1)!=="_"&&(c=t.raw.slice(-1)),l=!0,r=n[n.length-1],r&&r.type==="text"?(r.raw+=t.raw,r.text+=t.text):n.push(t);continue}if(e){let u="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return n}},W=class{options;constructor(e){this.options=e||he}code(e,n,t){let r=(n||"").match(/^\S*/)?.[0];return e=e.replace(/\n$/,"")+`
`,r?'<pre><code class="language-'+N(r)+'">'+(t?e:N(e,!0))+`</code></pre>
`:"<pre><code>"+(t?e:N(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e,n){return e}heading(e,n,t){return`<h${n}>${e}</h${n}>
`}hr(){return`<hr>
`}list(e,n,t){let r=n?"ol":"ul",s=n&&t!==1?' start="'+t+'"':"";return"<"+r+s+`>
`+e+"</"+r+`>
`}listitem(e,n,t){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(e){return`<p>${e}</p>
`}table(e,n){return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+n+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,n){let t=n.header?"th":"td";return(n.align?`<${t} align="${n.align}">`:`<${t}>`)+e+`</${t}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return"<br>"}del(e){return`<del>${e}</del>`}link(e,n,t){let r=Bi(e);if(r===null)return t;e=r;let s='<a href="'+e+'"';return n&&(s+=' title="'+n+'"'),s+=">"+t+"</a>",s}image(e,n,t){let r=Bi(e);if(r===null)return t;e=r;let s=`<img src="${e}" alt="${t}"`;return n&&(s+=` title="${n}"`),s+=">",s}text(e){return e}},rt=class{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,n,t){return""+t}image(e,n,t){return""+t}br(){return""}},X=class i{options;renderer;textRenderer;constructor(e){this.options=e||he,this.options.renderer=this.options.renderer||new W,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new rt}static parse(e,n){return new i(n).parse(e)}static parseInline(e,n){return new i(n).parseInline(e)}parse(e,n=!0){let t="";for(let r=0;r<e.length;r++){let s=e[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]){let o=s,a=this.options.extensions.renderers[o.type].call({parser:this},o);if(a!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(o.type)){t+=a||"";continue}}switch(s.type){case"space":continue;case"hr":{t+=this.renderer.hr();continue}case"heading":{let o=s;t+=this.renderer.heading(this.parseInline(o.tokens),o.depth,ha(this.parseInline(o.tokens,this.textRenderer)));continue}case"code":{let o=s;t+=this.renderer.code(o.text,o.lang,!!o.escaped);continue}case"table":{let o=s,a="",l="";for(let u=0;u<o.header.length;u++)l+=this.renderer.tablecell(this.parseInline(o.header[u].tokens),{header:!0,align:o.align[u]});a+=this.renderer.tablerow(l);let c="";for(let u=0;u<o.rows.length;u++){let d=o.rows[u];l="";for(let h=0;h<d.length;h++)l+=this.renderer.tablecell(this.parseInline(d[h].tokens),{header:!1,align:o.align[h]});c+=this.renderer.tablerow(l)}t+=this.renderer.table(a,c);continue}case"blockquote":{let o=s,a=this.parse(o.tokens);t+=this.renderer.blockquote(a);continue}case"list":{let o=s,a=o.ordered,l=o.start,c=o.loose,u="";for(let d=0;d<o.items.length;d++){let h=o.items[d],f=h.checked,C=h.task,w="";if(h.task){let U=this.renderer.checkbox(!!f);c?h.tokens.length>0&&h.tokens[0].type==="paragraph"?(h.tokens[0].text=U+" "+h.tokens[0].text,h.tokens[0].tokens&&h.tokens[0].tokens.length>0&&h.tokens[0].tokens[0].type==="text"&&(h.tokens[0].tokens[0].text=U+" "+h.tokens[0].tokens[0].text)):h.tokens.unshift({type:"text",text:U+" "}):w+=U+" "}w+=this.parse(h.tokens,c),u+=this.renderer.listitem(w,C,!!f)}t+=this.renderer.list(u,a,l);continue}case"html":{let o=s;t+=this.renderer.html(o.text,o.block);continue}case"paragraph":{let o=s;t+=this.renderer.paragraph(this.parseInline(o.tokens));continue}case"text":{let o=s,a=o.tokens?this.parseInline(o.tokens):o.text;for(;r+1<e.length&&e[r+1].type==="text";)o=e[++r],a+=`
`+(o.tokens?this.parseInline(o.tokens):o.text);t+=n?this.renderer.paragraph(a):a;continue}default:{let o='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return t}parseInline(e,n){n=n||this.renderer;let t="";for(let r=0;r<e.length;r++){let s=e[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]){let o=this.options.extensions.renderers[s.type].call({parser:this},s);if(o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){t+=o||"";continue}}switch(s.type){case"escape":{let o=s;t+=n.text(o.text);break}case"html":{let o=s;t+=n.html(o.text);break}case"link":{let o=s;t+=n.link(o.href,o.title,this.parseInline(o.tokens,n));break}case"image":{let o=s;t+=n.image(o.href,o.title,o.text);break}case"strong":{let o=s;t+=n.strong(this.parseInline(o.tokens,n));break}case"em":{let o=s;t+=n.em(this.parseInline(o.tokens,n));break}case"codespan":{let o=s;t+=n.codespan(o.text);break}case"br":{t+=n.br();break}case"del":{let o=s;t+=n.del(this.parseInline(o.tokens,n));break}case"text":{let o=s;t+=n.text(o.text);break}default:{let o='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return t}},Ie=class{options;constructor(e){this.options=e||he}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}},Zn=class{defaults=Qn();options=this.setOptions;parse=this.#e(K.lex,X.parse);parseInline=this.#e(K.lexInline,X.parseInline);Parser=X;Renderer=W;TextRenderer=rt;Lexer=K;Tokenizer=Te;Hooks=Ie;constructor(...e){this.use(...e)}walkTokens(e,n){let t=[];for(let r of e)switch(t=t.concat(n.call(this,r)),r.type){case"table":{let s=r;for(let o of s.header)t=t.concat(this.walkTokens(o.tokens,n));for(let o of s.rows)for(let a of o)t=t.concat(this.walkTokens(a.tokens,n));break}case"list":{let s=r;t=t.concat(this.walkTokens(s.items,n));break}default:{let s=r;this.defaults.extensions?.childTokens?.[s.type]?this.defaults.extensions.childTokens[s.type].forEach(o=>{let a=s[o].flat(1/0);t=t.concat(this.walkTokens(a,n))}):s.tokens&&(t=t.concat(this.walkTokens(s.tokens,n)))}}return t}use(...e){let n=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(t=>{let r=p({},t);if(r.async=this.defaults.async||r.async||!1,t.extensions&&(t.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if("renderer"in s){let o=n.renderers[s.name];o?n.renderers[s.name]=function(...a){let l=s.renderer.apply(this,a);return l===!1&&(l=o.apply(this,a)),l}:n.renderers[s.name]=s.renderer}if("tokenizer"in s){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let o=n[s.level];o?o.unshift(s.tokenizer):n[s.level]=[s.tokenizer],s.start&&(s.level==="block"?n.startBlock?n.startBlock.push(s.start):n.startBlock=[s.start]:s.level==="inline"&&(n.startInline?n.startInline.push(s.start):n.startInline=[s.start]))}"childTokens"in s&&s.childTokens&&(n.childTokens[s.name]=s.childTokens)}),r.extensions=n),t.renderer){let s=this.defaults.renderer||new W(this.defaults);for(let o in t.renderer){if(!(o in s))throw new Error(`renderer '${o}' does not exist`);if(o==="options")continue;let a=o,l=t.renderer[a],c=s[a];s[a]=(...u)=>{let d=l.apply(s,u);return d===!1&&(d=c.apply(s,u)),d||""}}r.renderer=s}if(t.tokenizer){let s=this.defaults.tokenizer||new Te(this.defaults);for(let o in t.tokenizer){if(!(o in s))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;let a=o,l=t.tokenizer[a],c=s[a];s[a]=(...u)=>{let d=l.apply(s,u);return d===!1&&(d=c.apply(s,u)),d}}r.tokenizer=s}if(t.hooks){let s=this.defaults.hooks||new Ie;for(let o in t.hooks){if(!(o in s))throw new Error(`hook '${o}' does not exist`);if(o==="options")continue;let a=o,l=t.hooks[a],c=s[a];Ie.passThroughHooks.has(o)?s[a]=u=>{if(this.defaults.async)return Promise.resolve(l.call(s,u)).then(h=>c.call(s,h));let d=l.call(s,u);return c.call(s,d)}:s[a]=(...u)=>{let d=l.apply(s,u);return d===!1&&(d=c.apply(s,u)),d}}r.hooks=s}if(t.walkTokens){let s=this.defaults.walkTokens,o=t.walkTokens;r.walkTokens=function(a){let l=[];return l.push(o.call(this,a)),s&&(l=l.concat(s.call(this,a))),l}}this.defaults=p(p({},this.defaults),r)}),this}setOptions(e){return this.defaults=p(p({},this.defaults),e),this}lexer(e,n){return K.lex(e,n??this.defaults)}parser(e,n){return X.parse(e,n??this.defaults)}#e(e,n){return(t,r)=>{let s=p({},r),o=p(p({},this.defaults),s);this.defaults.async===!0&&s.async===!1&&(o.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),o.async=!0);let a=this.#t(!!o.silent,!!o.async);if(typeof t>"u"||t===null)return a(new Error("marked(): input parameter is undefined or null"));if(typeof t!="string")return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected"));if(o.hooks&&(o.hooks.options=o),o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(t):t).then(l=>e(l,o)).then(l=>o.hooks?o.hooks.processAllTokens(l):l).then(l=>o.walkTokens?Promise.all(this.walkTokens(l,o.walkTokens)).then(()=>l):l).then(l=>n(l,o)).then(l=>o.hooks?o.hooks.postprocess(l):l).catch(a);try{o.hooks&&(t=o.hooks.preprocess(t));let l=e(t,o);o.hooks&&(l=o.hooks.processAllTokens(l)),o.walkTokens&&this.walkTokens(l,o.walkTokens);let c=n(l,o);return o.hooks&&(c=o.hooks.postprocess(c)),c}catch(l){return a(l)}}}#t(e,n){return t=>{if(t.message+=`
Please report this to https://github.com/markedjs/marked.`,e){let r="<p>An error occurred:</p><pre>"+N(t.message+"",!0)+"</pre>";return n?Promise.resolve(r):r}if(n)return Promise.reject(t);throw t}}},ue=new Zn;function b(i,e){return ue.parse(i,e)}b.options=b.setOptions=function(i){return ue.setOptions(i),b.defaults=ue.defaults,Zi(b.defaults),b};b.getDefaults=Qn;b.defaults=he;b.use=function(...i){return ue.use(...i),b.defaults=ue.defaults,Zi(b.defaults),b};b.walkTokens=function(i,e){return ue.walkTokens(i,e)};b.parseInline=ue.parseInline;b.Parser=X;b.parser=X.parse;b.Renderer=W;b.TextRenderer=rt;b.Lexer=K;b.lexer=K.lex;b.Tokenizer=Te;b.Hooks=Ie;b.parse=b;var Al=b.options,Dl=b.setOptions,Ol=b.use,$l=b.walkTokens,Ml=b.parseInline;var Pl=X.parse,Nl=K.lex;var Fa=["*"],qa="Copy",Ba="Copied",Ha=(()=>{let e=class e{constructor(){this._buttonClick$=new j,this.copied$=this._buttonClick$.pipe(M(()=>ur(m(!0),cr(3e3).pipe(lt(!1)))),hr(),fr(1)),this.copiedText$=this.copied$.pipe(ut(!1),k(t=>t?Ba:qa))}onCopyToClipboardClick(){this._buttonClick$.next()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Ae({type:e,selectors:[["markdown-clipboard"]],standalone:!0,features:[$e],decls:4,vars:7,consts:[[1,"markdown-clipboard-button",3,"click"]],template:function(r,s){r&1&&(Dr(0,"button",0),vt("click",function(){return s.onCopyToClipboardClick()}),nn(1,"async"),Ur(2),nn(3,"async"),Or()),r&2&&(Ar("copied",rn(1,3,s.copied$)),Sr(2),jr(rn(3,5,s.copiedText$)))},dependencies:[Zr],encapsulation:2,changeDetection:0});let i=e;return i})(),Va=new E("CLIPBOARD_OPTIONS");var er=function(i){return i.CommandLine="command-line",i.LineHighlight="line-highlight",i.LineNumbers="line-numbers",i}(er||{}),is=new E("MARKED_EXTENSIONS"),Wa=new E("MARKED_OPTIONS"),Za="[ngx-markdown] When using the `emoji` attribute you *have to* include Emoji-Toolkit files to `angular.json` or use imports. See README for more information",Qa="[ngx-markdown] When using the `katex` attribute you *have to* include KaTeX files to `angular.json` or use imports. See README for more information",Ga="[ngx-markdown] When using the `mermaid` attribute you *have to* include Mermaid files to `angular.json` or use imports. See README for more information",Ka="[ngx-markdown] When using the `clipboard` attribute you *have to* include Clipboard files to `angular.json` or use imports. See README for more information",Xa="[ngx-markdown] When using the `clipboard` attribute you *have to* provide the `viewContainerRef` parameter to `MarkdownService.render()` function",Ya="[ngx-markdown] When using the `src` attribute you *have to* pass the `HttpClient` as a parameter of the `forRoot` method. See README for more information",ss=new E("SECURITY_CONTEXT");var os=(()=>{let e=class e{get options(){return this._options}set options(t){this._options=p(p({},this.DEFAULT_MARKED_OPTIONS),t)}get renderer(){return this.options.renderer}set renderer(t){this.options.renderer=t}constructor(t,r,s,o,a,l,c){this.clipboardOptions=t,this.extensions=r,this.platform=o,this.securityContext=a,this.http=l,this.sanitizer=c,this.DEFAULT_MARKED_OPTIONS={renderer:new W},this.DEFAULT_KATEX_OPTIONS={delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\begin{equation}",right:"\\end{equation}",display:!0},{left:"\\begin{align}",right:"\\end{align}",display:!0},{left:"\\begin{alignat}",right:"\\end{alignat}",display:!0},{left:"\\begin{gather}",right:"\\end{gather}",display:!0},{left:"\\begin{CD}",right:"\\end{CD}",display:!0},{left:"\\[",right:"\\]",display:!0}]},this.DEFAULT_MERMAID_OPTIONS={startOnLoad:!1},this.DEFAULT_CLIPBOARD_OPTIONS={buttonComponent:void 0},this.DEFAULT_PARSE_OPTIONS={decodeHtml:!1,inline:!1,emoji:!1,mermaid:!1,markedOptions:void 0,disableSanitizer:!1},this.DEFAULT_RENDER_OPTIONS={clipboard:!1,clipboardOptions:void 0,katex:!1,katexOptions:void 0,mermaid:!1,mermaidOptions:void 0},this._reload$=new j,this.reload$=this._reload$.asObservable(),this.options=s}parse(t,r=this.DEFAULT_PARSE_OPTIONS){let{decodeHtml:s,inline:o,emoji:a,mermaid:l,disableSanitizer:c}=r,u=p(p({},this.options),r.markedOptions),d=u.renderer||this.renderer||new W;this.extensions&&(this.renderer=this.extendsRendererForExtensions(d)),l&&(this.renderer=this.extendsRendererForMermaid(d));let h=this.trimIndentation(t),f=s?this.decodeHtml(h):h,C=a?this.parseEmoji(f):f,w=this.parseMarked(C,u,o);return(c?w:this.sanitizer.sanitize(this.securityContext,w))||""}render(t,r=this.DEFAULT_RENDER_OPTIONS,s){let{clipboard:o,clipboardOptions:a,katex:l,katexOptions:c,mermaid:u,mermaidOptions:d}=r;l&&this.renderKatex(t,p(p({},this.DEFAULT_KATEX_OPTIONS),c)),u&&this.renderMermaid(t,p(p({},this.DEFAULT_MERMAID_OPTIONS),d)),o&&this.renderClipboard(t,s,p(p(p({},this.DEFAULT_CLIPBOARD_OPTIONS),this.clipboardOptions),a)),this.highlight(t)}reload(){this._reload$.next()}getSource(t){if(!this.http)throw new Error(Ya);return this.http.get(t,{responseType:"text"}).pipe(k(r=>this.handleExtension(t,r)))}highlight(t){if(!ae(this.platform)||typeof Prism>"u"||typeof Prism.highlightAllUnder>"u")return;t||(t=document);let r=t.querySelectorAll('pre code:not([class*="language-"])');Array.prototype.forEach.call(r,s=>s.classList.add("language-none")),Prism.highlightAllUnder(t)}decodeHtml(t){if(!ae(this.platform))return t;let r=document.createElement("textarea");return r.innerHTML=t,r.value}extendsRendererForExtensions(t){let r=t;return r.\u0275NgxMarkdownRendererExtendedForExtensions===!0||(this.extensions?.length>0&&b.use(...this.extensions),r.\u0275NgxMarkdownRendererExtendedForExtensions=!0),t}extendsRendererForMermaid(t){let r=t;if(r.\u0275NgxMarkdownRendererExtendedForMermaid===!0)return t;let s=t.code;return t.code=function(o,a,l){return a==="mermaid"?`<div class="mermaid">${o}</div>`:s.call(this,o,a,l)},r.\u0275NgxMarkdownRendererExtendedForMermaid=!0,t}handleExtension(t,r){let s=t.lastIndexOf("://"),o=s>-1?t.substring(s+4):t,a=o.lastIndexOf("/"),l=a>-1?o.substring(a+1).split("?")[0]:"",c=l.lastIndexOf("."),u=c>-1?l.substring(c+1):"";return u&&u!=="md"?"```"+u+`
`+r+"\n```":r}parseMarked(t,r,s=!1){if(r.renderer){let o=p({},r.renderer);delete o.\u0275NgxMarkdownRendererExtendedForExtensions,delete o.\u0275NgxMarkdownRendererExtendedForMermaid,delete r.renderer,b.use({renderer:o})}return s?b.parseInline(t,r):b.parse(t,r)}parseEmoji(t){if(!ae(this.platform))return t;if(typeof joypixels>"u"||typeof joypixels.shortnameToUnicode>"u")throw new Error(Za);return joypixels.shortnameToUnicode(t)}renderKatex(t,r){if(ae(this.platform)){if(typeof katex>"u"||typeof renderMathInElement>"u")throw new Error(Qa);renderMathInElement(t,r)}}renderClipboard(t,r,s){if(!ae(this.platform))return;if(typeof ClipboardJS>"u")throw new Error(Ka);if(!r)throw new Error(Xa);let{buttonComponent:o,buttonTemplate:a}=s,l=t.querySelectorAll("pre");for(let c=0;c<l.length;c++){let u=l.item(c),d=document.createElement("div");d.style.position="relative",u.parentNode.insertBefore(d,u),d.appendChild(u);let h=document.createElement("div");h.style.position="absolute",h.style.top=".5em",h.style.right=".5em",h.style.opacity="0",h.style.transition="opacity 250ms ease-out",h.style.zIndex="1",d.insertAdjacentElement("beforeend",h),u.onmouseover=()=>h.style.opacity="1",u.onmouseout=()=>h.style.opacity="0";let f;if(o){let w=r.createComponent(o);f=w.hostView,w.changeDetectorRef.markForCheck()}else if(a)f=r.createEmbeddedView(a);else{let w=r.createComponent(Ha);f=w.hostView,w.changeDetectorRef.markForCheck()}let C;f.rootNodes.forEach(w=>{w.onmouseover=()=>h.style.opacity="1",h.appendChild(w),C=new ClipboardJS(w,{text:()=>u.innerText})}),f.onDestroy(()=>C.destroy())}}renderMermaid(t,r=this.DEFAULT_MERMAID_OPTIONS){if(!ae(this.platform))return;if(typeof mermaid>"u"||typeof mermaid.initialize>"u")throw new Error(Ga);let s=t.querySelectorAll(".mermaid");s.length!==0&&(mermaid.initialize(r),mermaid.run({nodes:s}))}trimIndentation(t){if(!t)return"";let r;return t.split(`
`).map(s=>{let o=r;return s.length>0&&(o=isNaN(o)?s.search(/\S|$/):Math.min(s.search(/\S|$/),o)),isNaN(r)&&(r=o),o?s.substring(o):s}).join(`
`)}};e.\u0275fac=function(r){return new(r||e)(A(Va,8),A(is,8),A(Wa,8),A(yr),A(ss),A(Gr,8),A(Xr))},e.\u0275prov=R({token:e,factory:e.\u0275fac});let i=e;return i})(),ec=(()=>{let e=class e{get disableSanitizer(){return this._disableSanitizer}set disableSanitizer(t){this._disableSanitizer=this.coerceBooleanProperty(t)}get inline(){return this._inline}set inline(t){this._inline=this.coerceBooleanProperty(t)}get clipboard(){return this._clipboard}set clipboard(t){this._clipboard=this.coerceBooleanProperty(t)}get emoji(){return this._emoji}set emoji(t){this._emoji=this.coerceBooleanProperty(t)}get katex(){return this._katex}set katex(t){this._katex=this.coerceBooleanProperty(t)}get mermaid(){return this._mermaid}set mermaid(t){this._mermaid=this.coerceBooleanProperty(t)}get lineHighlight(){return this._lineHighlight}set lineHighlight(t){this._lineHighlight=this.coerceBooleanProperty(t)}get lineNumbers(){return this._lineNumbers}set lineNumbers(t){this._lineNumbers=this.coerceBooleanProperty(t)}get commandLine(){return this._commandLine}set commandLine(t){this._commandLine=this.coerceBooleanProperty(t)}constructor(t,r,s){this.element=t,this.markdownService=r,this.viewContainerRef=s,this.error=new Q,this.load=new Q,this.ready=new Q,this._clipboard=!1,this._commandLine=!1,this._disableSanitizer=!1,this._emoji=!1,this._inline=!1,this._katex=!1,this._lineHighlight=!1,this._lineNumbers=!1,this._mermaid=!1,this.destroyed$=new j}ngOnChanges(){this.loadContent()}loadContent(){if(this.data!=null){this.handleData();return}if(this.src!=null){this.handleSrc();return}}ngAfterViewInit(){!this.data&&!this.src&&this.handleTransclusion(),this.markdownService.reload$.pipe(ht(this.destroyed$)).subscribe(()=>this.loadContent())}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}render(t,r=!1){return rr(this,null,function*(){let s={decodeHtml:r,inline:this.inline,emoji:this.emoji,mermaid:this.mermaid,disableSanitizer:this.disableSanitizer},o={clipboard:this.clipboard,clipboardOptions:{buttonComponent:this.clipboardButtonComponent,buttonTemplate:this.clipboardButtonTemplate},katex:this.katex,katexOptions:this.katexOptions,mermaid:this.mermaid,mermaidOptions:this.mermaidOptions},a=yield this.markdownService.parse(t,s);this.element.nativeElement.innerHTML=a,this.handlePlugins(),this.markdownService.render(this.element.nativeElement,o,this.viewContainerRef),this.ready.emit()})}coerceBooleanProperty(t){return t!=null&&`${String(t)}`!="false"}handleData(){this.render(this.data)}handleSrc(){this.markdownService.getSource(this.src).subscribe({next:t=>{this.render(t).then(()=>{this.load.emit(t)})},error:t=>this.error.emit(t)})}handleTransclusion(){this.render(this.element.nativeElement.innerHTML,!0)}handlePlugins(){this.commandLine&&(this.setPluginClass(this.element.nativeElement,er.CommandLine),this.setPluginOptions(this.element.nativeElement,{dataFilterOutput:this.filterOutput,dataHost:this.host,dataPrompt:this.prompt,dataOutput:this.output,dataUser:this.user})),this.lineHighlight&&this.setPluginOptions(this.element.nativeElement,{dataLine:this.line,dataLineOffset:this.lineOffset}),this.lineNumbers&&(this.setPluginClass(this.element.nativeElement,er.LineNumbers),this.setPluginOptions(this.element.nativeElement,{dataStart:this.start}))}setPluginClass(t,r){let s=t.querySelectorAll("pre");for(let o=0;o<s.length;o++){let a=r instanceof Array?r:[r];s.item(o).classList.add(...a)}}setPluginOptions(t,r){let s=t.querySelectorAll("pre");for(let o=0;o<s.length;o++)Object.keys(r).forEach(a=>{let l=r[a];if(l){let c=this.toLispCase(a);s.item(o).setAttribute(c,l.toString())}})}toLispCase(t){let r=t.match(/([A-Z])/g);if(!r)return t;let s=t.toString();for(let o=0,a=r.length;o<a;o++)s=s.replace(new RegExp(r[o]),"-"+r[o].toLowerCase());return s.slice(0,1)==="-"&&(s=s.slice(1)),s}};e.\u0275fac=function(r){return new(r||e)(q(gt),q(os),q(mt))},e.\u0275cmp=Ae({type:e,selectors:[["markdown"],["","markdown",""]],inputs:{data:"data",src:"src",disableSanitizer:"disableSanitizer",inline:"inline",clipboard:"clipboard",clipboardButtonComponent:"clipboardButtonComponent",clipboardButtonTemplate:"clipboardButtonTemplate",emoji:"emoji",katex:"katex",katexOptions:"katexOptions",mermaid:"mermaid",mermaidOptions:"mermaidOptions",lineHighlight:"lineHighlight",line:"line",lineOffset:"lineOffset",lineNumbers:"lineNumbers",start:"start",commandLine:"commandLine",filterOutput:"filterOutput",host:"host",prompt:"prompt",output:"output",user:"user"},outputs:{error:"error",load:"load",ready:"ready"},standalone:!0,features:[De,$e],ngContentSelectors:Fa,decls:1,vars:0,template:function(r,s){r&1&&(Pr(),Nr(0))},encapsulation:2});let i=e;return i})();function Ja(i){return[os,i?.loader??[],i?.clipboardOptions??[],i?.markedOptions??[],{provide:is,useValue:i?.markedExtensions??[]},{provide:ss,useValue:i?.sanitize??kr.HTML}]}var tc=(()=>{let e=class e{static forRoot(t){return{ngModule:e,providers:[Ja(t)]}}static forChild(){return{ngModule:e}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=ft({type:e}),e.\u0275inj=dt({imports:[Qr]});let i=e;return i})(),rs;(function(i){let e;(function(r){r.Strict="strict",r.Loose="loose",r.Antiscript="antiscript",r.Sandbox="sandbox"})(e=i.SecurityLevel||(i.SecurityLevel={}));let n;(function(r){r.Base="base",r.Forest="forest",r.Dark="dark",r.Default="default",r.Neutral="neutral"})(n=i.Theme||(i.Theme={}));let t;(function(r){r[r.Debug=1]="Debug",r[r.Info=2]="Info",r[r.Warn=3]="Warn",r[r.Error=4]="Error",r[r.Fatal=5]="Fatal"})(t=i.LogLevel||(i.LogLevel={}))})(rs||(rs={}));export{H as a,Us as b,G as c,Cl as d,Sl as e,Rl as f,Il as g,Wa as h,ec as i,Ja as j,tc as k};
/*! Bundled license information:

@angular/router/fesm2022/router.mjs:
  (**
   * @license Angular v17.1.2
   * (c) 2010-2022 Google LLC. https://angular.io/
   * License: MIT
   *)
*/
