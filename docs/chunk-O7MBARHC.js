import{a as bi,b as wi}from"./chunk-A6S4RZXZ.js";import{a as Ti,b as N,c as Ai,d as Ct,e as Ii,f as X,g as zi,h as Oi,i as Di,j as Fi,k as Mi,l as Pi,m as Ni,n as Li,p as Ri,q as Bi,r as Ui,s as Et,t as Zi,u as $i,v as Hi,w as ji,x as Wi,y as Vi}from"./chunk-AOG55SMH.js";import{$ as gi,N as _i,Z as mi,_ as vi,aa as xi,ba as yt,ca as ki,d as pi,da as yi,ea as Ci,ja as Ei,la as Si}from"./chunk-3YLEH4BR.js";import{l as di,m as ui,n as ci}from"./chunk-WVEOQRKO.js";import{$b as wt,Ba as xt,Bb as K,Gb as pe,Hb as ti,Jb as ri,K as Gr,Kb as ii,Lb as L,Mb as R,Nb as B,Ob as ni,Tb as Le,Ub as ie,Yb as ai,Zb as oi,_b as si,a as jr,ac as kt,b as Wr,cc as _,d as Vr,dc as Re,fc as li,ic as xe,ja as Xr,lc as fi,mc as hi,ob as M,pb as Ne,ra as Yr,rb as Jr,sa as ge,u as Kr,ua as qr,ub as Qr,wb as bt,xb as ei,zb as Q}from"./chunk-NLPY2IIH.js";var fe=0,Pa=1,Lt=2,Na=3,G=4,Ki=5;var P=0,ke=1,La=2;var te=-2,Ra=-3,Ot=-5;var Mn=-1,Ba=1,St=2,Ua=3,Pn=4,Za=0,Gi=0,Xi=1,Nn=2,jt=8;function $a(e,r){return Object.prototype.hasOwnProperty.call(e,r)}function Ln(e){for(var r=Array.prototype.slice.call(arguments,1);r.length;){var t=r.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(var i in t)$a(t,i)&&(e[i]=t[i])}}return e}function Rt(e,r){return e.length===r?e:e.subarray?e.subarray(0,r):(e.length=r,e)}var ot={arraySet:function(e,r,t,i,n){if(r.subarray&&e.subarray){e.set(r.subarray(t,t+i),n);return}for(var a=0;a<i;a++)e[n+a]=r[t+a]},flattenChunks:function(e){var r,t,i,n,a,o;for(i=0,r=0,t=e.length;r<t;r++)i+=e[r].length;for(o=new Uint8Array(i),n=0,r=0,t=e.length;r<t;r++)a=e[r],o.set(a,n),n+=a.length;return o},Buf8:function(e){return new Uint8Array(e)},Buf16:function(e){return new Uint16Array(e)},Buf32:function(e){return new Int32Array(e)}},st={arraySet:function(e,r,t,i,n){for(var a=0;a<i;a++)e[n+a]=r[t+a]},flattenChunks:function(e){return[].concat.apply([],e)},Buf8:function(e){return new Array(e)},Buf16:function(e){return new Array(e)},Buf32:function(e){return new Array(e)}},Ke=()=>{let e=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";return Ke=()=>e,e},ee=(e,r,t,i,n)=>(ee=Ke()?ot.arraySet:st.arraySet,ee(e,r,t,i,n)),Bt=e=>(Bt=Ke()?ot.flattenChunks:st.flattenChunks,Bt(e)),he=e=>(he=Ke()?ot.Buf8:st.Buf8,he(e)),Y=e=>(Y=Ke()?ot.Buf16:st.Buf16,Y(e)),Ve=e=>(Ve=Ke()?ot.Buf32:st.Buf32,Ve(e)),Rn=function(){let e=!0;try{String.fromCharCode.apply(null,[0])}catch{e=!1}return Rn=()=>e,e},Bn=function(){let e=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{e=!1}return Bn=()=>e,e},kr=function(e){for(var r=he(256),t=0;t<256;t++)r[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;return r[254]=r[254]=1,kr=i=>r[i],r[e]};function Ut(e){var r,t,i,n,a,o=e.length,l=0;for(n=0;n<o;n++)t=e.charCodeAt(n),(t&64512)===55296&&n+1<o&&(i=e.charCodeAt(n+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),n++)),l+=t<128?1:t<2048?2:t<65536?3:4;for(r=new Uint8Array(l),a=0,n=0;a<l;n++)t=e.charCodeAt(n),(t&64512)===55296&&n+1<o&&(i=e.charCodeAt(n+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),n++)),t<128?r[a++]=t:t<2048?(r[a++]=192|t>>>6,r[a++]=128|t&63):t<65536?(r[a++]=224|t>>>12,r[a++]=128|t>>>6&63,r[a++]=128|t&63):(r[a++]=240|t>>>18,r[a++]=128|t>>>12&63,r[a++]=128|t>>>6&63,r[a++]=128|t&63);return r}function Un(e,r){if(r<65534&&(e.subarray&&Bn()||!e.subarray&&Rn()))return String.fromCharCode.apply(null,Rt(e,r));for(var t="",i=0;i<r;i++)t+=String.fromCharCode(e[i]);return t}function Ha(e){return Un(e,e.length)}function ja(e){for(var r=new Uint8Array(e.length),t=0,i=r.length;t<i;t++)r[t]=e.charCodeAt(t);return r}function Wa(e,r){var t,i,n,a,o=r||e.length,l=new Array(o*2);for(i=0,t=0;t<o;){if(n=e[t++],n<128){l[i++]=n;continue}if(a=kr(n),a>4){l[i++]=65533,t+=a-1;continue}for(n&=a===2?31:a===3?15:7;a>1&&t<o;)n=n<<6|e[t++]&63,a--;if(a>1){l[i++]=65533;continue}n<65536?l[i++]=n:(n-=65536,l[i++]=55296|n>>10&1023,l[i++]=56320|n&1023)}return Un(l,i)}function Va(e,r){var t;for(r=r||e.length,r>e.length&&(r=e.length),t=r-1;t>=0&&(e[t]&192)===128;)t--;return t<0||t===0?r:t+kr(e[t])>r?t:r}function it(e,r,t,i){for(var n=e&65535|0,a=e>>>16&65535|0,o=0;t!==0;){o=t>2e3?2e3:t,t-=o;do n=n+r[i++]|0,a=a+n|0;while(--o);n%=65521,a%=65521}return n|a<<16|0}function Ka(){for(var e,r=[],t=0;t<256;t++){e=t;for(var i=0;i<8;i++)e=e&1?3988292384^e>>>1:e>>>1;r[t]=e}return r}var Zn=function(){let e=Ka();return Zn=()=>e,e};function $(e,r,t,i){var n=Zn(),a=i+t;e^=-1;for(var o=i;o<a;o++)e=e>>>8^n[(e^r[o])&255];return e^-1}var Tt=30,Ga=12;function Xa(e,r){var t,i,n,a,o,l,d,s,f,g,u,h,x,z,v,m,k,w,c,E,O,p,y,C,b;t=e.state,i=e.next_in,C=e.input,n=i+(e.avail_in-5),a=e.next_out,b=e.output,o=a-(r-e.avail_out),l=a+(e.avail_out-257),d=t.dmax,s=t.wsize,f=t.whave,g=t.wnext,u=t.window,h=t.hold,x=t.bits,z=t.lencode,v=t.distcode,m=(1<<t.lenbits)-1,k=(1<<t.distbits)-1;e:do{x<15&&(h+=C[i++]<<x,x+=8,h+=C[i++]<<x,x+=8),w=z[h&m];t:for(;;){if(c=w>>>24,h>>>=c,x-=c,c=w>>>16&255,c===0)b[a++]=w&65535;else if(c&16){E=w&65535,c&=15,c&&(x<c&&(h+=C[i++]<<x,x+=8),E+=h&(1<<c)-1,h>>>=c,x-=c),x<15&&(h+=C[i++]<<x,x+=8,h+=C[i++]<<x,x+=8),w=v[h&k];r:for(;;){if(c=w>>>24,h>>>=c,x-=c,c=w>>>16&255,c&16){if(O=w&65535,c&=15,x<c&&(h+=C[i++]<<x,x+=8,x<c&&(h+=C[i++]<<x,x+=8)),O+=h&(1<<c)-1,O>d){e.msg="invalid distance too far back",t.mode=Tt;break e}if(h>>>=c,x-=c,c=a-o,O>c){if(c=O-c,c>f&&t.sane){e.msg="invalid distance too far back",t.mode=Tt;break e}if(p=0,y=u,g===0){if(p+=s-c,c<E){E-=c;do b[a++]=u[p++];while(--c);p=a-O,y=b}}else if(g<c){if(p+=s+g-c,c-=g,c<E){E-=c;do b[a++]=u[p++];while(--c);if(p=0,g<E){c=g,E-=c;do b[a++]=u[p++];while(--c);p=a-O,y=b}}}else if(p+=g-c,c<E){E-=c;do b[a++]=u[p++];while(--c);p=a-O,y=b}for(;E>2;)b[a++]=y[p++],b[a++]=y[p++],b[a++]=y[p++],E-=3;E&&(b[a++]=y[p++],E>1&&(b[a++]=y[p++]))}else{p=a-O;do b[a++]=b[p++],b[a++]=b[p++],b[a++]=b[p++],E-=3;while(E>2);E&&(b[a++]=b[p++],E>1&&(b[a++]=b[p++]))}}else if(c&64){e.msg="invalid distance code",t.mode=Tt;break e}else{w=v[(w&65535)+(h&(1<<c)-1)];continue r}break}}else if(c&64)if(c&32){t.mode=Ga;break e}else{e.msg="invalid literal/length code",t.mode=Tt;break e}else{w=z[(w&65535)+(h&(1<<c)-1)];continue t}break}}while(i<n&&a<l);E=x>>3,i-=E,x-=E<<3,h&=(1<<x)-1,e.next_in=i,e.next_out=a,e.avail_in=i<n?5+(n-i):5-(i-n),e.avail_out=a<l?257+(l-a):257-(a-l),t.hold=h,t.bits=x}var Be=15,Yi=852,qi=592,Ji=0,ar=1,Qi=2,Ya=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],qa=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],Ja=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Qa=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];function tt(e,r,t,i,n,a,o,l){var d=l.bits,s=0,f=0,g=0,u=0,h=0,x=0,z=0,v=0,m=0,k=0,w,c,E,O,p,y=null,C=0,b,S=Y(Be+1),J=Y(Be+1),ae=null,Pe=0,I,V,ve;for(s=0;s<=Be;s++)S[s]=0;for(f=0;f<i;f++)S[r[t+f]]++;for(h=d,u=Be;u>=1&&S[u]===0;u--);if(h>u&&(h=u),u===0)return n[a++]=1<<24|64<<16|0,n[a++]=1<<24|64<<16|0,l.bits=1,0;for(g=1;g<u&&S[g]===0;g++);for(h<g&&(h=g),v=1,s=1;s<=Be;s++)if(v<<=1,v-=S[s],v<0)return-1;if(v>0&&(e===Ji||u!==1))return-1;for(J[1]=0,s=1;s<Be;s++)J[s+1]=J[s]+S[s];for(f=0;f<i;f++)r[t+f]!==0&&(o[J[r[t+f]]++]=f);if(e===Ji?(y=ae=o,b=19):e===ar?(y=Ya,C-=257,ae=qa,Pe-=257,b=256):(y=Ja,ae=Qa,b=-1),k=0,f=0,s=g,p=a,x=h,z=0,E=-1,m=1<<h,O=m-1,e===ar&&m>Yi||e===Qi&&m>qi)return 1;for(;;){I=s-z,o[f]<b?(V=0,ve=o[f]):o[f]>b?(V=ae[Pe+o[f]],ve=y[C+o[f]]):(V=96,ve=0),w=1<<s-z,c=1<<x,g=c;do c-=w,n[p+(k>>z)+c]=I<<24|V<<16|ve|0;while(c!==0);for(w=1<<s-1;k&w;)w>>=1;if(w!==0?(k&=w-1,k+=w):k=0,f++,--S[s]===0){if(s===u)break;s=r[t+o[f]]}if(s>h&&(k&O)!==E){for(z===0&&(z=h),p+=g,x=s-z,v=1<<x;x+z<u&&(v-=S[x+z],!(v<=0));)x++,v<<=1;if(m+=1<<x,e===ar&&m>Yi||e===Qi&&m>qi)return 1;E=k&O,n[E]=h<<24|x<<16|p-a|0}}return k!==0&&(n[p+k]=s-z<<24|64<<16|0),l.bits=h,0}var eo=0,$n=1,Hn=2,en=4,to=5,At=6,ze=0,ro=1,io=2,re=-2,jn=-3,Wn=-4,no=-5,tn=8,Vn=1,rn=2,nn=3,an=4,on=5,sn=6,ln=7,fn=8,hn=9,dn=10,Zt=11,_e=12,or=13,un=14,sr=15,cn=16,pn=17,_n=18,mn=19,It=20,zt=21,vn=22,gn=23,xn=24,bn=25,wn=26,lr=27,kn=28,yn=29,F=30,Kn=31,ao=32,oo=852,so=592;function Cn(e){return(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24)}function lo(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=Y(320),this.work=Y(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function fo(e){var r;return!e||!e.state?re:(r=e.state,e.total_in=e.total_out=r.total=0,e.msg="",r.wrap&&(e.adler=r.wrap&1),r.mode=Vn,r.last=0,r.havedict=0,r.dmax=32768,r.head=null,r.hold=0,r.bits=0,r.lencode=r.lendyn=Ve(oo),r.distcode=r.distdyn=Ve(so),r.sane=1,r.back=-1,ze)}function ho(e){var r;return!e||!e.state?re:(r=e.state,r.wsize=0,r.whave=0,r.wnext=0,fo(e))}function uo(e,r){var t,i;return!e||!e.state||(i=e.state,r<0?(t=0,r=-r):(t=(r>>4)+1,r<48&&(r&=15)),r&&(r<8||r>15))?re:(i.window!==null&&i.wbits!==r&&(i.window=null),i.wrap=t,i.wbits=r,ho(e))}function co(e,r){var t,i;return e?(i=new lo,e.state=i,i.window=null,t=uo(e,r),t!==ze&&(e.state=null),t):re}var En=!0,fr,hr;function po(e){if(En){var r;for(fr=Ve(512),hr=Ve(32),r=0;r<144;)e.lens[r++]=8;for(;r<256;)e.lens[r++]=9;for(;r<280;)e.lens[r++]=7;for(;r<288;)e.lens[r++]=8;for(tt($n,e.lens,0,288,fr,0,e.work,{bits:9}),r=0;r<32;)e.lens[r++]=5;tt(Hn,e.lens,0,32,hr,0,e.work,{bits:5}),En=!1}e.lencode=fr,e.lenbits=9,e.distcode=hr,e.distbits=5}function Gn(e,r,t,i){var n,a=e.state;return a.window===null&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=he(a.wsize)),i>=a.wsize?(ee(a.window,r,t-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(n=a.wsize-a.wnext,n>i&&(n=i),ee(a.window,r,t-i,n,a.wnext),i-=n,i?(ee(a.window,r,t-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=n,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=n))),0}function _o(e,r){var t,i,n,a,o,l,d,s,f,g,u,h,x,z,v=0,m,k,w,c,E,O,p,y,C=he(4),b,S,J=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&e.avail_in!==0)return re;t=e.state,t.mode===_e&&(t.mode=or),o=e.next_out,n=e.output,d=e.avail_out,a=e.next_in,i=e.input,l=e.avail_in,s=t.hold,f=t.bits,g=l,u=d,y=ze;e:for(;;)switch(t.mode){case Vn:if(t.wrap===0){t.mode=or;break}for(;f<16;){if(l===0)break e;l--,s+=i[a++]<<f,f+=8}if(t.wrap&2&&s===35615){t.check=0,C[0]=s&255,C[1]=s>>>8&255,t.check=$(t.check,C,2,0),s=0,f=0,t.mode=rn;break}if(t.flags=0,t.head&&(t.head.done=!1),!(t.wrap&1)||(((s&255)<<8)+(s>>8))%31){e.msg="incorrect header check",t.mode=F;break}if((s&15)!==tn){e.msg="unknown compression method",t.mode=F;break}if(s>>>=4,f-=4,p=(s&15)+8,t.wbits===0)t.wbits=p;else if(p>t.wbits){e.msg="invalid window size",t.mode=F;break}t.dmax=1<<p,e.adler=t.check=1,t.mode=s&512?dn:_e,s=0,f=0;break;case rn:for(;f<16;){if(l===0)break e;l--,s+=i[a++]<<f,f+=8}if(t.flags=s,(t.flags&255)!==tn){e.msg="unknown compression method",t.mode=F;break}if(t.flags&57344){e.msg="unknown header flags set",t.mode=F;break}t.head&&(t.head.text=s>>8&1),t.flags&512&&(C[0]=s&255,C[1]=s>>>8&255,t.check=$(t.check,C,2,0)),s=0,f=0,t.mode=nn;case nn:for(;f<32;){if(l===0)break e;l--,s+=i[a++]<<f,f+=8}t.head&&(t.head.time=s),t.flags&512&&(C[0]=s&255,C[1]=s>>>8&255,C[2]=s>>>16&255,C[3]=s>>>24&255,t.check=$(t.check,C,4,0)),s=0,f=0,t.mode=an;case an:for(;f<16;){if(l===0)break e;l--,s+=i[a++]<<f,f+=8}t.head&&(t.head.xflags=s&255,t.head.os=s>>8),t.flags&512&&(C[0]=s&255,C[1]=s>>>8&255,t.check=$(t.check,C,2,0)),s=0,f=0,t.mode=on;case on:if(t.flags&1024){for(;f<16;){if(l===0)break e;l--,s+=i[a++]<<f,f+=8}t.length=s,t.head&&(t.head.extra_len=s),t.flags&512&&(C[0]=s&255,C[1]=s>>>8&255,t.check=$(t.check,C,2,0)),s=0,f=0}else t.head&&(t.head.extra=null);t.mode=sn;case sn:if(t.flags&1024&&(h=t.length,h>l&&(h=l),h&&(t.head&&(p=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Array(t.head.extra_len)),ee(t.head.extra,i,a,h,p)),t.flags&512&&(t.check=$(t.check,i,h,a)),l-=h,a+=h,t.length-=h),t.length))break e;t.length=0,t.mode=ln;case ln:if(t.flags&2048){if(l===0)break e;h=0;do p=i[a+h++],t.head&&p&&t.length<65536&&(t.head.name+=String.fromCharCode(p));while(p&&h<l);if(t.flags&512&&(t.check=$(t.check,i,h,a)),l-=h,a+=h,p)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=fn;case fn:if(t.flags&4096){if(l===0)break e;h=0;do p=i[a+h++],t.head&&p&&t.length<65536&&(t.head.comment+=String.fromCharCode(p));while(p&&h<l);if(t.flags&512&&(t.check=$(t.check,i,h,a)),l-=h,a+=h,p)break e}else t.head&&(t.head.comment=null);t.mode=hn;case hn:if(t.flags&512){for(;f<16;){if(l===0)break e;l--,s+=i[a++]<<f,f+=8}if(s!==(t.check&65535)){e.msg="header crc mismatch",t.mode=F;break}s=0,f=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),e.adler=t.check=0,t.mode=_e;break;case dn:for(;f<32;){if(l===0)break e;l--,s+=i[a++]<<f,f+=8}e.adler=t.check=Cn(s),s=0,f=0,t.mode=Zt;case Zt:if(t.havedict===0)return e.next_out=o,e.avail_out=d,e.next_in=a,e.avail_in=l,t.hold=s,t.bits=f,io;e.adler=t.check=1,t.mode=_e;case _e:if(r===to||r===At)break e;case or:if(t.last){s>>>=f&7,f-=f&7,t.mode=lr;break}for(;f<3;){if(l===0)break e;l--,s+=i[a++]<<f,f+=8}switch(t.last=s&1,s>>>=1,f-=1,s&3){case 0:t.mode=un;break;case 1:if(po(t),t.mode=It,r===At){s>>>=2,f-=2;break e}break;case 2:t.mode=pn;break;case 3:e.msg="invalid block type",t.mode=F}s>>>=2,f-=2;break;case un:for(s>>>=f&7,f-=f&7;f<32;){if(l===0)break e;l--,s+=i[a++]<<f,f+=8}if((s&65535)!==(s>>>16^65535)){e.msg="invalid stored block lengths",t.mode=F;break}if(t.length=s&65535,s=0,f=0,t.mode=sr,r===At)break e;case sr:t.mode=cn;case cn:if(h=t.length,h){if(h>l&&(h=l),h>d&&(h=d),h===0)break e;ee(n,i,a,h,o),l-=h,a+=h,d-=h,o+=h,t.length-=h;break}t.mode=_e;break;case pn:for(;f<14;){if(l===0)break e;l--,s+=i[a++]<<f,f+=8}if(t.nlen=(s&31)+257,s>>>=5,f-=5,t.ndist=(s&31)+1,s>>>=5,f-=5,t.ncode=(s&15)+4,s>>>=4,f-=4,t.nlen>286||t.ndist>30){e.msg="too many length or distance symbols",t.mode=F;break}t.have=0,t.mode=_n;case _n:for(;t.have<t.ncode;){for(;f<3;){if(l===0)break e;l--,s+=i[a++]<<f,f+=8}t.lens[J[t.have++]]=s&7,s>>>=3,f-=3}for(;t.have<19;)t.lens[J[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,b={bits:t.lenbits},y=tt(eo,t.lens,0,19,t.lencode,0,t.work,b),t.lenbits=b.bits,y){e.msg="invalid code lengths set",t.mode=F;break}t.have=0,t.mode=mn;case mn:for(;t.have<t.nlen+t.ndist;){for(;v=t.lencode[s&(1<<t.lenbits)-1],m=v>>>24,k=v>>>16&255,w=v&65535,!(m<=f);){if(l===0)break e;l--,s+=i[a++]<<f,f+=8}if(w<16)s>>>=m,f-=m,t.lens[t.have++]=w;else{if(w===16){for(S=m+2;f<S;){if(l===0)break e;l--,s+=i[a++]<<f,f+=8}if(s>>>=m,f-=m,t.have===0){e.msg="invalid bit length repeat",t.mode=F;break}p=t.lens[t.have-1],h=3+(s&3),s>>>=2,f-=2}else if(w===17){for(S=m+3;f<S;){if(l===0)break e;l--,s+=i[a++]<<f,f+=8}s>>>=m,f-=m,p=0,h=3+(s&7),s>>>=3,f-=3}else{for(S=m+7;f<S;){if(l===0)break e;l--,s+=i[a++]<<f,f+=8}s>>>=m,f-=m,p=0,h=11+(s&127),s>>>=7,f-=7}if(t.have+h>t.nlen+t.ndist){e.msg="invalid bit length repeat",t.mode=F;break}for(;h--;)t.lens[t.have++]=p}}if(t.mode===F)break;if(t.lens[256]===0){e.msg="invalid code -- missing end-of-block",t.mode=F;break}if(t.lenbits=9,b={bits:t.lenbits},y=tt($n,t.lens,0,t.nlen,t.lencode,0,t.work,b),t.lenbits=b.bits,y){e.msg="invalid literal/lengths set",t.mode=F;break}if(t.distbits=6,t.distcode=t.distdyn,b={bits:t.distbits},y=tt(Hn,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,b),t.distbits=b.bits,y){e.msg="invalid distances set",t.mode=F;break}if(t.mode=It,r===At)break e;case It:t.mode=zt;case zt:if(l>=6&&d>=258){e.next_out=o,e.avail_out=d,e.next_in=a,e.avail_in=l,t.hold=s,t.bits=f,Xa(e,u),o=e.next_out,n=e.output,d=e.avail_out,a=e.next_in,i=e.input,l=e.avail_in,s=t.hold,f=t.bits,t.mode===_e&&(t.back=-1);break}for(t.back=0;v=t.lencode[s&(1<<t.lenbits)-1],m=v>>>24,k=v>>>16&255,w=v&65535,!(m<=f);){if(l===0)break e;l--,s+=i[a++]<<f,f+=8}if(k&&!(k&240)){for(c=m,E=k,O=w;v=t.lencode[O+((s&(1<<c+E)-1)>>c)],m=v>>>24,k=v>>>16&255,w=v&65535,!(c+m<=f);){if(l===0)break e;l--,s+=i[a++]<<f,f+=8}s>>>=c,f-=c,t.back+=c}if(s>>>=m,f-=m,t.back+=m,t.length=w,k===0){t.mode=wn;break}if(k&32){t.back=-1,t.mode=_e;break}if(k&64){e.msg="invalid literal/length code",t.mode=F;break}t.extra=k&15,t.mode=vn;case vn:if(t.extra){for(S=t.extra;f<S;){if(l===0)break e;l--,s+=i[a++]<<f,f+=8}t.length+=s&(1<<t.extra)-1,s>>>=t.extra,f-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=gn;case gn:for(;v=t.distcode[s&(1<<t.distbits)-1],m=v>>>24,k=v>>>16&255,w=v&65535,!(m<=f);){if(l===0)break e;l--,s+=i[a++]<<f,f+=8}if(!(k&240)){for(c=m,E=k,O=w;v=t.distcode[O+((s&(1<<c+E)-1)>>c)],m=v>>>24,k=v>>>16&255,w=v&65535,!(c+m<=f);){if(l===0)break e;l--,s+=i[a++]<<f,f+=8}s>>>=c,f-=c,t.back+=c}if(s>>>=m,f-=m,t.back+=m,k&64){e.msg="invalid distance code",t.mode=F;break}t.offset=w,t.extra=k&15,t.mode=xn;case xn:if(t.extra){for(S=t.extra;f<S;){if(l===0)break e;l--,s+=i[a++]<<f,f+=8}t.offset+=s&(1<<t.extra)-1,s>>>=t.extra,f-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){e.msg="invalid distance too far back",t.mode=F;break}t.mode=bn;case bn:if(d===0)break e;if(h=u-d,t.offset>h){if(h=t.offset-h,h>t.whave&&t.sane){e.msg="invalid distance too far back",t.mode=F;break}h>t.wnext?(h-=t.wnext,x=t.wsize-h):x=t.wnext-h,h>t.length&&(h=t.length),z=t.window}else z=n,x=o-t.offset,h=t.length;h>d&&(h=d),d-=h,t.length-=h;do n[o++]=z[x++];while(--h);t.length===0&&(t.mode=zt);break;case wn:if(d===0)break e;n[o++]=t.length,d--,t.mode=zt;break;case lr:if(t.wrap){for(;f<32;){if(l===0)break e;l--,s|=i[a++]<<f,f+=8}if(u-=d,e.total_out+=u,t.total+=u,u&&(e.adler=t.check=t.flags?$(t.check,n,u,o-u):it(t.check,n,u,o-u)),u=d,(t.flags?s:Cn(s))!==t.check){e.msg="incorrect data check",t.mode=F;break}s=0,f=0}t.mode=kn;case kn:if(t.wrap&&t.flags){for(;f<32;){if(l===0)break e;l--,s+=i[a++]<<f,f+=8}if(s!==(t.total&4294967295)){e.msg="incorrect length check",t.mode=F;break}s=0,f=0}t.mode=yn;case yn:y=ro;break e;case F:y=jn;break e;case Kn:return Wn;case ao:default:return re}return e.next_out=o,e.avail_out=d,e.next_in=a,e.avail_in=l,t.hold=s,t.bits=f,(t.wsize||u!==e.avail_out&&t.mode<F&&(t.mode<lr||r!==en))&&Gn(e,e.output,e.next_out,u-e.avail_out),g-=e.avail_in,u-=e.avail_out,e.total_in+=g,e.total_out+=u,t.total+=u,t.wrap&&u&&(e.adler=t.check=t.flags?$(t.check,n,u,e.next_out-u):it(t.check,n,u,e.next_out-u)),e.data_type=t.bits+(t.last?64:0)+(t.mode===_e?128:0)+(t.mode===It||t.mode===sr?256:0),(g===0&&u===0||r===en)&&y===ze&&(y=no),y}function mo(e){if(!e||!e.state)return re;var r=e.state;return r.window&&(r.window=null),e.state=null,ze}function vo(e,r){var t;return!e||!e.state||(t=e.state,!(t.wrap&2))?re:(t.head=r,r.done=!1,ze)}function Sn(e,r){var t=r.length,i,n,a;return!e||!e.state||(i=e.state,i.wrap!==0&&i.mode!==Zt)?re:i.mode===Zt&&(n=1,n=it(n,r,t,0),n!==i.check)?jn:(a=Gn(e,r,t,t),a?(i.mode=Kn,Wn):(i.havedict=1,ze))}var nt={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};function Xn(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}function go(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var dr=Object.prototype.toString,$t=class e{constructor(r){if(!(this instanceof e))return new e(r);this.options=Ln({chunkSize:16384,windowBits:0,to:""},r||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(r&&r.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Xn,this.strm.avail_out=0;var i=co(this.strm,t.windowBits);if(i!==P)throw new Error(nt[i]);if(this.header=new go,vo(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Ut(t.dictionary):dr.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(i=Sn(this.strm,t.dictionary),i!==P)))throw new Error(nt[i])}push(r,t){var i=this.strm,n=this.options.chunkSize,a=this.options.dictionary,o,l,d,s,f,g,u=!1;if(this.ended)return!1;l=t===~~t?t:t===!0?G:fe,typeof r=="string"?i.input=ja(r):dr.call(r)==="[object ArrayBuffer]"?i.input=new Uint8Array(r):i.input=r,i.next_in=0,i.avail_in=i.input.length;do{if(i.avail_out===0&&(i.output=he(n),i.next_out=0,i.avail_out=n),o=_o(i,fe),o===La&&a&&(typeof a=="string"?g=Ut(a):dr.call(a)==="[object ArrayBuffer]"?g=new Uint8Array(a):g=a,o=Sn(this.strm,g)),o===Ot&&u===!0&&(o=P,u=!1),o!==ke&&o!==P)return this.onEnd(o),this.ended=!0,!1;i.next_out&&(i.avail_out===0||o===ke||i.avail_in===0&&(l===G||l===Lt))&&(this.options.to==="string"?(d=Va(i.output,i.next_out),s=i.next_out-d,f=Wa(i.output,d),i.next_out=s,i.avail_out=n-s,s&&ee(i.output,i.output,d,s,0),this.onData(f)):this.onData(Rt(i.output,i.next_out))),i.avail_in===0&&i.avail_out===0&&(u=!0)}while((i.avail_in>0||i.avail_out===0)&&o!==ke);return o===ke&&(l=G),l===G?(o=mo(this.strm),this.onEnd(o),this.ended=!0,o===P):(l===Lt&&(this.onEnd(P),i.avail_out=0),!0)}onData(r){this.chunks.push(r)}onEnd(r){r===P&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Bt(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg}};function Ue(e){for(var r=e.length;--r>=0;)e[r]=0}var xo=0,Yn=1,bo=2,wo=3,ko=258,vr=29,lt=256,rt=lt+1+vr,$e=30,yr=19,qn=2*rt+1,Ae=15,ur=16,yo=7,Cr=256,Jn=16,Qn=17,ea=18,gr=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Dt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Co=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ta=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Eo=512,se,He,je,We,Ft,Qe;function cr(e,r,t,i,n){this.static_tree=e,this.extra_bits=r,this.extra_base=t,this.elems=i,this.max_length=n,this.has_stree=e&&e.length}var ra,ia,na;function pr(e,r){this.dyn_tree=e,this.max_code=0,this.stat_desc=r}function aa(e){return e<256?je[e]:je[256+(e>>>7)]}function at(e,r){e.pending_buf[e.pending++]=r&255,e.pending_buf[e.pending++]=r>>>8&255}function q(e,r,t){e.bi_valid>ur-t?(e.bi_buf|=r<<e.bi_valid&65535,at(e,e.bi_buf),e.bi_buf=r>>ur-e.bi_valid,e.bi_valid+=t-ur):(e.bi_buf|=r<<e.bi_valid&65535,e.bi_valid+=t)}function le(e,r,t){q(e,t[r*2],t[r*2+1])}function oa(e,r){var t=0;do t|=e&1,e>>>=1,t<<=1;while(--r>0);return t>>>1}function So(e){e.bi_valid===16?(at(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)}function To(e,r){var t=r.dyn_tree,i=r.max_code,n=r.stat_desc.static_tree,a=r.stat_desc.has_stree,o=r.stat_desc.extra_bits,l=r.stat_desc.extra_base,d=r.stat_desc.max_length,s,f,g,u,h,x,z=0;for(u=0;u<=Ae;u++)e.bl_count[u]=0;for(t[e.heap[e.heap_max]*2+1]=0,s=e.heap_max+1;s<qn;s++)f=e.heap[s],u=t[t[f*2+1]*2+1]+1,u>d&&(u=d,z++),t[f*2+1]=u,!(f>i)&&(e.bl_count[u]++,h=0,f>=l&&(h=o[f-l]),x=t[f*2],e.opt_len+=x*(u+h),a&&(e.static_len+=x*(n[f*2+1]+h)));if(z!==0){do{for(u=d-1;e.bl_count[u]===0;)u--;e.bl_count[u]--,e.bl_count[u+1]+=2,e.bl_count[d]--,z-=2}while(z>0);for(u=d;u!==0;u--)for(f=e.bl_count[u];f!==0;)g=e.heap[--s],!(g>i)&&(t[g*2+1]!==u&&(e.opt_len+=(u-t[g*2+1])*t[g*2],t[g*2+1]=u),f--)}}function sa(e,r,t){var i=new Array(Ae+1),n=0,a,o;for(a=1;a<=Ae;a++)i[a]=n=n+t[a-1]<<1;for(o=0;o<=r;o++){var l=e[o*2+1];l!==0&&(e[o*2]=oa(i[l]++,l))}}function Ao(){var e,r,t,i,n,a=new Array(Ae+1);for(se=new Array((rt+2)*2),Ue(se),He=new Array($e*2),Ue(He),je=new Array(Eo),Ue(je),We=new Array(ko-wo+1),Ue(We),Ft=new Array(vr),Ue(Ft),Qe=new Array($e),Ue(Qe),t=0,i=0;i<vr-1;i++)for(Ft[i]=t,e=0;e<1<<gr[i];e++)We[t++]=i;for(We[t-1]=i,n=0,i=0;i<16;i++)for(Qe[i]=n,e=0;e<1<<Dt[i];e++)je[n++]=i;for(n>>=7;i<$e;i++)for(Qe[i]=n<<7,e=0;e<1<<Dt[i]-7;e++)je[256+n++]=i;for(r=0;r<=Ae;r++)a[r]=0;for(e=0;e<=143;)se[e*2+1]=8,e++,a[8]++;for(;e<=255;)se[e*2+1]=9,e++,a[9]++;for(;e<=279;)se[e*2+1]=7,e++,a[7]++;for(;e<=287;)se[e*2+1]=8,e++,a[8]++;for(sa(se,rt+1,a),e=0;e<$e;e++)He[e*2+1]=5,He[e*2]=oa(e,5);ra=new cr(se,gr,lt+1,rt,Ae),ia=new cr(He,Dt,0,$e,Ae),na=new cr(new Array(0),Co,0,yr,yo)}function la(e){var r;for(r=0;r<rt;r++)e.dyn_ltree[r*2]=0;for(r=0;r<$e;r++)e.dyn_dtree[r*2]=0;for(r=0;r<yr;r++)e.bl_tree[r*2]=0;e.dyn_ltree[Cr*2]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function fa(e){e.bi_valid>8?at(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function Io(e,r,t,i){fa(e),i&&(at(e,t),at(e,~t)),ee(e.pending_buf,e.window,r,t,e.pending),e.pending+=t}function Tn(e,r,t,i){var n=r*2,a=t*2;return e[n]<e[a]||e[n]===e[a]&&i[r]<=i[t]}function _r(e,r,t){for(var i=e.heap[t],n=t<<1;n<=e.heap_len&&(n<e.heap_len&&Tn(r,e.heap[n+1],e.heap[n],e.depth)&&n++,!Tn(r,i,e.heap[n],e.depth));)e.heap[t]=e.heap[n],t=n,n<<=1;e.heap[t]=i}function An(e,r,t){var i,n,a=0,o,l;if(e.last_lit!==0)do i=e.pending_buf[e.d_buf+a*2]<<8|e.pending_buf[e.d_buf+a*2+1],n=e.pending_buf[e.l_buf+a],a++,i===0?le(e,n,r):(o=We[n],le(e,o+lt+1,r),l=gr[o],l!==0&&(n-=Ft[o],q(e,n,l)),i--,o=aa(i),le(e,o,t),l=Dt[o],l!==0&&(i-=Qe[o],q(e,i,l)));while(a<e.last_lit);le(e,Cr,r)}function xr(e,r){var t=r.dyn_tree,i=r.stat_desc.static_tree,n=r.stat_desc.has_stree,a=r.stat_desc.elems,o,l,d=-1,s;for(e.heap_len=0,e.heap_max=qn,o=0;o<a;o++)t[o*2]!==0?(e.heap[++e.heap_len]=d=o,e.depth[o]=0):t[o*2+1]=0;for(;e.heap_len<2;)s=e.heap[++e.heap_len]=d<2?++d:0,t[s*2]=1,e.depth[s]=0,e.opt_len--,n&&(e.static_len-=i[s*2+1]);for(r.max_code=d,o=e.heap_len>>1;o>=1;o--)_r(e,t,o);s=a;do o=e.heap[1],e.heap[1]=e.heap[e.heap_len--],_r(e,t,1),l=e.heap[1],e.heap[--e.heap_max]=o,e.heap[--e.heap_max]=l,t[s*2]=t[o*2]+t[l*2],e.depth[s]=(e.depth[o]>=e.depth[l]?e.depth[o]:e.depth[l])+1,t[o*2+1]=t[l*2+1]=s,e.heap[1]=s++,_r(e,t,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],To(e,r),sa(t,d,e.bl_count)}function In(e,r,t){var i,n=-1,a,o=r[0*2+1],l=0,d=7,s=4;for(o===0&&(d=138,s=3),r[(t+1)*2+1]=65535,i=0;i<=t;i++)a=o,o=r[(i+1)*2+1],!(++l<d&&a===o)&&(l<s?e.bl_tree[a*2]+=l:a!==0?(a!==n&&e.bl_tree[a*2]++,e.bl_tree[Jn*2]++):l<=10?e.bl_tree[Qn*2]++:e.bl_tree[ea*2]++,l=0,n=a,o===0?(d=138,s=3):a===o?(d=6,s=3):(d=7,s=4))}function zn(e,r,t){var i,n=-1,a,o=r[0*2+1],l=0,d=7,s=4;for(o===0&&(d=138,s=3),i=0;i<=t;i++)if(a=o,o=r[(i+1)*2+1],!(++l<d&&a===o)){if(l<s)do le(e,a,e.bl_tree);while(--l!==0);else a!==0?(a!==n&&(le(e,a,e.bl_tree),l--),le(e,Jn,e.bl_tree),q(e,l-3,2)):l<=10?(le(e,Qn,e.bl_tree),q(e,l-3,3)):(le(e,ea,e.bl_tree),q(e,l-11,7));l=0,n=a,o===0?(d=138,s=3):a===o?(d=6,s=3):(d=7,s=4)}}function zo(e){var r;for(In(e,e.dyn_ltree,e.l_desc.max_code),In(e,e.dyn_dtree,e.d_desc.max_code),xr(e,e.bl_desc),r=yr-1;r>=3&&e.bl_tree[ta[r]*2+1]===0;r--);return e.opt_len+=3*(r+1)+5+5+4,r}function Oo(e,r,t,i){var n;for(q(e,r-257,5),q(e,t-1,5),q(e,i-4,4),n=0;n<i;n++)q(e,e.bl_tree[ta[n]*2+1],3);zn(e,e.dyn_ltree,r-1),zn(e,e.dyn_dtree,t-1)}function Do(e){var r=4093624447,t;for(t=0;t<=31;t++,r>>>=1)if(r&1&&e.dyn_ltree[t*2]!==0)return Gi;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return Xi;for(t=32;t<lt;t++)if(e.dyn_ltree[t*2]!==0)return Xi;return Gi}var On=!1;function Fo(e){On||(Ao(),On=!0),e.l_desc=new pr(e.dyn_ltree,ra),e.d_desc=new pr(e.dyn_dtree,ia),e.bl_desc=new pr(e.bl_tree,na),e.bi_buf=0,e.bi_valid=0,la(e)}function ha(e,r,t,i){q(e,(xo<<1)+(i?1:0),3),Io(e,r,t,!0)}function Mo(e){q(e,Yn<<1,3),le(e,Cr,se),So(e)}function Po(e,r,t,i){var n,a,o=0;e.level>0?(e.strm.data_type===Nn&&(e.strm.data_type=Do(e)),xr(e,e.l_desc),xr(e,e.d_desc),o=zo(e),n=e.opt_len+3+7>>>3,a=e.static_len+3+7>>>3,a<=n&&(n=a)):n=a=t+5,t+4<=n&&r!==-1?ha(e,r,t,i):e.strategy===Pn||a===n?(q(e,(Yn<<1)+(i?1:0),3),An(e,se,He)):(q(e,(bo<<1)+(i?1:0),3),Oo(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),An(e,e.dyn_ltree,e.dyn_dtree)),la(e),i&&fa(e)}function Ee(e,r,t){return e.pending_buf[e.d_buf+e.last_lit*2]=r>>>8&255,e.pending_buf[e.d_buf+e.last_lit*2+1]=r&255,e.pending_buf[e.l_buf+e.last_lit]=t&255,e.last_lit++,r===0?e.dyn_ltree[t*2]++:(e.matches++,r--,e.dyn_ltree[(We[t]+lt+1)*2]++,e.dyn_dtree[aa(r)*2]++),e.last_lit===e.lit_bufsize-1}var No=9,Lo=29,Ro=256,br=Ro+1+Lo,Bo=30,Uo=19,Zo=2*br+1,$o=15,T=3,ye=258,ne=ye+T+1,Ho=32,Wt=42,wr=69,Mt=73,Pt=91,Nt=103,Ie=113,et=666,U=1,ft=2,Oe=3,Ge=4,jo=3;function Ce(e,r){return e.msg=nt[r],r}function Dn(e){return(e<<1)-(e>4?9:0)}function we(e){for(var r=e.length;--r>=0;)e[r]=0}function be(e){var r=e.state,t=r.pending;t>e.avail_out&&(t=e.avail_out),t!==0&&(ee(e.output,r.pending_buf,r.pending_out,t,e.next_out),e.next_out+=t,r.pending_out+=t,e.total_out+=t,e.avail_out-=t,r.pending-=t,r.pending===0&&(r.pending_out=0))}function H(e,r){Po(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,r),e.block_start=e.strstart,be(e.strm)}function A(e,r){e.pending_buf[e.pending++]=r}function Je(e,r){e.pending_buf[e.pending++]=r>>>8&255,e.pending_buf[e.pending++]=r&255}function Wo(e,r,t,i){var n=e.avail_in;return n>i&&(n=i),n===0?0:(e.avail_in-=n,ee(r,e.input,e.next_in,n,t),e.state.wrap===1?e.adler=it(e.adler,r,n,t):e.state.wrap===2&&(e.adler=$(e.adler,r,n,t)),e.next_in+=n,e.total_in+=n,n)}function da(e,r){var t=e.max_chain_length,i=e.strstart,n,a,o=e.prev_length,l=e.nice_match,d=e.strstart>e.w_size-ne?e.strstart-(e.w_size-ne):0,s=e.window,f=e.w_mask,g=e.prev,u=e.strstart+ye,h=s[i+o-1],x=s[i+o];e.prev_length>=e.good_match&&(t>>=2),l>e.lookahead&&(l=e.lookahead);do if(n=r,!(s[n+o]!==x||s[n+o-1]!==h||s[n]!==s[i]||s[++n]!==s[i+1])){i+=2,n++;do;while(s[++i]===s[++n]&&s[++i]===s[++n]&&s[++i]===s[++n]&&s[++i]===s[++n]&&s[++i]===s[++n]&&s[++i]===s[++n]&&s[++i]===s[++n]&&s[++i]===s[++n]&&i<u);if(a=ye-(u-i),i=u-ye,a>o){if(e.match_start=r,o=a,a>=l)break;h=s[i+o-1],x=s[i+o]}}while((r=g[r&f])>d&&--t!==0);return o<=e.lookahead?o:e.lookahead}function De(e){var r=e.w_size,t,i,n,a,o;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=r+(r-ne)){ee(e.window,e.window,r,r,0),e.match_start-=r,e.strstart-=r,e.block_start-=r,i=e.hash_size,t=i;do n=e.head[--t],e.head[t]=n>=r?n-r:0;while(--i);i=r,t=i;do n=e.prev[--t],e.prev[t]=n>=r?n-r:0;while(--i);a+=r}if(e.strm.avail_in===0)break;if(i=Wo(e.strm,e.window,e.strstart+e.lookahead,a),e.lookahead+=i,e.lookahead+e.insert>=T)for(o=e.strstart-e.insert,e.ins_h=e.window[o],e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+T-1])&e.hash_mask,e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<T)););}while(e.lookahead<ne&&e.strm.avail_in!==0)}function Vo(e,r){var t=65535;for(t>e.pending_buf_size-5&&(t=e.pending_buf_size-5);;){if(e.lookahead<=1){if(De(e),e.lookahead===0&&r===fe)return U;if(e.lookahead===0)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+t;if((e.strstart===0||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,H(e,!1),e.strm.avail_out===0)||e.strstart-e.block_start>=e.w_size-ne&&(H(e,!1),e.strm.avail_out===0))return U}return e.insert=0,r===G?(H(e,!0),e.strm.avail_out===0?Oe:Ge):(e.strstart>e.block_start&&(H(e,!1),e.strm.avail_out===0),U)}function mr(e,r){for(var t,i;;){if(e.lookahead<ne){if(De(e),e.lookahead<ne&&r===fe)return U;if(e.lookahead===0)break}if(t=0,e.lookahead>=T&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+T-1])&e.hash_mask,t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),t!==0&&e.strstart-t<=e.w_size-ne&&(e.match_length=da(e,t)),e.match_length>=T)if(i=Ee(e,e.strstart-e.match_start,e.match_length-T),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=T){e.match_length--;do e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+T-1])&e.hash_mask,t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=Ee(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(H(e,!1),e.strm.avail_out===0))return U}return e.insert=e.strstart<T-1?e.strstart:T-1,r===G?(H(e,!0),e.strm.avail_out===0?Oe:Ge):e.last_lit&&(H(e,!1),e.strm.avail_out===0)?U:ft}function Ze(e,r){for(var t,i,n;;){if(e.lookahead<ne){if(De(e),e.lookahead<ne&&r===fe)return U;if(e.lookahead===0)break}if(t=0,e.lookahead>=T&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+T-1])&e.hash_mask,t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=T-1,t!==0&&e.prev_length<e.max_lazy_match&&e.strstart-t<=e.w_size-ne&&(e.match_length=da(e,t),e.match_length<=5&&(e.strategy===Ba||e.match_length===T&&e.strstart-e.match_start>4096)&&(e.match_length=T-1)),e.prev_length>=T&&e.match_length<=e.prev_length){n=e.strstart+e.lookahead-T,i=Ee(e,e.strstart-1-e.prev_match,e.prev_length-T),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=n&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+T-1])&e.hash_mask,t=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=T-1,e.strstart++,i&&(H(e,!1),e.strm.avail_out===0))return U}else if(e.match_available){if(i=Ee(e,0,e.window[e.strstart-1]),i&&H(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return U}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=Ee(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<T-1?e.strstart:T-1,r===G?(H(e,!0),e.strm.avail_out===0?Oe:Ge):e.last_lit&&(H(e,!1),e.strm.avail_out===0)?U:ft}function Ko(e,r){for(var t,i,n,a,o=e.window;;){if(e.lookahead<=ye){if(De(e),e.lookahead<=ye&&r===fe)return U;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=T&&e.strstart>0&&(n=e.strstart-1,i=o[n],i===o[++n]&&i===o[++n]&&i===o[++n])){a=e.strstart+ye;do;while(i===o[++n]&&i===o[++n]&&i===o[++n]&&i===o[++n]&&i===o[++n]&&i===o[++n]&&i===o[++n]&&i===o[++n]&&n<a);e.match_length=ye-(a-n),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=T?(t=Ee(e,1,e.match_length-T),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(t=Ee(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),t&&(H(e,!1),e.strm.avail_out===0))return U}return e.insert=0,r===G?(H(e,!0),e.strm.avail_out===0?Oe:Ge):e.last_lit&&(H(e,!1),e.strm.avail_out===0)?U:ft}function Go(e,r){for(var t;;){if(e.lookahead===0&&(De(e),e.lookahead===0)){if(r===fe)return U;break}if(e.match_length=0,t=Ee(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,t&&(H(e,!1),e.strm.avail_out===0))return U}return e.insert=0,r===G?(H(e,!0),e.strm.avail_out===0?Oe:Ge):e.last_lit&&(H(e,!1),e.strm.avail_out===0)?U:ft}function oe(e,r,t,i,n){this.good_length=e,this.max_lazy=r,this.nice_length=t,this.max_chain=i,this.func=n}var Er=function(){let e=[new oe(0,0,0,0,Vo),new oe(4,4,8,4,mr),new oe(4,5,16,8,mr),new oe(4,6,32,32,mr),new oe(4,4,16,16,Ze),new oe(8,16,32,32,Ze),new oe(8,16,128,128,Ze),new oe(8,32,128,256,Ze),new oe(32,128,258,1024,Ze),new oe(32,258,258,4096,Ze)];return Er=()=>e,e};function Xo(e){e.window_size=2*e.w_size,we(e.head);let r=Er();e.max_lazy_match=r[e.level].max_lazy,e.good_match=r[e.level].good_length,e.nice_match=r[e.level].nice_length,e.max_chain_length=r[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=T-1,e.match_available=0,e.ins_h=0}function Yo(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=jt,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=Y(Zo*2),this.dyn_dtree=Y((2*Bo+1)*2),this.bl_tree=Y((2*Uo+1)*2),we(this.dyn_ltree),we(this.dyn_dtree),we(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=Y($o+1),this.heap=Y(2*br+1),we(this.heap),this.heap_len=0,this.heap_max=0,this.depth=Y(2*br+1),we(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function qo(e){var r;return!e||!e.state?Ce(e,te):(e.total_in=e.total_out=0,e.data_type=Nn,r=e.state,r.pending=0,r.pending_out=0,r.wrap<0&&(r.wrap=-r.wrap),r.status=r.wrap?Wt:Ie,e.adler=r.wrap===2?0:1,r.last_flush=fe,Fo(r),P)}function Jo(e){var r=qo(e);return r===P&&Xo(e.state),r}function Qo(e,r){return!e||!e.state||e.state.wrap!==2?te:(e.state.gzhead=r,P)}function es(e,r,t,i,n,a){if(!e)return te;var o=1;if(r===Mn&&(r=6),i<0?(o=0,i=-i):i>15&&(o=2,i-=16),n<1||n>No||t!==jt||i<8||i>15||r<0||r>9||a<0||a>Pn)return Ce(e,te);i===8&&(i=9);var l=new Yo;return e.state=l,l.strm=e,l.wrap=o,l.gzhead=null,l.w_bits=i,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=n+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+T-1)/T),l.window=he(l.w_size*2),l.head=Y(l.hash_size),l.prev=Y(l.w_size),l.lit_bufsize=1<<n+6,l.pending_buf_size=l.lit_bufsize*4,l.pending_buf=he(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=r,l.strategy=a,l.method=t,Jo(e)}function ts(e,r){var t,i,n,a;if(!e||!e.state||r>Ki||r<0)return e?Ce(e,te):te;if(i=e.state,!e.output||!e.input&&e.avail_in!==0||i.status===et&&r!==G)return Ce(e,e.avail_out===0?Ot:te);if(i.strm=e,t=i.last_flush,i.last_flush=r,i.status===Wt)if(i.wrap===2)e.adler=0,A(i,31),A(i,139),A(i,8),i.gzhead?(A(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),A(i,i.gzhead.time&255),A(i,i.gzhead.time>>8&255),A(i,i.gzhead.time>>16&255),A(i,i.gzhead.time>>24&255),A(i,i.level===9?2:i.strategy>=St||i.level<2?4:0),A(i,i.gzhead.os&255),i.gzhead.extra&&i.gzhead.extra.length&&(A(i,i.gzhead.extra.length&255),A(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=$(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=wr):(A(i,0),A(i,0),A(i,0),A(i,0),A(i,0),A(i,i.level===9?2:i.strategy>=St||i.level<2?4:0),A(i,jo),i.status=Ie);else{var o=jt+(i.w_bits-8<<4)<<8,l=-1;i.strategy>=St||i.level<2?l=0:i.level<6?l=1:i.level===6?l=2:l=3,o|=l<<6,i.strstart!==0&&(o|=Ho),o+=31-o%31,i.status=Ie,Je(i,o),i.strstart!==0&&(Je(i,e.adler>>>16),Je(i,e.adler&65535)),e.adler=1}if(i.status===wr)if(i.gzhead.extra){for(n=i.pending;i.gzindex<(i.gzhead.extra.length&65535)&&!(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(e.adler=$(e.adler,i.pending_buf,i.pending-n,n)),be(e),n=i.pending,i.pending===i.pending_buf_size));)A(i,i.gzhead.extra[i.gzindex]&255),i.gzindex++;i.gzhead.hcrc&&i.pending>n&&(e.adler=$(e.adler,i.pending_buf,i.pending-n,n)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=Mt)}else i.status=Mt;if(i.status===Mt)if(i.gzhead.name){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(e.adler=$(e.adler,i.pending_buf,i.pending-n,n)),be(e),n=i.pending,i.pending===i.pending_buf_size)){a=1;break}i.gzindex<i.gzhead.name.length?a=i.gzhead.name.charCodeAt(i.gzindex++)&255:a=0,A(i,a)}while(a!==0);i.gzhead.hcrc&&i.pending>n&&(e.adler=$(e.adler,i.pending_buf,i.pending-n,n)),a===0&&(i.gzindex=0,i.status=Pt)}else i.status=Pt;if(i.status===Pt)if(i.gzhead.comment){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(e.adler=$(e.adler,i.pending_buf,i.pending-n,n)),be(e),n=i.pending,i.pending===i.pending_buf_size)){a=1;break}i.gzindex<i.gzhead.comment.length?a=i.gzhead.comment.charCodeAt(i.gzindex++)&255:a=0,A(i,a)}while(a!==0);i.gzhead.hcrc&&i.pending>n&&(e.adler=$(e.adler,i.pending_buf,i.pending-n,n)),a===0&&(i.status=Nt)}else i.status=Nt;if(i.status===Nt&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&be(e),i.pending+2<=i.pending_buf_size&&(A(i,e.adler&255),A(i,e.adler>>8&255),e.adler=0,i.status=Ie)):i.status=Ie),i.pending!==0){if(be(e),e.avail_out===0)return i.last_flush=-1,P}else if(e.avail_in===0&&Dn(r)<=Dn(t)&&r!==G)return Ce(e,Ot);if(i.status===et&&e.avail_in!==0)return Ce(e,Ot);if(e.avail_in!==0||i.lookahead!==0||r!==fe&&i.status!==et){var d=i.strategy===St?Go(i,r):i.strategy===Ua?Ko(i,r):Er()[i.level].func(i,r);if((d===Oe||d===Ge)&&(i.status=et),d===U||d===Oe)return e.avail_out===0&&(i.last_flush=-1),P;if(d===ft&&(r===Pa?Mo(i):r!==Ki&&(ha(i,0,0,!1),r===Na&&(we(i.head),i.lookahead===0&&(i.strstart=0,i.block_start=0,i.insert=0))),be(e),e.avail_out===0))return i.last_flush=-1,P}return r!==G?P:i.wrap<=0?ke:(i.wrap===2?(A(i,e.adler&255),A(i,e.adler>>8&255),A(i,e.adler>>16&255),A(i,e.adler>>24&255),A(i,e.total_in&255),A(i,e.total_in>>8&255),A(i,e.total_in>>16&255),A(i,e.total_in>>24&255)):(Je(i,e.adler>>>16),Je(i,e.adler&65535)),be(e),i.wrap>0&&(i.wrap=-i.wrap),i.pending!==0?P:ke)}function rs(e){var r;return!e||!e.state?te:(r=e.state.status,r!==Wt&&r!==wr&&r!==Mt&&r!==Pt&&r!==Nt&&r!==Ie&&r!==et?Ce(e,te):(e.state=null,r===Ie?Ce(e,Ra):P))}function is(e,r){var t=r.length,i,n,a,o,l,d,s,f;if(!e||!e.state||(i=e.state,o=i.wrap,o===2||o===1&&i.status!==Wt||i.lookahead))return te;for(o===1&&(e.adler=it(e.adler,r,t,0)),i.wrap=0,t>=i.w_size&&(o===0&&(we(i.head),i.strstart=0,i.block_start=0,i.insert=0),f=he(i.w_size),ee(f,r,t-i.w_size,i.w_size,0),r=f,t=i.w_size),l=e.avail_in,d=e.next_in,s=e.input,e.avail_in=t,e.next_in=0,e.input=r,De(i);i.lookahead>=T;){n=i.strstart,a=i.lookahead-(T-1);do i.ins_h=(i.ins_h<<i.hash_shift^i.window[n+T-1])&i.hash_mask,i.prev[n&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=n,n++;while(--a);i.strstart=n,i.lookahead=T-1,De(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=T-1,i.match_available=0,e.next_in=d,e.input=s,e.avail_in=l,i.wrap=o,P}var Fn=Object.prototype.toString,Ht=class{constructor(r){this.options=Ln({level:Mn,method:jt,chunkSize:16384,windowBits:15,memLevel:8,strategy:Za,to:""},r||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Xn,this.strm.avail_out=0;var i=es(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(i!==P)throw new Error(nt[i]);if(t.header&&Qo(this.strm,t.header),t.dictionary){var n;if(typeof t.dictionary=="string"?n=Ut(t.dictionary):Fn.call(t.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(t.dictionary):n=t.dictionary,i=is(this.strm,n),i!==P)throw new Error(nt[i]);this._dict_set=!0}}push(r,t){var i=this.strm,n=this.options.chunkSize,a,o;if(this.ended)return!1;o=t===~~t?t:t===!0?G:fe,typeof r=="string"?i.input=Ut(r):Fn.call(r)==="[object ArrayBuffer]"?i.input=new Uint8Array(r):i.input=r,i.next_in=0,i.avail_in=i.input.length;do{if(i.avail_out===0&&(i.output=he(n),i.next_out=0,i.avail_out=n),a=ts(i,o),a!==ke&&a!==P)return this.onEnd(a),this.ended=!0,!1;(i.avail_out===0||i.avail_in===0&&(o===G||o===Lt))&&(this.options.to==="string"?this.onData(Ha(Rt(i.output,i.next_out))):this.onData(Rt(i.output,i.next_out)))}while((i.avail_in>0||i.avail_out===0)&&a!==ke);return o===G?(a=rs(this.strm),this.onEnd(a),this.ended=!0,a===P):(o===Lt&&(this.onEnd(P),i.avail_out=0),!0)}onData(r){this.chunks.push(r)}onEnd(r){r===P&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Bt(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg}};var ue={Promise},j={base64:!0,array:!0,string:!0,nodebuffer:!1,nodestream:!1,get arraybuffer(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"},get uint8array(){return typeof Uint8Array<"u"},get blob(){return ma()}},ma=function(){let e;if(typeof ArrayBuffer>"u")e=!1;else{let r=new ArrayBuffer(0);try{e=new Blob([r],{type:"application/zip"}).size===0}catch{e=!1}}return ma=()=>e,e},de="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",ns=function(e){let r=[],t,i,n,a,o,l,d,s=0,f=e.length,g=f,u=typeof e!="string";for(;s<e.length;)g=f-s,u?(t=e[s++],i=s<f?e[s++]:0,n=s<f?e[s++]:0):(t=e.charCodeAt(s++),i=s<f?e.charCodeAt(s++):0,n=s<f?e.charCodeAt(s++):0),a=t>>2,o=(t&3)<<4|i>>4,l=g>1?(i&15)<<2|n>>6:64,d=g>2?n&63:64,r.push(de.charAt(a)+de.charAt(o)+de.charAt(l)+de.charAt(d));return r.join("")},as=function(e){let r,t,i,n,a,o,l,d=0,s=0,f="data:";if(e.substr(0,f.length)===f)throw new Error("Invalid base64 input, it looks like a data url.");e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");let g=e.length*3/4;if(e.charAt(e.length-1)===de.charAt(64)&&g--,e.charAt(e.length-2)===de.charAt(64)&&g--,g%1!==0)throw new Error("Invalid base64 input, bad content length.");let u;for(j.uint8array?u=new Uint8Array(g|0):u=new Array(g|0);d<e.length;)n=de.indexOf(e.charAt(d++)),a=de.indexOf(e.charAt(d++)),o=de.indexOf(e.charAt(d++)),l=de.indexOf(e.charAt(d++)),r=n<<2|a>>4,t=(a&15)<<4|o>>2,i=(o&3)<<6|l,u[s++]=r,o!==64&&(u[s++]=t),l!==64&&(u[s++]=i);return u};function os(e){var r=null;return j.uint8array?r=new Uint8Array(e.length):r=new Array(e.length),Tr(e,r)}var ss=function(e,r){return mt("blob"),new Blob([e],{type:r})};function Vt(e){return e}function Tr(e,r){for(var t=0;t<e.length;++t)r[t]=e.charCodeAt(t)&255;return r}function ls(e,r,t){var i=[],n=0,a=e.length;if(a<=t)return String.fromCharCode.apply(null,e);for(;n<a;)r==="array"?i.push(String.fromCharCode.apply(null,e.slice(n,Math.min(n+t,a)))):i.push(String.fromCharCode.apply(null,e.subarray(n,Math.min(n+t,a)))),n+=t;return i.join("")}function fs(e){for(var r="",t=0;t<e.length;t++)r+=String.fromCharCode(e[t]);return r}var va=()=>{let e;try{e=j.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{e=!1}return va=()=>e,e};function Gt(e){var r=65536,t=Me(e),i=!0;if(t==="uint8array"&&(i=va()),i)for(;r>1;)try{return ls(e,t,r)}catch{r=Math.floor(r/2)}return fs(e)}var hs=Gt;function ua(e,r){for(var t=0;t<e.length;t++)r[t]=e[t];return r}var ga={string:{string:Vt,array:function(e){return Tr(e,new Array(e.length))},arraybuffer:function(e){return ga.string.uint8array(e).buffer},uint8array:function(e){return Tr(e,new Uint8Array(e.length))}},array:{string:Gt,array:Vt,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)}},arraybuffer:{string:function(e){return Gt(new Uint8Array(e))},array:function(e){return ua(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:Vt,uint8array:function(e){return new Uint8Array(e)}},uint8array:{string:Gt,array:function(e){return ua(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:Vt}},Z=function(e,r){if(r||(r=""),!e)return r;mt(e);var t=Me(r),i=ga[t][e](r);return i},Me=function(e){if(typeof e=="string")return"string";if(Object.prototype.toString.call(e)==="[object Array]")return"array";if(j.uint8array&&e instanceof Uint8Array)return"uint8array";if(j.arraybuffer&&e instanceof ArrayBuffer)return"arraybuffer"},mt=function(e){var r=j[e.toLowerCase()];if(!r)throw new Error(e+" is not supported by this platform")},Kt=65535,Xe=-1,Ar=function(e){var r="",t,i;for(i=0;i<(e||"").length;i++)t=e.charCodeAt(i),r+="\\x"+(t<16?"0":"")+t.toString(16).toUpperCase();return r},Yt=function(e,r,t){setTimeout(function(){e.apply(t||null,r||[])},0)},Ur=function(){var e={},r,t;for(r=0;r<arguments.length;r++)for(t in arguments[r])Object.hasOwnProperty.call(arguments[r],t)&&typeof e[t]>"u"&&(e[t]=arguments[r][t]);return e},xa=function(e,r,t,i,n){var a=ue.Promise.resolve(r).then(function(o){var l=j.blob&&(o instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(o))!==-1);return l&&typeof FileReader<"u"?new ue.Promise(function(d,s){var f=new FileReader;f.onload=function(g){d(g.target.result)},f.onerror=function(g){s(g.target.error)},f.readAsArrayBuffer(o)}):o});return a.then(function(o){var l=Me(o);return l?(l==="arraybuffer"?o=Z("uint8array",o):l==="string"&&(n?o=as(o):t&&i!==!0&&(o=os(o))),o):ue.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})},W=class{constructor(r){this.name=r||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}push(r){this.emit("data",r)}end(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(r){this.emit("error",r)}return!0}error(r){return this.isFinished?!1:(this.isPaused?this.generatedError=r:(this.isFinished=!0,this.emit("error",r),this.previous&&this.previous.error(r),this.cleanUp()),!0)}on(r,t){return this._listeners[r].push(t),this}cleanUp(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]}emit(r,t){if(this._listeners[r])for(var i=0;i<this._listeners[r].length;i++)this._listeners[r][i].call(this,t)}pipe(r){return r.registerPrevious(this)}registerPrevious(r){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=r.streamInfo,this.mergeStreamInfo(),this.previous=r;var t=this;return r.on("data",function(i){t.processChunk(i)}),r.on("end",function(){t.end()}),r.on("error",function(i){t.error(i)}),this}pause(){return this.isPaused||this.isFinished?!1:(this.isPaused=!0,this.previous&&this.previous.pause(),!0)}resume(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var r=!1;return this.generatedError&&(this.error(this.generatedError),r=!0),this.previous&&this.previous.resume(),!r}flush(){}processChunk(r){this.push(r)}withStreamInfo(r,t){return this.extraStreamInfo[r]=t,this.mergeStreamInfo(),this}mergeStreamInfo(){for(var r in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(r)&&(this.streamInfo[r]=this.extraStreamInfo[r])}lock(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()}toString(){var r="Worker "+this.name;return this.previous?this.previous+" -> "+r:r}},Zr=function(e){let r=new Array(256);for(let t=0;t<256;t++)r[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;return r[254]=r[254]=1,Zr=function(t){return r[t]},r[e]},ds=function(e){var r,t,i,n,a,o=e.length,l=0;for(n=0;n<o;n++)t=e.charCodeAt(n),(t&64512)===55296&&n+1<o&&(i=e.charCodeAt(n+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),n++)),l+=t<128?1:t<2048?2:t<65536?3:4;for(j.uint8array?r=new Uint8Array(l):r=new Array(l),a=0,n=0;a<l;n++)t=e.charCodeAt(n),(t&64512)===55296&&n+1<o&&(i=e.charCodeAt(n+1),(i&64512)===56320&&(t=65536+(t-55296<<10)+(i-56320),n++)),t<128?r[a++]=t:t<2048?(r[a++]=192|t>>>6,r[a++]=128|t&63):t<65536?(r[a++]=224|t>>>12,r[a++]=128|t>>>6&63,r[a++]=128|t&63):(r[a++]=240|t>>>18,r[a++]=128|t>>>12&63,r[a++]=128|t>>>6&63,r[a++]=128|t&63);return r},us=function(e,r){var t;for(r=r||e.length,r>e.length&&(r=e.length),t=r-1;t>=0&&(e[t]&192)===128;)t--;return t<0||t===0?r:t+Zr(e[t])>r?t:r},cs=function(e){var r,t,i,n,a=e.length,o=new Array(a*2);for(t=0,r=0;r<a;){if(i=e[r++],i<128){o[t++]=i;continue}if(n=Zr(i),n>4){o[t++]=65533,r+=n-1;continue}for(i&=n===2?31:n===3?15:7;n>1&&r<a;)i=i<<6|e[r++]&63,n--;if(n>1){o[t++]=65533;continue}i<65536?o[t++]=i:(i-=65536,o[t++]=55296|i>>10&1023,o[t++]=56320|i&1023)}return o.length!==t&&(o.subarray?o=o.subarray(0,t):o.length=t),hs(o)},dt=function(r){return ds(r)},Fe=function(r){return r=Z(j.uint8array?"uint8array":"array",r),cs(r)},Ir=class extends W{constructor(){super("utf-8 decode"),this.leftOver=null}processChunk(r){var t=Z(j.uint8array?"uint8array":"array",r.data);if(this.leftOver&&this.leftOver.length){if(j.uint8array){var i=t;t=new Uint8Array(i.length+this.leftOver.length),t.set(this.leftOver,0),t.set(i,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var n=us(t),a=t;n!==t.length&&(j.uint8array?(a=t.subarray(0,n),this.leftOver=t.subarray(n,t.length)):(a=t.slice(0,n),this.leftOver=t.slice(n,t.length))),this.push({data:Fe(a),meta:r.meta})}flush(){this.leftOver&&this.leftOver.length&&(this.push({data:Fe(this.leftOver),meta:{}}),this.leftOver=null)}},qt=class extends W{constructor(){super("utf-8 encode")}processChunk(r){this.push({data:dt(r.data),meta:r.meta})}},zr=class extends W{constructor(r){super("ConvertWorker to "+r),this.destType=r}processChunk(r){this.push({data:Z(this.destType,r.data),meta:r.meta})}};function ps(e,r,t){switch(e){case"blob":return ss(Z("arraybuffer",r),t);case"base64":return ns(r);default:return Z(e,r)}}function _s(e,r){var t,i=0,n=null,a=0;for(t=0;t<r.length;t++)a+=r[t].length;switch(e){case"string":return r.join("");case"array":return Array.prototype.concat.apply([],r);case"uint8array":for(n=new Uint8Array(a),t=0;t<r.length;t++)n.set(r[t],i),i+=r[t].length;return n;default:throw new Error("concat : unsupported type '"+e+"'")}}function ms(e,r){return new ue.Promise(function(t,i){var n=[],a=e._internalType,o=e._outputType,l=e._mimeType;e.on("data",function(d,s){n.push(d),r&&r(s)}).on("error",function(d){n=[],i(d)}).on("end",function(){try{var d=ps(o,_s(a,n),l);t(d)}catch(s){i(s)}n=[]}).resume()})}var Jt=class{constructor(r,t,i){var n=t;switch(t){case"blob":case"arraybuffer":n="uint8array";break;case"base64":n="string";break}try{this._internalType=n,this._outputType=t,this._mimeType=i,mt(n),this._worker=r.pipe(new zr(n)),r.lock()}catch(a){this._worker=new W("error"),this._worker.error(a)}}accumulate(r){return ms(this,r)}on(r,t){var i=this;return r==="data"?this._worker.on(r,function(n){t.call(i,n.data,n.meta)}):this._worker.on(r,function(){Yt(t,arguments,i)}),this}resume(){return Yt(this._worker.resume,[],this._worker),this}pause(){return this._worker.pause(),this}},vs=!1,gs=!1,xs=!1,ba=!0,bs=null,ws=null,ks=null,ys=null,Cs=null,Es=null,wa=Object.freeze({__proto__:null,base64:vs,binary:gs,dir:xs,createFolders:ba,date:bs,compression:ws,compressionOptions:ks,comment:ys,unixPermissions:Cs,dosPermissions:Es}),Ss=16*1024,ct=class extends W{constructor(r){super("DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,r.then(function(i){t.dataIsReady=!0,t.data=i,t.max=i&&i.length||0,t.type=Me(i),t.isPaused||t._tickAndRepeat()},function(i){t.error(i)})}cleanUp(){super.cleanUp(),this.data=null}resume(){return super.resume()?(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,Yt(this._tickAndRepeat,[],this)),!0):!1}_tickAndRepeat(){this._tickScheduled=!1,!(this.isPaused||this.isFinished)&&(this._tick(),this.isFinished||(Yt(this._tickAndRepeat,[],this),this._tickScheduled=!0))}_tick(){if(this.isPaused||this.isFinished)return!1;var r=Ss,t=null,i=Math.min(this.max,this.index+r);if(this.index>=this.max)return this.end();switch(this.type){case"string":t=this.data.substring(this.index,i);break;case"uint8array":t=this.data.subarray(this.index,i);break;case"array":t=this.data.slice(this.index,i);break}return this.index=i,this.push({data:t,meta:{percent:this.max?this.index/this.max*100:0}})}},ut=class extends W{constructor(r){super("DataLengthProbe for "+r),this.propName=r,this.withStreamInfo(r,0)}processChunk(r){if(r){let t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+r.data.length}super.processChunk(r)}},$r=function(){let e=[];for(let r=0;r<256;r++){let t=r;for(let i=0;i<8;i++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return $r=function(){return e},e};function Ts(e,r,t,i){let n=$r(),a=i+t;e=e^-1;for(let o=i;o<a;o++)e=e>>>8^n[(e^r[o])&255];return e^-1}function As(e,r,t,i){let n=$r(),a=i+t;e=e^-1;for(let o=i;o<a;o++)e=e>>>8^n[(e^r.charCodeAt(o))&255];return e^-1}function pt(e,r){return typeof e>"u"||!e.length?0:Me(e)!=="string"?Ts(r|0,e,e.length,0):As(r|0,e,e.length,0)}var Qt=class extends W{constructor(){super("Crc32Probe"),this.withStreamInfo("crc32",0)}processChunk(r){this.streamInfo.crc32=pt(r.data,this.streamInfo.crc32||0),this.push(r)}},Se=class{constructor(r,t,i,n,a){this.compressedSize=r,this.uncompressedSize=t,this.crc32=i,this.compression=n,this.compressedContent=a}getContentWorker(){var r=new ct(ue.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new ut("data_length")),t=this;return r.on("end",function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),r}getCompressedWorker(){return new ct(ue.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}static createWorkerFrom(r,t,i){return r.pipe(new Qt).pipe(new ut("uncompressedSize")).pipe(t.compressWorker(i)).pipe(new ut("compressedSize")).withStreamInfo("compression",t)}},Or=class{constructor(r,t,i){this.name=r,this.dir=i.dir,this.date=i.date,this.comment=i.comment,this.unixPermissions=i.unixPermissions,this.dosPermissions=i.dosPermissions,this._data=t,this._dataBinary=i.binary,this.options={compression:i.compression,compressionOptions:i.compressionOptions}}internalStream(r){var t=null,i="string";try{if(!r)throw new Error("No output type specified.");i=r.toLowerCase();var n=i==="string"||i==="text";(i==="binarystring"||i==="text")&&(i="string"),t=this._decompressWorker();var a=!this._dataBinary;a&&!n&&(t=t.pipe(new qt)),!a&&n&&(t=t.pipe(new Ir))}catch(o){t=new W("error"),t.error(o)}return new Jt(t,i,"")}async(r,t){return this.internalStream(r).accumulate(t)}_compressWorker(r,t){if(this._data instanceof Se&&this._data.compression.magic===r.magic)return this._data.getCompressedWorker();var i=this._decompressWorker();return this._dataBinary||(i=i.pipe(new qt)),Se.createWorkerFrom(i,r,t)}_decompressWorker(){return this._data instanceof Se?this._data.getContentWorker():this._data instanceof W?this._data:new ct(this._data)}},ka=function(){let r=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u"?"uint8array":"array";ka=function(){return r}},er=class extends W{constructor(r,t){super("FlateWorker/"+r),this._pako=null,this._pakoAction=r,this._pakoOptions=t,this.meta={}}processChunk(r){this.meta=r.meta,this._pako===null&&this._createPako(),this._pako.push(Z(ka(),r.data),!1)}flush(){super.flush(),this._pako===null&&this._createPako(),this._pako.push([],!0)}cleanUp(){super.cleanUp(),this._pako=null}_createPako(){let r={raw:!0,level:this._pakoOptions.level||-1};this._pako=this._pakoAction==="Deflate"?new Ht(r):new $t(r),this._pako.onData=t=>{this.push({data:t,meta:this.meta})}}},Is={magic:"\b\0",compressWorker:function(e){return new er("Deflate",e)},uncompressWorker:function(){return new er("Inflate",{})}},zs={magic:"\0\0",compressWorker:function(){return new W("STORE compression")},uncompressWorker:function(){return new W("STORE decompression")}},ht={STORE:zs,DEFLATE:Is},Dr="PK",Fr="PK",Mr="PK",ca="PK\x07",Sr="PK",Os="PK\x07\b",D=function(e,r){var t="",i;for(i=0;i<r;i++)t+=String.fromCharCode(e&255),e=e>>>8;return t},Ds=function(e,r){var t=e;return e||(t=r?16893:33204),(t&65535)<<16},Fs=function(e,r){return(e||0)&63},pa=function(e,r,t,i,n,a){var o=e.file,l=e.compression,d=a!==dt,s=Z("string",a(o.name)),f=Z("string",dt(o.name)),g=o.comment,u=Z("string",a(g)),h=Z("string",dt(g)),x=f.length!==o.name.length,z=h.length!==g.length,v,m,k="",w="",c="",E=o.dir,O=o.date,p={crc32:0,compressedSize:0,uncompressedSize:0};(!r||t)&&(p.crc32=e.crc32,p.compressedSize=e.compressedSize,p.uncompressedSize=e.uncompressedSize);var y=0;r&&(y|=8),!d&&(x||z)&&(y|=2048);var C=0,b=0;E&&(C|=16),n==="UNIX"?(b=798,C|=Ds(o.unixPermissions,E)):(b=20,C|=Fs(o.dosPermissions)),v=O.getUTCHours(),v=v<<6,v=v|O.getUTCMinutes(),v=v<<5,v=v|O.getUTCSeconds()/2,m=O.getUTCFullYear()-1980,m=m<<4,m=m|O.getUTCMonth()+1,m=m<<5,m=m|O.getUTCDate(),x&&(w=D(1,1)+D(pt(s),4)+f,k+="up"+D(w.length,2)+w),z&&(c=D(1,1)+D(pt(u),4)+h,k+="uc"+D(c.length,2)+c);var S="";S+=`
\0`,S+=D(y,2),S+=l.magic,S+=D(v,2),S+=D(m,2),S+=D(p.crc32,4),S+=D(p.compressedSize,4),S+=D(p.uncompressedSize,4),S+=D(s.length,2),S+=D(k.length,2);var J=Dr+S+s+k,ae=Fr+D(b,2)+S+D(u.length,2)+"\0\0\0\0"+D(C,4)+D(i,4)+s+k+u;return{fileRecord:J,dirRecord:ae}},Ms=function(e,r,t,i,n){var a="",o=Z("string",n(i));return a=Mr+"\0\0\0\0"+D(e,2)+D(e,2)+D(r,4)+D(t,4)+D(o.length,2)+o,a},Ps=function(e){var r="";return r=Os+D(e.crc32,4)+D(e.compressedSize,4)+D(e.uncompressedSize,4),r},Pr=class extends W{constructor(r,t,i,n){super("ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=i,this.encodeFileName=n,this.streamFiles=r,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}push(r){var t=r.meta.percent||0,i=this.entriesCount,n=this._sources.length;this.accumulate?this.contentBuffer.push(r):(this.bytesWritten+=r.data.length,super.push({data:r.data,meta:{currentFile:this.currentFile,percent:i?(t+100*(i-n-1))/i:100}}))}openedSource(r){this.currentSourceOffset=this.bytesWritten,this.currentFile=r.file.name;var t=this.streamFiles&&!r.file.dir;if(t){var i=pa(r,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:i.fileRecord,meta:{percent:0}})}else this.accumulate=!0}closedSource(r){this.accumulate=!1;var t=this.streamFiles&&!r.file.dir,i=pa(r,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(i.dirRecord),t)this.push({data:Ps(r),meta:{percent:100}});else for(this.push({data:i.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null}flush(){for(var r=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var i=this.bytesWritten-r,n=Ms(this.dirRecords.length,i,r,this.zipComment,this.encodeFileName);this.push({data:n,meta:{percent:100}})}prepareNextSource(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()}registerPrevious(r){this._sources.push(r);var t=this;return r.on("data",function(i){t.processChunk(i)}),r.on("end",function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()}),r.on("error",function(i){t.error(i)}),this}resume(){if(!super.resume())return!1;if(!this.previous&&this._sources.length)return this.prepareNextSource(),!0;if(!this.previous&&!this._sources.length&&!this.generatedError)return this.end(),!0}error(r){var t=this._sources;if(!super.error(r))return!1;for(var i=0;i<t.length;i++)try{t[i].error(r)}catch{}return!0}lock(){super.lock();for(var r=this._sources,t=0;t<r.length;t++)r[t].lock()}},Ns=function(e,r){var t=e||r,i=ht[t];if(!i)throw new Error(t+" is not a valid compression method !");return i},Ls=function(e,r,t){var i=new Pr(r.streamFiles,t,r.platform,r.encodeFileName),n=0;try{e.forEach(function(a,o){n++;var l=Ns(o.options.compression,r.compression),d=o.options.compressionOptions||r.compressionOptions||{},s=o.dir,f=o.date;o._compressWorker(l,d).withStreamInfo("file",{name:a,dir:s,date:f,comment:o.comment||"",unixPermissions:o.unixPermissions,dosPermissions:o.dosPermissions}).pipe(i)}),i.entriesCount=n}catch(a){i.error(a)}return i},tr=class{constructor(r){this.data=r,this.length=r.length,this.index=0,this.zero=0}checkOffset(r){this.checkIndex(this.index+r)}checkIndex(r){if(this.length<this.zero+r||r<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+r+"). Corrupted zip ?")}setIndex(r){this.checkIndex(r),this.index=r}skip(r){this.setIndex(this.index+r)}byteAt(r){}readInt(r){var t=0,i;for(this.checkOffset(r),i=this.index+r-1;i>=this.index;i--)t=(t<<8)+this.byteAt(i);return this.index+=r,t}readString(r){return Z("string",this.readData(r))}readData(r){}lastIndexOfSignature(r){}readAndCheckSignature(r){}readDate(){var r=this.readInt(4);return new Date(Date.UTC((r>>25&127)+1980,(r>>21&15)-1,r>>16&31,r>>11&31,r>>5&63,(r&31)<<1))}},rr=class extends tr{constructor(r){super(r);for(var t=0;t<this.data.length;t++)r[t]=r[t]&255}byteAt(r){return this.data[this.zero+r]}lastIndexOfSignature(r){for(var t=r.charCodeAt(0),i=r.charCodeAt(1),n=r.charCodeAt(2),a=r.charCodeAt(3),o=this.length-4;o>=0;--o)if(this.data[o]===t&&this.data[o+1]===i&&this.data[o+2]===n&&this.data[o+3]===a)return o-this.zero;return-1}readAndCheckSignature(r){var t=r.charCodeAt(0),i=r.charCodeAt(1),n=r.charCodeAt(2),a=r.charCodeAt(3),o=this.readData(4);return t===o[0]&&i===o[1]&&n===o[2]&&a===o[3]}readData(r){if(this.checkOffset(r),r===0)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,t}},Nr=class extends tr{constructor(r){super(r)}byteAt(r){return this.data.charCodeAt(this.zero+r)}lastIndexOfSignature(r){return this.data.lastIndexOf(r)-this.zero}readAndCheckSignature(r){let t=this.readData(4);return r===t}readData(r){this.checkOffset(r);let t=this.data.slice(this.zero+this.index,this.zero+this.index+r);return this.index+=r,t}},Lr=class extends rr{constructor(r){super(r)}readData(r){if(this.checkOffset(r),r===0)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+r);return this.index+=r,t}};function Xt(e){let r=Me(e);return mt(r),r==="string"&&!j.uint8array?new Nr(e):j.uint8array?new Lr(Z("uint8array",e)):new rr(Z("array",e))}var Rs=0,Bs=3,Us=function(e){for(var r in ht)if(ht.hasOwnProperty(r)&&ht[r].magic===e)return ht[r];return null},Rr=class{constructor(r,t){this.options=r,this.loadOptions=t}isEncrypted(){return(this.bitFlag&1)===1}useUTF8(){return(this.bitFlag&2048)===2048}readLocalPart(r){var t,i;if(r.skip(22),this.fileNameLength=r.readInt(2),i=r.readInt(2),this.fileName=r.readData(this.fileNameLength),r.skip(i),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(t=Us(this.compressionMethod),t===null)throw new Error("Corrupted zip : compression "+Ar(this.compressionMethod)+" unknown (inner file : "+Z("string",this.fileName)+")");this.decompressed=new Se(this.compressedSize,this.uncompressedSize,this.crc32,t,r.readData(this.compressedSize))}readCentralPart(r){this.versionMadeBy=r.readInt(2),r.skip(2),this.bitFlag=r.readInt(2),this.compressionMethod=r.readString(2),this.date=r.readDate(),this.crc32=r.readInt(4),this.compressedSize=r.readInt(4),this.uncompressedSize=r.readInt(4);var t=r.readInt(2);if(this.extraFieldsLength=r.readInt(2),this.fileCommentLength=r.readInt(2),this.diskNumberStart=r.readInt(2),this.internalFileAttributes=r.readInt(2),this.externalFileAttributes=r.readInt(4),this.localHeaderOffset=r.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");r.skip(t),this.readExtraFields(r),this.parseZIP64ExtraField(r),this.fileComment=r.readData(this.fileCommentLength)}processAttributes(){this.unixPermissions=null,this.dosPermissions=null;var r=this.versionMadeBy>>8;this.dir=!!(this.externalFileAttributes&16),r===Rs&&(this.dosPermissions=this.externalFileAttributes&63),r===Bs&&(this.unixPermissions=this.externalFileAttributes>>16&65535),!this.dir&&this.fileNameStr.slice(-1)==="/"&&(this.dir=!0)}parseZIP64ExtraField(r){if(this.extraFields[1]){var t=Xt(this.extraFields[1].value);this.uncompressedSize===Xe&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===Xe&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===Xe&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===Xe&&(this.diskNumberStart=t.readInt(4))}}readExtraFields(r){var t=r.index+this.extraFieldsLength,i,n,a;for(this.extraFields||(this.extraFields={});r.index<t;)i=r.readInt(2),n=r.readInt(2),a=r.readData(n),this.extraFields[i]={id:i,length:n,value:a}}handleUTF8(){var r=j.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=Fe(this.fileName),this.fileCommentStr=Fe(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(t!==null)this.fileNameStr=t;else{var i=Z(r,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(i)}var n=this.findExtraFieldUnicodeComment();if(n!==null)this.fileCommentStr=n;else{var a=Z(r,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(a)}}}findExtraFieldUnicodePath(){var r=this.extraFields[28789];if(r){var t=Xt(r.value);return t.readInt(1)!==1||pt(this.fileName)!==t.readInt(4)?null:Fe(t.readData(r.length-5))}return null}findExtraFieldUnicodeComment(){var r=this.extraFields[25461];if(r){var t=Xt(r.value);return t.readInt(1)!==1||pt(this.fileComment)!==t.readInt(4)?null:Fe(t.readData(r.length-5))}return null}},Br=class{constructor(r){this.files=[],this.loadOptions=r}checkSignature(r){if(!this.reader.readAndCheckSignature(r)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+Ar(t)+", expected "+Ar(r)+")")}}isSignature(r,t){var i=this.reader.index;this.reader.setIndex(r);var n=this.reader.readString(4),a=n===t;return this.reader.setIndex(i),a}readBlockEndOfCentral(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var r=this.reader.readData(this.zipCommentLength),t=j.uint8array?"uint8array":"array",i=Z(t,r);this.zipComment=this.loadOptions.decodeFileName(i)}readBlockZip64EndOfCentral(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var r=this.zip64EndOfCentralSize-44,t=0,i,n,a;t<r;)i=this.reader.readInt(2),n=this.reader.readInt(4),a=this.reader.readData(n),this.zip64ExtensibleData[i]={id:i,length:n,value:a}}readBlockZip64EndOfCentralLocator(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")}readLocalFiles(){var r,t;for(r=0;r<this.files.length;r++)t=this.files[r],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(Dr),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()}readCentralDir(){var r;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(Fr);)r=new Rr({zip64:this.zip64},this.loadOptions),r.readCentralPart(this.reader),this.files.push(r);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)}readEndOfCentral(){var r=this.reader.lastIndexOfSignature(Mr);if(r<0){var t=!this.isSignature(0,Dr);throw t?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory")}this.reader.setIndex(r);var i=r;if(this.checkSignature(Mr),this.readBlockEndOfCentral(),this.diskNumber===Kt||this.diskWithCentralDirStart===Kt||this.centralDirRecordsOnThisDisk===Kt||this.centralDirRecords===Kt||this.centralDirSize===Xe||this.centralDirOffset===Xe){if(this.zip64=!0,r=this.reader.lastIndexOfSignature(ca),r<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(r),this.checkSignature(ca),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,Sr)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(Sr),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(Sr),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var a=i-n;if(a>0)this.isSignature(i,Fr)||(this.reader.zero=a);else if(a<0)throw new Error("Corrupted zip: missing "+Math.abs(a)+" bytes.")}prepareReader(r){this.reader=Xt(r)}load(r){this.prepareReader(r),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}};function Zs(e){return new ue.Promise(function(r,t){var i=e.decompressed.getContentWorker().pipe(new Qt);i.on("error",function(n){t(n)}).on("end",function(){i.streamInfo.crc32!==e.decompressed.crc32?t(new Error("Corrupted zip : CRC32 mismatch")):r()}).resume()})}function $s(e,r){var t=this;return r=Ur(r||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:Fe}),xa("the loaded zip file",e,!0,r.optimizedBinaryString,r.base64).then(function(i){var n=new Br(r);return n.load(i),n}).then(function(n){var a=[ue.Promise.resolve(n)],o=n.files;if(r.checkCRC32)for(var l=0;l<o.length;l++)a.push(Zs(o[l]));return ue.Promise.all(a)}).then(function(n){for(var a=n.shift(),o=a.files,l=0;l<o.length;l++){var d=o[l];t.file(d.fileNameStr,d.decompressed,{binary:!0,optimizedBinaryString:!0,date:d.date,dir:d.dir,comment:d.fileCommentStr.length?d.fileCommentStr:null,unixPermissions:d.unixPermissions,dosPermissions:d.dosPermissions,createFolders:r.createFolders})}return a.zipComment.length&&(t.comment=a.zipComment),t})}var ya=function(e,r,t){var i=Me(r),n,a=Ur(t||{},wa);a.date=a.date||new Date,a.compression!==null&&(a.compression=a.compression.toUpperCase()),typeof a.unixPermissions=="string"&&(a.unixPermissions=parseInt(a.unixPermissions,8)),a.unixPermissions&&a.unixPermissions&16384&&(a.dir=!0),a.dosPermissions&&a.dosPermissions&16&&(a.dir=!0),a.dir&&(e=Ca(e)),a.createFolders&&(n=Hs(e))&&Ea.call(this,n,!0);var o=i==="string"&&a.binary===!1&&a.base64===!1;(!t||typeof t.binary>"u")&&(a.binary=!o);var l=r instanceof Se&&r.uncompressedSize===0;(l||a.dir||!r||r.length===0)&&(a.base64=!1,a.binary=!0,r="",a.compression="STORE",i="string");var d=null;r instanceof Se||r instanceof W?d=r:d=xa(e,r,a.binary,a.optimizedBinaryString,a.base64);var s=new Or(e,d,a);this.files[e]=s},Hs=function(e){e.slice(-1)==="/"&&(e=e.substring(0,e.length-1));var r=e.lastIndexOf("/");return r>0?e.substring(0,r):""},Ca=function(e){return e.slice(-1)!=="/"&&(e+="/"),e},Ea=function(e,r){return r=typeof r<"u"?r:ba,e=Ca(e),this.files[e]||ya.call(this,e,null,{dir:!0,createFolders:r}),this.files[e]};function _a(e){return Object.prototype.toString.call(e)==="[object RegExp]"}var _t=class e{constructor(){if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){let r=new e;for(let t in this)typeof this[t]!="function"&&(r[t]=this[t]);return r}}load(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")}forEach(r){var t,i,n;for(t in this.files)n=this.files[t],i=t.slice(this.root.length,t.length),i&&t.slice(0,this.root.length)===this.root&&r(i,n)}filter(r){var t=[];return this.forEach(function(i,n){r(i,n)&&t.push(n)}),t}file(r,t,i){if(arguments.length===1)if(_a(r)){var n=r;return this.filter(function(o,l){return!l.dir&&n.test(o)})}else{var a=this.files[this.root+r];return a&&!a.dir?a:null}else r=this.root+r,ya.call(this,r,t,i);return this}folder(r){if(!r)return this;if(_a(r))return this.filter(function(a,o){return o.dir&&r.test(a)});var t=this.root+r,i=Ea.call(this,t),n=this.clone();return n.root=i.name,n}remove(r){r=this.root+r;var t=this.files[r];if(t||(r.slice(-1)!=="/"&&(r+="/"),t=this.files[r]),t&&!t.dir)delete this.files[r];else for(var i=this.filter(function(a,o){return o.name.slice(0,r.length)===r}),n=0;n<i.length;n++)delete this.files[i[n].name];return this}generate(r){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")}generateInternalStream(r){var t,i={};try{if(i=Ur(r||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:dt}),i.type=i.type.toLowerCase(),i.compression=i.compression.toUpperCase(),i.type==="binarystring"&&(i.type="string"),!i.type)throw new Error("No output type specified.");mt(i.type),(i.platform==="darwin"||i.platform==="freebsd"||i.platform==="linux"||i.platform==="sunos")&&(i.platform="UNIX"),i.platform==="win32"&&(i.platform="DOS");var n=i.comment||this.comment||"";t=Ls(this,i,n)}catch(a){t=new W("error"),t.error(a)}return new Jt(t,i.type||"string",i.mimeType)}generateAsync(r,t){return this.generateInternalStream(r).accumulate(t)}loadAsync(r,t){return $s.apply(this,[r,t])}static loadAsync(r,t){return new e().loadAsync(r,t)}static get support(){return j}static get defaults(){return wa}static get version(){return"3.2.2-esm"}static get external(){return ue}};var Te=class Te{static notInclude(...r){return t=>t.value&&typeof t.value=="string"&&r.some(i=>t.value.toLowerCase().includes(i.toLowerCase()))?{notInclude:!0}:null}static notMatch(...r){return t=>t.value&&r.some(i=>t.value.toLowerCase()===i.toLowerCase())?{notMatch:!0}:null}static modId(r){return[...Te.modTitle,N.pattern(`[a-z0-9${r}]+`)]}};Te.modIdMinLength=3,Te.modIdMaxLength=63,Te.modTitle=[N.required,N.minLength(Te.modIdMinLength),N.maxLength(Te.modIdMaxLength)];var me=Te;var Ye="it.crystalnest",Sa="it/crystalnest",qe=["Crystal Spider","Moonstone Webber","Noir"],Hr="cobweb_mod_template",vt="cobweb-mod-template",Ta="Cobweb Mod Template",ce="crystal-nest",Aa=`https://raw.githubusercontent.com/${ce}/mod-fancy-assets/main/${Hr}/banner.png`,Ia=/\*\*Support us\*\*(.|\n)*/,za=["fabric","forge","neoforge"],Oa=["maven","github","modrinth","curseforge"];var ir=(()=>{let r=class r{};r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=qr({type:r,selectors:[["","step",""]],standalone:!0});let e=r;return e})();function js(e,r){if(e&1&&_(0),e&2){let t=ie(2).$implicit;Re(t.label)}}function Ws(e,r){e&1&&(_(0,`
            `),B(1,"cn-button",5),_(2,`
          `))}function Vs(e,r){e&1&&(_(0,`
            `),B(1,"cn-button",6),_(2,`
          `))}function Ks(e,r){if(e&1&&(_(0,`
      `),L(1,"mat-step"),_(2,`
        `),Q(3,js,1,1,"ng-template",2),_(4,`
        `),ni(5,3),_(6,`
        `),L(7,"div",4),_(8,`
          `),Q(9,Ws,3,0)(10,Vs,3,0),R(),_(11,`
      `),R(),_(12,`
    `)),e&2){let t=ie(),i=t.$index,n=t.$implicit,a=ie();M(5),K("ngTemplateOutlet",a.contents.get(i)),M(4),pe(9,(!n.hasBack||n.hasBack())&&i>0?9:-1),M(),pe(10,(!n.hasNext||n.hasNext())&&i<a.steps.length-1?10:-1)}}function Gs(e,r){if(e&1&&(_(0,`
    `),Q(1,Ks,13,3)),e&2){let t=r.$implicit;M(),pe(1,!t.isVisible||t.isVisible()?1:-1)}}var Da=(()=>{let r=class r{constructor(){this.steps=[]}};r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=ge({type:r,selectors:[["cn-stepper"]],contentQueries:function(n,a,o){if(n&1&&oi(o,ir,4,ai),n&2){let l;wt(l=kt())&&(a.contents=l)}},inputs:{steps:"steps"},standalone:!0,features:[xe],decls:6,vars:1,consts:[["animationDuration","0","orientation","horizontal",3,"linear"],["stepper",""],["matStepLabel",""],[3,"ngTemplateOutlet"],[1,"cn-stepper-footer"],["icon","keyboard_arrow_left","label","Previous","stepperKind","previous"],["icon","keyboard_arrow_right","label","Next","stepperKind","next"]],template:function(n,a){n&1&&(L(0,"mat-stepper",0,1),_(2,`
  `),ri(3,Gs,2,1,null,null,ti),R(),_(5,`
`)),n&2&&(K("linear",!0),M(3),ii(a.steps))},dependencies:[ci,di,xi,vi,mi,gi,yt],styles:["[_nghost-%COMP%]   .cn-stepper-footer[_ngcontent-%COMP%]{display:grid;grid-auto-flow:column;margin-top:24px}[_nghost-%COMP%]   .cn-stepper-footer[_ngcontent-%COMP%] > cn-button[stepperkind=previous][_ngcontent-%COMP%]{justify-self:flex-start}[_nghost-%COMP%]   .cn-stepper-footer[_ngcontent-%COMP%] > cn-button[stepperkind=next][_ngcontent-%COMP%]{justify-self:flex-end}"]});let e=r;return e})();function Ys(e,r){if(e&1&&(L(0,"mat-hint"),_(1),R()),e&2){let t=ie();M(),Re(t.hint)}}function qs(e,r){if(e&1&&(L(0,"mat-error"),_(1),R()),e&2){let t=ie();M(),Re(t.errorMessage)}}var Fa=(()=>{let r=class r extends Bi{constructor(i,n,a){super(n,a),this.ngZone=i,this.regex=/(.|\n)*/}blur(){this.onTouched()}input(){this.writeValue(this.value)}resize(){this.ngZone.onStable.pipe(Gr(1)).subscribe(()=>this.textarea.resizeToFitContent(!0))}};r.\u0275fac=function(n){return new(n||r)(Ne(Qr),Ne(Ai),Ne(Jr))},r.\u0275cmp=ge({type:r,selectors:[["cn-textarea"]],viewQuery:function(n,a){if(n&1&&si(Et,5),n&2){let o;wt(o=kt())&&(a.textarea=o.first)}},inputs:{regex:"regex"},standalone:!0,features:[bt,xe],decls:11,vars:8,consts:[["appearance","outline","floatLabel","auto"],["autocomplete","off","cdkAutosizeMinRows","1","cdkTextareaAutosize","","charFilter","","matInput","",3,"disabled","errorStateMatcher","regex","required","ngModel","ngModelChange","blur","input"]],template:function(n,a){n&1&&(_(0,`
`),L(1,"mat-form-field",0),_(2,`
  `),L(3,"mat-label"),_(4),R(),_(5,`
  `),L(6,"textarea",1),Le("ngModelChange",function(l){return a.value=l})("blur",function(){return a.blur()})("input",function(){return a.input()}),R(),_(7,`
  `),Q(8,Ys,2,1,"mat-hint")(9,qs,2,1,"mat-error"),R(),_(10,`
`)),n&2&&(M(4),Re(a.label),M(2),K("disabled",a.isDisabled)("errorStateMatcher",a.errorMatcher)("regex",a.regex)("required",a.isRequired)("ngModel",a.value),M(2),pe(8,a.hint?8:-1),M(),pe(9,a.invalid?9:-1))},dependencies:[Pi,Ti,Ct,Mi,zi,$i,Zi,Ei,ki,Ci,yi,Et,Hi],styles:["[_nghost-%COMP%]{-webkit-user-select:none;user-select:none}"]});let e=r;return e})();function Js(e,r){if(e&1&&(_(0,`
      `),L(1,"div",5),_(2,`
        `),B(3,"cn-select",6),_(4,`
        `),B(5,"cn-checkbox",7),_(6,`
        `),B(7,"cn-select",8),_(8,`
        `),B(9,"cn-select",9),_(10,`
      `),R(),_(11,`
    `)),e&2){let t=ie();M(3),K("options",t.versions),M(4),K("multiple",!0)("options",t.loaders),M(2),K("multiple",!0)("options",t.platforms)}}function Qs(e,r){e&1&&(_(0,`
      `),L(1,"div",5),_(2,`
        `),B(3,"cn-input",10),_(4,`
        `),B(5,"cn-checkbox",11),_(6,`
        `),B(7,"cn-input",12),_(8,`
        `),B(9,"cn-input",13),_(10,`
      `),R(),_(11,`
    `))}function el(e,r){e&1&&(_(0,`
      `),L(1,"div",5),_(2,`
        `),B(3,"cn-textarea",14),_(4,`
      `),R(),_(5,`
    `))}function tl(e,r){e&1&&(_(0,`
      `),L(1,"div",5),_(2,`
        `),B(3,"cn-input",15),_(4,`
        `),B(5,"cn-input",16),_(6,`
        `),B(7,"cn-input",17),_(8,`
      `),R(),_(9,`
    `))}var Ma=(()=>{let r=class r extends Ri{constructor(){super(...arguments),this.steps=[{label:"Minecraft and loaders"},{label:"Project details"},{label:"Project description",hasNext:()=>!this.form.controls.crystalNestMod.value},{label:"Ownership",isVisible:()=>!this.form.controls.crystalNestMod.value}],this.loaders=Li,this.platforms={maven:"Maven",github:"GitHub",modrinth:"Modrinth",curseforge:"CurseForge"}}ngOnInit(){this.valueChanges("autogenModId",i=>{i?(this.form.controls.modId.disable(),this.form.controls.modIdKebab.disable(),this.updateModId(this.form.controls.modTitle.value)):(this.form.controls.modId.enable(),this.form.controls.modIdKebab.enable())}),this.valueChanges("modTitle",i=>this.updateModId(i),i=>(i??0)===i&&this.form.controls.autogenModId.value),this.valueChanges("crystalNestMod",i=>{i?(this.form.controls.group.disable(),this.form.controls.authors.disable(),this.form.controls.githubUser.disable(),this.form.controls.group.setValue(Ye),this.form.controls.authors.setValue(qe.join(", ")),this.form.controls.githubUser.setValue(ce),this.form.controls.group.setValidators([N.required]),this.form.controls.authors.setValidators([N.required]),this.form.controls.githubUser.setValidators([N.required])):(this.form.controls.group.enable(),this.form.controls.authors.enable(),this.form.controls.githubUser.enable(),this.form.controls.group.setValue(""),this.form.controls.authors.setValue(""),this.form.controls.githubUser.setValue(""),this.form.controls.group.setValidators([N.required,me.notInclude(Ye,".idea","common","fabric","forge","neoforge","gradle","wrapper","src","main","java","resources","mixin","platform","model","services","META-INF")]),this.form.controls.authors.setValidators([N.required,me.notInclude(...qe)]),this.form.controls.githubUser.setValidators([N.required,me.notMatch(ce)])),this.form.controls.group.updateValueAndValidity(),this.form.controls.authors.updateValueAndValidity(),this.form.controls.githubUser.updateValueAndValidity()})}initForm(){return{minecraftVersion:new X("1.20.4",{nonNullable:!0,validators:N.required}),group:new X(Ye,{nonNullable:!0,validators:N.required}),authors:new X(qe.join(", "),{nonNullable:!0,validators:N.required}),modTitle:new X("Cobweb Mod Skeleton",{nonNullable:!0,validators:me.modTitle}),modId:new X("cobweb_mod_skeleton",{nonNullable:!0,validators:me.modId("_")}),modIdKebab:new X("cobweb-mod-template",{nonNullable:!0,validators:me.modId("-")}),loaders:new X(["fabric","forge","neoforge"],{nonNullable:!0,validators:N.required}),platforms:new X(["maven","github","modrinth","curseforge"],{nonNullable:!0,validators:N.required}),githubUser:new X(ce,{nonNullable:!0,validators:N.required}),description:new X("MultiLoader Mod Skeleton!",{nonNullable:!0,validators:N.required}),crystalNestMod:new X(!0,{nonNullable:!0,validators:N.required}),autogenModId:new X(!0,{nonNullable:!0,validators:N.required}),includeConfig:new X(!0,{nonNullable:!0,validators:N.required})}}updateModId(i){this.form.controls.modId.setValue(this.parseModTitle(i,"_")),this.form.controls.modIdKebab.setValue(this.parseModTitle(i,"-"))}parseModTitle(i,n){return i.toLowerCase().replaceAll(/[^0-9a-z]/g," ").trim().replaceAll(" ",n)}};r.\u0275fac=(()=>{let i;return function(a){return(i||(i=xt(r)))(a||r)}})(),r.\u0275cmp=ge({type:r,selectors:[["cn-generator-form"]],inputs:{versions:[Yr.HasDecoratorInputTransform,"versions","versions",i=>i||{}]},standalone:!0,features:[ei,bt,xe],decls:18,vars:3,consts:[[3,"formGroup"],["formControlName","crystalNestMod","label","Are you a Crystal Nest's member?",1,"cn-cell-3"],[3,"steps"],["step",""],["icon","download","label","Download",3,"isDisabled","click"],[1,"cn-grid"],["formControlName","minecraftVersion","hint","Target Minecraft version","label","Minecraft version",1,"cn-cell-6",3,"options"],["formControlName","includeConfig","label","Include configuration",1,"cn-cell-6"],["formControlName","loaders","hint","Which mod loaders to support","label","Loaders",1,"cn-cell-6",3,"multiple","options"],["formControlName","platforms","hint","Which platforms to publish on","label","Platforms",1,"cn-cell-6",3,"multiple","options"],["formControlName","modTitle","label","Mod title",1,"cn-cell-6"],["formControlName","autogenModId","label","Autogenerate IDs",1,"cn-cell-6"],["formControlName","modId","hint","Mod unique identifier","label","Mod ID","regex","^[a-z0-9_]+$",1,"cn-cell-6"],["formControlName","modIdKebab","label","Mod ID kebab-case","regex","^[a-z0-9-]+$",1,"cn-cell-6"],["formControlName","description","label","Mod description",1,"cn-cell-6"],["formControlName","group","hint","Java group, es. `it.crystalnest`","label","Java group",1,"cn-cell-4"],["formControlName","authors","hint","List of authors separated by a comma","label","Mod authors",1,"cn-cell-4"],["formControlName","githubUser","hint","Name of the GitHub account/organization where the source code is hosted","label","GitHub owner",1,"cn-cell-4"]],template:function(n,a){n&1&&(L(0,"form",0),_(1,`
  `),B(2,"cn-toggle",1),_(3,`
  `),L(4,"cn-stepper",2),_(5,`
    `),Q(6,Js,12,5,"ng-template",3),_(7,`
    `),Q(8,Qs,12,0,"ng-template",3),_(9,`
    `),Q(10,el,6,0,"ng-template",3),_(11,`
    `),Q(12,tl,10,0,"ng-template",3),_(13,`
  `),R(),_(14,`
`),R(),_(15,`
`),L(16,"cn-button",4),Le("click",function(){return a.emitSubmit()}),R(),_(17,`
`)),n&2&&(K("formGroup",a.form),M(4),K("steps",a.steps),M(12),K("isDisabled",!a.validity))},dependencies:[ir,_i,Ni,Oi,Ct,Ii,Di,Fi,ji,Ui,Da,Vi,Wi,yt,Fa]});let e=r;return e})();var nr=(()=>{let r=class r extends Si{getMinecraftVersions(){return this.get("https://api.github.com/repos/crystal-nest/cobweb-mod-template/branches",{headers:{"X-GitHub-Api-Version":"2022-11-28"}}).pipe(Kr(i=>i.reverse().reduce((n,a)=>Wr(jr({},n),{[a.name]:a.name}),{})))}getTemplate(i){return this.post("/api/workers/github-repo-archive",{user:ce,repo:vt,branch:i},{responseType:"arraybuffer"})}};r.\u0275fac=(()=>{let i;return function(a){return(i||(i=xt(r)))(a||r)}})(),r.\u0275prov=Xr({token:r,factory:r.\u0275fac});let e=r;return e})();function il(e,r){if(e&1&&(_(0,`
  `),B(1,"mat-progress-bar",1),_(2,`
`)),e&2){let t=ie();M(),K("mode",t.progressMode)("value",t.progress)}}var lf=(()=>{let r=class r{constructor(i){this.templateService=i,this.versions$=this.templateService.getMinecraftVersions(),this.progressMode="query",this.progress=-1}buildSkeleton(i){this.progress=0,this.templateService.getTemplate(i.minecraftVersion).subscribe(n=>new _t().loadAsync(n).then(a=>this.processTemplate(a,i).generateAsync({type:"blob"}).then(o=>this.download(o,i.modIdKebab))))}processTemplate(i,{minecraftVersion:n,loaders:a,platforms:o,group:l,modId:d,modIdKebab:s,modTitle:f,authors:g,description:u,githubUser:h,includeConfig:x,crystalNestMod:z}){this.progressMode="determinate";let v=new _t,m=!z,k=!x,w=`${vt}-${n}`,c=za.filter(I=>!a.includes(I)),E=Oa.filter(I=>!o.includes(I)),O=100/Object.keys(i.files).length,p=[w,s],y=[Hr,d],C=[vt,s],b=[Ta,f],S=[Ye,l,m],J=[Sa,l.replaceAll(".","/"),m],ae=[/.*fcap.*\n/,"",k],Pe=this.loadersChanges(c);return i.forEach((I,V)=>{if(!(m&&I.includes(".github")||k&&I.includes("config")||c.some(ve=>I.startsWith(`${w}/${ve}`))))switch(!0){case V.dir:v.folder(this.process(I,[p,J,y]));break;case I===`${w}/build.gradle`:v.file(this.process(I,[p]),V.async("string").then(ve=>this.processBuildGradle(this.process(ve,[[/.*sonar.*\n(.*({|})\n){0,2}\n?/gi,"",m],ae,[/\s*maven.*\n(.*Fuzs.*\n){2}\s*}/,"",k]]),c,E)));break;case I.endsWith("build.gradle"):v.file(this.process(I,[p]),this.alter(V,[ae]));break;case I.endsWith("gradle.properties"):v.file(this.process(I,[p]),this.alter(V,[S,[qe.join(", "),g,m],b,C,y,[/^description = .*$/m,`description = ${u.trim().replaceAll(`
`,"\\n")}`],[ce,h,m],ae,...Pe]));break;case I.endsWith("README.md"):v.file(this.process(I,[p]),this.alter(V,[[Aa,"Banner link here...",m],[`github.com/${ce}`,`github.com/${h}`,m],b,C,y,[Ia,`**Support us**

Social links here...
`,m],[/-.*configuration.*\n/,"",x],...Pe]));break;case I.endsWith("settings.gradle"):v.file(this.process(I,[p]),this.alter(V,[C,...Pe]));break;case(I.endsWith(".jar")||I.endsWith(".png")):v.file(this.process(I,[p,y,C]),V.async("arraybuffer"));break;case I.endsWith("CommonModLoader.java"):v.file(this.process(I,[p,J,y]),this.alter(V,[[/\n.*config.*\n */gi,"",k],S,y]));break;case I.endsWith("fabric.mod.json"):v.file(this.process(I,[p]),this.alter(V,[[/,\n.*fcap.*/,"",k],[/https.*modrinth.*mod\//,o.includes("curseforge")?"www.curseforge.com/minecraft/mc-mods/":"github.com/${github_user}/",E.includes("modrinth")]]));break;case I.endsWith("mods.toml"):v.file(this.process(I,[p]),this.alter(V,[[/.*(\n.*){3}fcap(.*\n){3}/,"",k],["updateJSONURL","#updateJSONURL",E.includes("modrinth")]]));break;default:v.file(this.process(I,[p,J,S,y]),this.alter(V,[S,C,y]));break}this.progress+=O}),this.progress=100,v}processBuildGradle(i,n,a){let o=i;return n.length&&(n.includes("fabric")&&(o=o.replace(/'isFabric \\? remapJar : jar/gi,"jar").replace(/', "fabric\\.mod\\.json"/gi,"").replace(/'if.+fabric.+\\n.+\\n\\s+}\n/gi,"").replace(/'isFabric/gi,"false")),o=o.replace(new RegExp(`(.*\\b(${n.join("|")})(\\b|_).+)+(\\s*break)?\\n?`,"gi"),"")),a.forEach(l=>{switch(l){case"maven":o=o.replace(/\n  publishing(.*\n)+(\s+}){4,}\n/gi,"").replace(/.*\bpublish\b.*\n/g,"");break;case"github":o=o.replace(/\n  githubRelease(.*\n){1,32}.+noPublish\n  }\n/gi,"").replace(/.*github-?release.*\n/gi,"");break;case"modrinth":o=o.replace(/\n  modrinth(.*\n){1,32}.+noPublish\n  }\n/gi,"").replace(/.*modrinth.*\n/gi,"");break;case"curseforge":o=o.replace(/\n  curseforge(.*\n){1,32}.+noPublish\n    }\n  }\n/gi,"").replace(/.*curse.*\n/gi,"");break}}),o}loadersChanges(i){return i.flatMap(n=>[[new RegExp(`maven.+\\n.+"${n}"\\n.+\\n.+\\s+`,"i"),""],[new RegExp(`include\\("${n}"\\)\\n`,"i"),""],[new RegExp(`# ${n}\\n.*\\n.*\\n\\n`,"i"),""],[new RegExp(`\\[!\\[${n}.+l=${n}\\)(!.{95})?`,"i"),""]])}alter(i,n){return Vr(this,null,function*(){return this.process(yield i.async("string"),n)})}process(i,n){return n.reduce((a,[o,l,d])=>d??!0?a[typeof o=="string"?"replaceAll":"replace"](o,l):a,i)}download(i,n){let a=document.createElement("a");a.style.display="none",a.href=URL.createObjectURL(i),a.download=`cobweb-mod-skeleton (${n})`,document.body.appendChild(a),a.click(),a.remove(),this.progress=-1,this.progressMode="indeterminate"}};r.\u0275fac=function(n){return new(n||r)(Ne(nr))},r.\u0275cmp=ge({type:r,selectors:[["cn-generator"]],standalone:!0,features:[li([nr]),xe],decls:5,vars:4,consts:[[3,"versions","onSubmit"],[3,"mode","value"]],template:function(n,a){n&1&&(_(0,`This generator assumes the use of IntelliJ IDEA as IDE. Etc.
`),L(1,"cn-generator-form",0),Le("onSubmit",function(l){return a.buildSkeleton(l)}),fi(2,"async"),R(),_(3,`
Follow the instruction on the readme to finish the setup!
`),Q(4,il,3,2)),n&2&&(M(),K("versions",hi(2,2,a.versions$)),M(3),pe(4,a.progress>=0?4:-1))},dependencies:[ui,pi,Ma,wi,bi]});let e=r;return e})();export{lf as GeneratorComponent};
